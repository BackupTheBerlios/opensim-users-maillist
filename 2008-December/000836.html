<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] oddities with SecondInventory and Opensim 770x
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20oddities%20with%20SecondInventory%20and%20Opensim%20770x&In-Reply-To=%3C4947DFAA.6040904%40metaverseink.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000835.html">
   <LINK REL="Next"  HREF="000831.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] oddities with SecondInventory and Opensim 770x</H1>
    <B>Diva Canto</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20oddities%20with%20SecondInventory%20and%20Opensim%20770x&In-Reply-To=%3C4947DFAA.6040904%40metaverseink.com%3E"
       TITLE="[Opensim-users] oddities with SecondInventory and Opensim 770x">diva at metaverseink.com
       </A><BR>
    <I>Tue Dec 16 18:04:42 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000835.html">[Opensim-users] oddities with SecondInventory and Opensim 770x
</A></li>
        <LI>Next message: <A HREF="000831.html">[Opensim-users] Mono build 1.91 dependency problems ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#836">[ date ]</a>
              <a href="thread.html#836">[ thread ]</a>
              <a href="subject.html#836">[ subject ]</a>
              <a href="author.html#836">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There seems to be a lot of things going on here, according to the log 
messages. For starters, inventory lookup is failing. Let's take this to 
mantis, so we can properly identify and reproduce the situation. It 
would be good to know if the problem still persists in the current head.

Lc wrote:
&gt;<i> i'm running 7703 but i'm not sure if all these issues are 
</I>&gt;<i> SecondIventory only.
</I>&gt;<i>
</I>&gt;<i> The 3 &quot;new user&quot; didn&quot;t fired it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Dec 16, 2008 at 5:54 PM, Diva Canto &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">diva at metaverseink.com</A> 
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">diva at metaverseink.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     SM,
</I>&gt;<i>
</I>&gt;<i>     It may be worth finding exactly which version of opensim breaks
</I>&gt;<i>     SecondInventory. There have been major changes in OpenSim from
</I>&gt;<i>     7700 to the current head. SecondInventory may make some
</I>&gt;<i>     assumptions about the way things worked before. This is probably
</I>&gt;<i>     better handled in mantis too.
</I>&gt;<i>
</I>&gt;<i>     Crista
</I>&gt;<i>
</I>&gt;<i>     Lc wrote:
</I>&gt;&gt;<i>     ok, after some tests i got on the regionserver
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     2008-12-16 16:19:48,783 INFO  -
</I>&gt;&gt;<i>     OpenSim.Region.Environment.Modules.Avatar.Friends.FriendsModule
</I>&gt;&gt;<i>     [FRIEND]: Claiming brat online in region:4068193023718400.
</I>&gt;&gt;<i>     2008-12-16 16:19:48,814 INFO  -
</I>&gt;&gt;<i>     OpenSim.Region.Environment.Modules.Avatar.AvatarFactory.AvatarFactoryModule
</I>&gt;&gt;<i>     [APPEARANCE]: Found : [Wearables] =&gt; Body Item:
</I>&gt;&gt;<i>     66c41e39-38f9-f75a-024e-585989bfaba9; Skin Item:
</I>&gt;&gt;<i>     77c41e39-38f9-f75a-024e-585989bfabc9; Shirt Item:
</I>&gt;&gt;<i>     77c41e39-38f9-f75a-0000-585989bf0000; Pants Item:
</I>&gt;&gt;<i>     77c41e39-38f9-f75a-0000-5859892f1111;
</I>&gt;&gt;<i>     2008-12-16 16:19:48,814 ERROR -
</I>&gt;&gt;<i>     OpenSim.Region.Communications.Hypergrid.HGInventoryService [HGrid
</I>&gt;&gt;<i>     INVENTORY SERVICE]: RequestInventoryForUser() - could  not find
</I>&gt;&gt;<i>     user profile for 49ecabf5-e48f-45bd-84e4-c84c4f9af683
</I>&gt;&gt;<i>     2008-12-16 16:19:48,815 DEBUG -
</I>&gt;&gt;<i>     OpenSim.Region.Environment.Scenes.Scene [CAPS]: Setting up CAPS
</I>&gt;&gt;<i>     handler for root agent 49ecabf5-e48f-45bd-84e4-c84c4f9af683 in
</I>&gt;&gt;<i>     Atlantis::Harbour
</I>&gt;&gt;<i>     2008-12-16 16:19:48,815 WARN  -
</I>&gt;&gt;<i>     OpenSim.Framework.Communications.Capabilities.Caps [SEED]:
</I>&gt;&gt;<i>     /CAPS/f87196ed-3d26-44c1-be87-53fa01090000/
</I>&gt;&gt;<i>     2008-12-16 16:19:48,815 DEBUG -
</I>&gt;&gt;<i>     OpenSim.Region.Environment.Modules.Framework.EventQueueGetModule
</I>&gt;&gt;<i>     [EVENTQUEUE] OnRegisterCaps: agentID
</I>&gt;&gt;<i>     49ecabf5-e48f-45bd-84e4-c84c4f9af683 caps
</I>&gt;&gt;<i>     OpenSim.Framework.Communications.Capabilities.Caps region
</I>&gt;&gt;<i>     Atlantis::Harbour
</I>&gt;&gt;<i>     2008-12-16 16:19:48,815 DEBUG -
</I>&gt;&gt;<i>     OpenSim.Region.Environment.Modules.Framework.EventQueueGetModule
</I>&gt;&gt;<i>     [EVENTQUEUE]: Found Existing UUID!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     We tried on 4 new created avatars (first login today) and got the
</I>&gt;&gt;<i>     same result: Inventory still loading and unable to retrieve any
</I>&gt;&gt;<i>     items given.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     We rezzed a prim, toke it saw it in our inventory (still
</I>&gt;&gt;<i>     downloading status) , clear cache, logout and login and noting in
</I>&gt;&gt;<i>     the inventory.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     SM
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     On Tue, Dec 16, 2008 at 2:26 PM, Sean Dague &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">sdague at gmail.com</A>
</I>&gt;&gt;<i>     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">sdague at gmail.com</A>&gt;&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         Lc wrote:
</I>&gt;&gt;<i>         &gt; what i found until now :
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         &gt; The previously inventory items are still in the db, at
</I>&gt;&gt;<i>         least the inventory
</I>&gt;&gt;<i>         &gt; table is not altered whatsoever, but the freshly uploaded
</I>&gt;&gt;<i>         items are not
</I>&gt;&gt;<i>         &gt; inserted.
</I>&gt;&gt;<i>         &gt;
</I>&gt;&gt;<i>         &gt; I need to &quot;sql&quot; the association inventory / Asset now.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         If things &quot;look like they uploaded&quot;, but don't end up in the
</I>&gt;&gt;<i>         db, I'm
</I>&gt;&gt;<i>         pretty sure that's the CAPs fail bug.  Just because something
</I>&gt;&gt;<i>         shows up
</I>&gt;&gt;<i>         in your inventory, doesn't mean it's actually there for real.
</I>&gt;&gt;<i>          For
</I>&gt;&gt;<i>         performance reasons the Lindens made inventory add async, so
</I>&gt;&gt;<i>         you think
</I>&gt;&gt;<i>         it's there before it's really ever made it to the backend.
</I>&gt;&gt;<i>          If all goes
</I>&gt;&gt;<i>         well, it's an optimization.  If it doesn't go well... you are
</I>&gt;&gt;<i>         boned.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         It would be good to see if there were any exceptions on the
</I>&gt;&gt;<i>         simulator
</I>&gt;&gt;<i>         or inventory server during this process.  It may be that one
</I>&gt;&gt;<i>         of the
</I>&gt;&gt;<i>         fields of the object is malformed, and we aren't catching
</I>&gt;&gt;<i>         that softly.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>                -Sean
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         --
</I>&gt;&gt;<i>         Sean Dague / Neas Bade
</I>&gt;&gt;<i>         <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">sdague at gmail.com</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">sdague at gmail.com</A>&gt;
</I>&gt;&gt;<i>         <A HREF="http://dague.net">http://dague.net</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         _______________________________________________
</I>&gt;&gt;<i>         Opensim-users mailing list
</I>&gt;&gt;<i>         <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i>         &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>&gt;
</I>&gt;&gt;<i>         <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     ------------------------------------------------------------------------
</I>&gt;&gt;<i>     _______________________________________________ Opensim-users
</I>&gt;&gt;<i>     mailing list <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i>     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>&gt;
</I>&gt;&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     Opensim-users mailing list
</I>&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>&gt;
</I>&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>   
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20081216/a2123976/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20081216/a2123976/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000835.html">[Opensim-users] oddities with SecondInventory and Opensim 770x
</A></li>
	<LI>Next message: <A HREF="000831.html">[Opensim-users] Mono build 1.91 dependency problems ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#836">[ date ]</a>
              <a href="thread.html#836">[ thread ]</a>
              <a href="subject.html#836">[ subject ]</a>
              <a href="author.html#836">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
