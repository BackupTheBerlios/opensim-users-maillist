<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Multi-core, multi-threading OpenSim
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-August/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Multi-core%2C%20multi-threading%20OpenSim&In-Reply-To=%3C4C6EF0BB.60706%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005307.html">
   <LINK REL="Next"  HREF="005311.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Multi-core, multi-threading OpenSim</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Multi-core%2C%20multi-threading%20OpenSim&In-Reply-To=%3C4C6EF0BB.60706%40googlemail.com%3E"
       TITLE="[Opensim-users] Multi-core, multi-threading OpenSim">jjustincc at googlemail.com
       </A><BR>
    <I>Fri Aug 20 23:16:43 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005307.html">[Opensim-users] Multi-core, multi-threading OpenSim
</A></li>
        <LI>Next message: <A HREF="005311.html">[Opensim-users] Multi-core, multi-threading OpenSim
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5309">[ date ]</a>
              <a href="thread.html#5309">[ thread ]</a>
              <a href="subject.html#5309">[ subject ]</a>
              <a href="author.html#5309">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 20/08/10 19:22, Gwyneth Llewelyn wrote:
&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> A simple and stupid question. I was trying to look for some information
</I>&gt;<i> if OpenSim is multi-threaded and able to automatically run on multiple
</I>&gt;<i> cores, or if due to some limitations of Mono (unknown to me), this is
</I>&gt;<i> impossible. Google seems quiet on this (or I might just have been unable
</I>&gt;<i> to trigger the right combination of keywords that provide me with the
</I>&gt;<i> answer I need).
</I>
Hi Gwyn.  In many places, OpenSim is very multithreaded - each client on the sim gets its own thread, for instance, and 
many client operations are executed with threads from the threadpool.

However, there are some single-thread bottlenecks.  The scene updating thread is one, which might be why you don't see 
activity consistently on all cores.  Changing the number of virtual cores or other configuration parameters won't affect 
this - it's a software issue.

&gt;<i>
</I>&gt;<i> If so, it would make more sense to launch multiple separate Mono
</I>&gt;<i> instances, each running a set of regions, instead of having just one
</I>&gt;<i> instance with all the regions in that server?
</I>
I should think that it's always going to be more efficient to run everything within one Mono instance in order to avoid 
the overhead of multiple runtimes.

&gt;<i>
</I>&gt;<i> What would you recommend as a more reasonable configuration? I usually
</I>&gt;<i> have Linux installations with 4 virtual cores, and from visual
</I>&gt;<i> observation, only two (sometimes even just one!) is being used all the
</I>&gt;<i> time by OpenSim and Robust. Does Mono somehow pre-bind to a single core
</I>&gt;<i> and never changes? (In that case, launching multiple OpenSim instances
</I>&gt;<i> would all get pre-bound on a single core, thus not really making any
</I>&gt;<i> difference?) For a server that is exclusively used for OpenSim, it seems
</I>&gt;<i> a waste to let all those cores run idle...
</I>&gt;<i>
</I>&gt;<i> Thanks for any input on this :)
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> - Gwyn
</I>&gt;<i> --
</I>&gt;<i> &quot;I'm not building a game. I'm building a new country.&quot;
</I>&gt;<i> -- Philip &quot;Linden&quot; Rosedale, interview to Wired, 2004-05-08
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>

-- 
Justin Clark-Casey (justincc)
<A HREF="http://justincc.org">http://justincc.org</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005307.html">[Opensim-users] Multi-core, multi-threading OpenSim
</A></li>
	<LI>Next message: <A HREF="005311.html">[Opensim-users] Multi-core, multi-threading OpenSim
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5309">[ date ]</a>
              <a href="thread.html#5309">[ thread ]</a>
              <a href="subject.html#5309">[ subject ]</a>
              <a href="author.html#5309">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
