<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] fixed terrain..question on updating
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20fixed%20terrain..question%20on%20updating&In-Reply-To=%3C4919CD12.1060306%40mindspring.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000637.html">
   <LINK REL="Next"  HREF="000634.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] fixed terrain..question on updating</H1>
    <B>matt raffel</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20fixed%20terrain..question%20on%20updating&In-Reply-To=%3C4919CD12.1060306%40mindspring.com%3E"
       TITLE="[Opensim-users] fixed terrain..question on updating">matt.raffel at mindspring.com
       </A><BR>
    <I>Tue Nov 11 19:21:06 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000637.html">[Opensim-users] fixed terrain..question on updating
</A></li>
        <LI>Next message: <A HREF="000634.html">[Opensim-users] Terrain load problems for 2x2 grid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#638">[ date ]</a>
              <a href="thread.html#638">[ thread ]</a>
              <a href="subject.html#638">[ subject ]</a>
              <a href="author.html#638">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I use a slightly different approach.  It achieves the same results that 
you are working for, I think.  I'm curious if any sees any problems with 
this approach as well.

I keep my xml files, ini files, region files, etc...in my local source 
control system (I use perforce).  I then have a set of scripts that get 
the latest opensim code, build it, deploy my files and start up the grid.

Matt

Paul Fishwick wrote:
&gt;<i> I restarted all of the servers, and for some reason, that cleared up
</I>&gt;<i> the terrain problem.
</I>&gt;<i>
</I>&gt;<i> On the issue of OpenSim updating procedure, I am curious as to the
</I>&gt;<i> appropriate method. What I have been doing so far is:
</I>&gt;<i>
</I>&gt;<i>  1) For backup, copy the current opensim directory (the one that works)
</I>&gt;<i>  2) Rename the Copy as the one to use for the update
</I>&gt;<i>  3) Download the latest binary
</I>&gt;<i>  4) Copy the bin of #3 over the bin of #2
</I>&gt;<i>  5) Launch servers in the order UGAIM + OpenSim
</I>&gt;<i>
</I>&gt;<i> This seems to work but I wanted to know if it is effective. Also, when 
</I>&gt;<i> trying
</I>&gt;<i> these steps by building from source instead of downloading the
</I>&gt;<i> binary (step 3), something wasn't working correctly and the SQL database 
</I>&gt;<i> was not
</I>&gt;<i> correctly accessed when the UserServer is launched. So, when doing this 
</I>&gt;<i> from source,
</I>&gt;<i> perhaps another method is appropriate.
</I>&gt;<i>
</I>&gt;<i> For clarification, when I build from source, I use TortoiseSVN and download
</I>&gt;<i> using: <A HREF="http://opensimulator.org/svn/opensim/trunk">http://opensimulator.org/svn/opensim/trunk</A> to a new directory. I 
</I>&gt;<i> then &lt;<A HREF="http://opensimulator.org/svn/opensim/trunk">http://opensimulator.org/svn/opensim/trunk</A>&gt;
</I>&gt;<i> click on runprebuild20082008.bat and then on the C# &quot;OpenSim&quot; file which
</I>&gt;<i> launches Visual C# Express. Then, I right click on OpenSim and Build.
</I>&gt;<i>
</I>&gt;<i> -p
</I>&gt;<i>
</I>&gt;<i> Paul Fishwick wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Something else odd - I cannot seem to use terrain commands
</I>&gt;&gt;<i> when in a region other that the default. For example, I'll do:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> change-region Chester
</I>&gt;&gt;<i> ...Currently selected region is Chester
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> and then:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> terrain help yields ===Terrain===   with no help commands listed
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> terrain fill 22 yields No such command exists
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> These commands (including the help) work only when I am in
</I>&gt;&gt;<i> my default region. When I am in the root region, the command,
</I>&gt;&gt;<i> similarly, works only for the default region, with 3 errors produced
</I>&gt;&gt;<i> for the remaining 3 regions in the grid:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Invalid command - No such command exists
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think this is at the root (no pun intended) of the earlier problem.
</I>&gt;&gt;<i> I'll report to Mantis if this is a bug?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -p
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Paul Fishwick wrote:
</I>&gt;&gt;<i>   
</I>&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i> Rhian
</I>&gt;&gt;&gt;<i> I did this as well. I export as RAW using the 32 bit floating point
</I>&gt;&gt;&gt;<i> option. Then I get a file:  terrain.raw. I then move this to
</I>&gt;&gt;&gt;<i> terrain.r32 using a DOS window. I'll send you the file in
</I>&gt;&gt;&gt;<i> another email.
</I>&gt;&gt;&gt;<i> -paul
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Rhian wrote:
</I>&gt;&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;&gt;&gt;<i> Hi Paul,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I have done the same sort of thing recently, but the only thing that I
</I>&gt;&gt;&gt;&gt;<i> have done differently is exporting as .RAW (32-bit floating point),
</I>&gt;&gt;&gt;&gt;<i> then changing to .r32 from the commandline.
</I>&gt;&gt;&gt;&gt;<i> My map is actually a 3 x 1 region, not 2 x 2, but the principle is 
</I>&gt;&gt;&gt;&gt;<i> the same.
</I>&gt;&gt;&gt;&gt;<i> (See OSGrid: BubbleBay-1, 2 and 3)
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> If you want I can take a look at yours.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Rhian
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On Tue, Nov 11, 2008 at 6:08 AM, Paul Fishwick 
</I>&gt;&gt;&gt;&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">fishwick at cise.ufl.edu</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i>  
</I>&gt;&gt;&gt;&gt;<i>       
</I>&gt;&gt;&gt;&gt;<i>         
</I>&gt;&gt;&gt;&gt;&gt;<i> I have an L3DT created 512x512 image that I'd like to use as a terrain
</I>&gt;&gt;&gt;&gt;&gt;<i> on a 2x2 grid (1000,1000) --&gt; (1001,1001). I've followed the
</I>&gt;&gt;&gt;&gt;&gt;<i> instructions in:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="http://opensimulator.org/wiki/Using_L3DT">http://opensimulator.org/wiki/Using_L3DT</A>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> making the size 512x512, and then when I export the heightfield map,
</I>&gt;&gt;&gt;&gt;&gt;<i> I make sure to change the file to an extension of .r32 and ensure 
</I>&gt;&gt;&gt;&gt;&gt;<i> that I
</I>&gt;&gt;&gt;&gt;&gt;<i> click on the Options button to select &quot;32 bit floating point (meters)&quot;
</I>&gt;&gt;&gt;&gt;&gt;<i> just prior to exporting.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> A &quot;terrain load-tile terrain.r32 2 2 1000 1000&quot;
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> yields:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Invalid command - No such command exists
</I>&gt;&gt;&gt;&gt;&gt;<i> ==Terrain==
</I>&gt;&gt;&gt;&gt;&gt;<i> (this repeats 2 more times, and then)
</I>&gt;&gt;&gt;&gt;&gt;<i> [Region DB]: Storing terrain revision r1
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I am in (root), and it seems to treat the 512x512 map as a 256x256
</I>&gt;&gt;&gt;&gt;&gt;<i> map and changes only the region in (1000,1000) instead of all 4
</I>&gt;&gt;&gt;&gt;&gt;<i> regions.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Any ideas? I can email my terrain.r32 file if anyone likes...
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> -p
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;&gt;<i> Opensim-users mailing list
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>     
</I>&gt;&gt;&gt;&gt;&gt;<i>         
</I>&gt;&gt;&gt;&gt;&gt;<i>           
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> Opensim-users mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>   
</I>&gt;&gt;&gt;&gt;<i>       
</I>&gt;&gt;&gt;&gt;<i>         
</I>&gt;&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i>   
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000637.html">[Opensim-users] fixed terrain..question on updating
</A></li>
	<LI>Next message: <A HREF="000634.html">[Opensim-users] Terrain load problems for 2x2 grid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#638">[ date ]</a>
              <a href="thread.html#638">[ thread ]</a>
              <a href="subject.html#638">[ subject ]</a>
              <a href="author.html#638">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
