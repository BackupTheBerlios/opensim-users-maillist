<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Database cleanup
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Database%20cleanup&In-Reply-To=%3C623001.44309.qm%40web63104.mail.re1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003352.html">
   <LINK REL="Next"  HREF="003354.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Database cleanup</H1>
    <B>Karen Palen</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Database%20cleanup&In-Reply-To=%3C623001.44309.qm%40web63104.mail.re1.yahoo.com%3E"
       TITLE="[Opensim-users] Database cleanup">karen_palen at yahoo.com
       </A><BR>
    <I>Tue Dec 22 07:07:29 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003352.html">[Opensim-users] Database cleanup
</A></li>
        <LI>Next message: <A HREF="003354.html">[Opensim-users] Database cleanup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3353">[ date ]</a>
              <a href="thread.html#3353">[ thread ]</a>
              <a href="subject.html#3353">[ subject ]</a>
              <a href="author.html#3353">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That is one way to solve the problem, although I don't know MySQL well enough to figure out how!

I was actually hoping that OpenSim had some built in utility that would do this in a more intelligent way though. Essentially the knowledge about what is deleted or not is fairly high level information within OpenSim itself. A &quot;touch&quot; would at best be an emulation of this.

Ideally this would run regularly and keep down the &quot;cruft&quot; build-up.

Next best would be to dump each region to an OAR file, each avatar's inventory to an IAR file then build a new database from that! It would work, but could take several days of effort to make sure that it was done right. My next thought is to use Second Inventory to do the same thing, but that could be even slower!

Karen

--- On Mon, 12/21/09, LaeMing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">laeming at exemail.com.au</A>&gt; wrote:

&gt;<i> From: LaeMing &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">laeming at exemail.com.au</A>&gt;
</I>&gt;<i> Subject: Re: [Opensim-users] Database cleanup
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> Date: Monday, December 21, 2009, 7:34 PM
</I>&gt;<i> Hmmm. When I was in the DB manually
</I>&gt;<i> editing all my regions' ground textures 
</I>&gt;<i> and so (36 region megaregion, this was far quicker than
</I>&gt;<i> doing it in-sim), I 
</I>&gt;<i> noticed a lot of old regiondata from earlier iterations of
</I>&gt;<i> my OpenSim 
</I>&gt;<i> experiments hanging about too. I was able to hand-delete
</I>&gt;<i> all the unwanted 
</I>&gt;<i> regioninfo from the mySql tools, but the tools didn't want
</I>&gt;<i> to let me enter 
</I>&gt;<i> edit mode for the binary blobs of region heightmaps, so I
</I>&gt;<i> couldn't work out 
</I>&gt;<i> how to hand-delete those.
</I>&gt;<i> 
</I>&gt;<i> I imagine, like Karen, there is also a lot of dangling
</I>&gt;<i> cruft built up in my 
</I>&gt;<i> inventory too. Since I am the only user for now, would it
</I>&gt;<i> be fair to say 
</I>&gt;<i> anything in world or in my current inventory has been
</I>&gt;<i> 'touched' last login, 
</I>&gt;<i> and assuming mySql does (or can) flag touch dates for
</I>&gt;<i> entries, could I just 
</I>&gt;<i> find the method of deleting all entries untouched since my
</I>&gt;<i> last login (after a 
</I>&gt;<i> full backup of course)?
</I>&gt;<i> 
</I>&gt;<i> Lae
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Tuesday December 22 2009 09:52:22 Karen Palen wrote:
</I>&gt;<i> &gt; My OpenSim database now tops 1Gb with only a single
</I>&gt;<i> region!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Looking at the database with MySql tools shows that
</I>&gt;<i> there is a whole lot of
</I>&gt;<i> &gt;&#160; stuff that I have tried and discarded still in
</I>&gt;<i> the database and that it
</I>&gt;<i> &gt;&#160; does not seem to be flagged for removal.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Is there some OpenSim database maintenance tool that I
</I>&gt;<i> haven't found yet?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; How DO people like OSGrid keep the database to a
</I>&gt;<i> manageable size?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Karen
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Opensim-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>

      

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003352.html">[Opensim-users] Database cleanup
</A></li>
	<LI>Next message: <A HREF="003354.html">[Opensim-users] Database cleanup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3353">[ date ]</a>
              <a href="thread.html#3353">[ thread ]</a>
              <a href="subject.html#3353">[ subject ]</a>
              <a href="author.html#3353">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
