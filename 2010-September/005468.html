<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Configure an OpenSim to use the ROBUST services
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Configure%20an%20OpenSim%20to%20use%20the%20ROBUST%20services&In-Reply-To=%3CSNT103-DS18339AEF1FB976F183F547E1700%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005466.html">
   <LINK REL="Next"  HREF="005471.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Configure an OpenSim to use the ROBUST services</H1>
    <B>j_jamesk</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Configure%20an%20OpenSim%20to%20use%20the%20ROBUST%20services&In-Reply-To=%3CSNT103-DS18339AEF1FB976F183F547E1700%40phx.gbl%3E"
       TITLE="[Opensim-users] Configure an OpenSim to use the ROBUST services">j_jamesk at hotmail.com
       </A><BR>
    <I>Tue Sep  7 01:29:01 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005466.html">[Opensim-users] Configure an OpenSim to use the ROBUST services
</A></li>
        <LI>Next message: <A HREF="005471.html">[Opensim-users] Configure an OpenSim to use the ROBUST services
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5468">[ date ]</a>
              <a href="thread.html#5468">[ thread ]</a>
              <a href="subject.html#5468">[ subject ]</a>
              <a href="author.html#5468">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I&#146;ve actually got mine working tonight:

I&#146;m using a Vigor2820n setting the &quot;NAT &gt;&gt; Port Redirection&quot; ports 8002,
8003 , 9000 to local IP of the server, then under &quot;NAT &gt;&gt; Open Ports&quot;
TCP/UDP 8000-8004 TCP/UDP 9000-9440 to local IP of the server, I also found
that my region.ini still had the ExternalHostName = SYSTEMIP which was an
oversight and I left the InternalAddress set to &quot;0.0.0.0&quot;, its all working
now and have had 2 friends login :o)

If it's of any help I don't mind making screenshots my Vigor2820n for anyone
else who has one or to add to the list of working ADSL routers.

James


________________________________________
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>
[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>] On Behalf Of Karen Palen
Sent: 06 September 2010 22:05
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
Subject: Re: [Opensim-users] Configure an OpenSim to use the ROBUST services

I am using an Airlink ar325W - this is a low end consumer router/wifi that I
bought on sale for $14.95!

I HAVE found that the box running OpenSim must be in the &quot;DMZ&quot; (open access
to ALL ports) AND I need each port individually routed to that IP address
(192.161.1.107 in my case). 

It appears that the handshaking process when you connect to a region opens a
random port in the 60000 range which it needs to connect.

You also need to be sure that EVERY reference both in the config,ini
(myworld.ini for diva) and the regions.ini point to the SAME URL.

In my case that is normally: <A HREF="http://mars-simulator.hobby-site.org:9000/wifi">http://mars-simulator.hobby-site.org:9000/wifi</A>
(polite visitors welcome :-) ). 

This weekend I did a demo at a SciFi convention with no Internet connection
and changed both INI files to &quot;192.168.1.107&quot;. Everything worked fine after
a few minutes of waiting for the old settings to timeout. 

Naturally Hypergrid did not work, but everything else worked just fine!

I have just reset everything to the normal external address
<A HREF="http://mars-simulator.hobby-site.org:9000/wifi">http://mars-simulator.hobby-site.org:9000/wifi</A> and things started up with no
problems - so far. :-)

I definitely suggest setting up the Diva distro to start with if only to
resolve these kinds of issues and give you a &quot;gold standard&quot; for reference!

In my case (10 regions, max 6 users at once) the Diva distro has proven more
than adequate for my needs. 

I am using a low end AMD Athlon II X3 445 (3 core) processor (Fry's for $64)
which handles the CPU load nicely (more in the wiki ASAP)

Karen
On Sat, Sep 4, 2010 at 7:51 AM, Damon Hindermann &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">damonh74 at gmail.com</A>&gt; wrote:
If your client and server are on the same side of the router, then you must
have loopback enabled on the router. &#160;Check to be sure your router is on the
&quot;approved&quot; list since opensim does something very funky in its
communications.

I had my router set up with loopback and had the manufacturer verify that
loopback was enabled and that rules were being created. &#160;Everything was as
it should be, however, opensim still did not work. &#160;I finally purchased a
Linksys router that runs DD-WRT. &#160;I needed a router that provides many more
services than a consumer router provides and DD-WRT does most.

I hope that this eventually this gets fixed in opensim since other
client/server applications work fine without needing &quot;special&quot; routers.
Until then, getting a router on the approved list is the only way.

-Damon

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>
[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>] On Behalf Of
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">j_jamesk at hotmail.com</A>
Sent: Saturday, September 04, 2010 5:29 AM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
Subject: Re: [Opensim-users] Configure an OpenSim to use the ROBUST services


&#160;just a little update:

have now tried adding the external IP address as the InternalAddress in the
region.ini as suggested by Ben and have added the entry in the host file,
still getting up to the &quot;Waiting for region handshake...&quot; then the usual
&quot;we're having trouble connecting, there may be a problem with your internet&quot;

error in the emerald client but i have also tried metabolt (text client) and
i get &quot;avatar did not rezz as expected&quot;.

now the opensim server is running from my friends ADSL line with a 512mb
upload speed in theory i should still be able to connect and the avatar
should rezz (maybe slowly) or is the upload too small to support a
connection?

Thanks
James

--------------------------------------------------
From: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">j_jamesk at hotmail.com</A>&gt;
Sent: Friday, September 03, 2010 10:42 PM
To: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>&gt;
Subject: [Opensim-users] Configure an OpenSim to use the ROBUST services

&gt;<i> Hi Folks
</I>&gt;<i>
</I>&gt;<i> My friend and I are working on setting up Opensim in grid mode
</I>&gt;<i> (robust), so everything seems to be working okay when accessed the
</I>&gt;<i> grid from the lan using -loginuri <A HREF="http://XXXXXX.dyndns.org:8002">http://XXXXXX.dyndns.org:8002</A> for
</I>&gt;<i> the login url but when I try to access the grid from an external location
</I>it hanging :
&gt;<i>
</I>&gt;<i> [14:11] &#160;Logging in. Viewer may appear frozen. &#160;Please wait.
</I>&gt;<i> [14:11] &#160;Logging in...
</I>&gt;<i> [14:11] &#160;Processing Response...
</I>&gt;<i> [14:11] &#160;Initializing World...
</I>&gt;<i> [14:11] &#160;Initializing multimedia...
</I>&gt;<i> [14:11] &#160;Decoding images...
</I>&gt;<i> [14:11] &#160;Waiting for region handshake...
</I>&gt;<i> [14:11] &#160;MOTD: United we stand, divided we fall.
</I>&gt;<i>
</I>&gt;<i> with a message that there was a problem while trying to connect.
</I>&gt;<i>
</I>&gt;<i> Ports 9000-9010 tcp and udp are open on both router and xp firewall,
</I>&gt;<i> so my next line of thought was the region.ini there is no mention
</I>&gt;<i> (that i can find) that says you can't still using the 9000 range in
</I>&gt;<i> the region.ini when in grid mode, here is an example of the
</I>&gt;<i> region.ini, do you have to specify an InternalAddress if your going to
</I>&gt;<i> access the grid from an external network
</I>&gt;<i>
</I>&gt;<i> [Europe 1]
</I>&gt;<i> RegionUUID = &quot;397fd0f8-4279-48d6-8ce2-573d915630dd&quot;
</I>&gt;<i> Location = &quot;4168,4665&quot;
</I>&gt;<i> InternalAddress = &quot;0.0.0.0&quot;
</I>&gt;<i> InternalPort = 9000
</I>&gt;<i> AllowAlternatePorts = False
</I>&gt;<i> ExternalHostName = &quot;XXXXXX.dyndns.org&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks in advance for the help.
</I>&gt;<i>
</I>&gt;<i> James
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>_______________________________________________
Opensim-users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>

_______________________________________________
Opensim-users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005466.html">[Opensim-users] Configure an OpenSim to use the ROBUST services
</A></li>
	<LI>Next message: <A HREF="005471.html">[Opensim-users] Configure an OpenSim to use the ROBUST services
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5468">[ date ]</a>
              <a href="thread.html#5468">[ thread ]</a>
              <a href="subject.html#5468">[ subject ]</a>
              <a href="author.html#5468">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
