<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Configure an OpenSim to use the ROBUST services
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Configure%20an%20OpenSim%20to%20use%20the%20ROBUST%20services&In-Reply-To=%3CSNT103-DS21CFEC4D8F4CFB69D8E54FE18E0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005455.html">
   <LINK REL="Next"  HREF="005459.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Configure an OpenSim to use the ROBUST services</H1>
    <B>j_jamesk at hotmail.com</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Configure%20an%20OpenSim%20to%20use%20the%20ROBUST%20services&In-Reply-To=%3CSNT103-DS21CFEC4D8F4CFB69D8E54FE18E0%40phx.gbl%3E"
       TITLE="[Opensim-users] Configure an OpenSim to use the ROBUST services">j_jamesk at hotmail.com
       </A><BR>
    <I>Sat Sep  4 18:15:02 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005455.html">[Opensim-users] Configure an OpenSim to use the ROBUST services
</A></li>
        <LI>Next message: <A HREF="005459.html">[Opensim-users]  Database issues after server crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5456">[ date ]</a>
              <a href="thread.html#5456">[ thread ]</a>
              <a href="subject.html#5456">[ subject ]</a>
              <a href="author.html#5456">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Damon

The fault is happening with the client on the outside coming in through the 
router, everything works perfectly inside the router.
So with the client configured to use the external server name 
XXXXXX.dyndns.org i can log into the opensim perfectly from the lan (this 
was tested before adding a local entry in the host file so that i traffic is 
able to go out of the router and come back in) but when a client using 
another adsl line (so an external conenction) tries to access the grid it 
looks like everything is okay until the Waiting for region handshake then it 
times out/fails.

The router i am using is the Draytek Vigor 2820n which is marketed as a SME 
/ Business Class router, is there a list of DD-WRT compliant devices? i had 
a look on DD-WRT.com but their list is very out of date.

James

--------------------------------------------------
From: &quot;Damon Hindermann&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">damonh74 at gmail.com</A>&gt;
Sent: Saturday, September 04, 2010 3:51 PM
To: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>&gt;
Subject: Re: [Opensim-users] Configure an OpenSim to use the ROBUST services

&gt;<i> If your client and server are on the same side of the router, then you 
</I>&gt;<i> must
</I>&gt;<i> have loopback enabled on the router.  Check to be sure your router is on 
</I>&gt;<i> the
</I>&gt;<i> &quot;approved&quot; list since opensim does something very funky in its
</I>&gt;<i> communications.
</I>&gt;<i>
</I>&gt;<i> I had my router set up with loopback and had the manufacturer verify that
</I>&gt;<i> loopback was enabled and that rules were being created.  Everything was as
</I>&gt;<i> it should be, however, opensim still did not work.  I finally purchased a
</I>&gt;<i> Linksys router that runs DD-WRT.  I needed a router that provides many 
</I>&gt;<i> more
</I>&gt;<i> services than a consumer router provides and DD-WRT does most.
</I>&gt;<i>
</I>&gt;<i> I hope that this eventually this gets fixed in opensim since other
</I>&gt;<i> client/server applications work fine without needing &quot;special&quot; routers.
</I>&gt;<i> Until then, getting a router on the approved list is the only way.
</I>&gt;<i>
</I>&gt;<i> -Damon
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>
</I>&gt;<i> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>] On Behalf Of
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">j_jamesk at hotmail.com</A>
</I>&gt;<i> Sent: Saturday, September 04, 2010 5:29 AM
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> Subject: Re: [Opensim-users] Configure an OpenSim to use the ROBUST 
</I>&gt;<i> services
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> just a little update:
</I>&gt;<i>
</I>&gt;<i> have now tried adding the external IP address as the InternalAddress in 
</I>&gt;<i> the
</I>&gt;<i> region.ini as suggested by Ben and have added the entry in the host file,
</I>&gt;<i> still getting up to the &quot;Waiting for region handshake...&quot; then the usual
</I>&gt;<i> &quot;we're having trouble connecting, there may be a problem with your 
</I>&gt;<i> internet&quot;
</I>&gt;<i>
</I>&gt;<i> error in the emerald client but i have also tried metabolt (text client) 
</I>&gt;<i> and
</I>&gt;<i> i get &quot;avatar did not rezz as expected&quot;.
</I>&gt;<i>
</I>&gt;<i> now the opensim server is running from my friends ADSL line with a 512mb
</I>&gt;<i> upload speed in theory i should still be able to connect and the avatar
</I>&gt;<i> should rezz (maybe slowly) or is the upload too small to support a
</I>&gt;<i> connection?
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> James
</I>&gt;<i>
</I>&gt;<i> --------------------------------------------------
</I>&gt;<i> From: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">j_jamesk at hotmail.com</A>&gt;
</I>&gt;<i> Sent: Friday, September 03, 2010 10:42 PM
</I>&gt;<i> To: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>&gt;
</I>&gt;<i> Subject: [Opensim-users] Configure an OpenSim to use the ROBUST services
</I>&gt;<i>
</I>&gt;&gt;<i> Hi Folks
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My friend and I are working on setting up Opensim in grid mode
</I>&gt;&gt;<i> (robust), so everything seems to be working okay when accessed the
</I>&gt;&gt;<i> grid from the lan using -loginuri <A HREF="http://XXXXXX.dyndns.org:8002">http://XXXXXX.dyndns.org:8002</A> for
</I>&gt;&gt;<i> the login url but when I try to access the grid from an external location
</I>&gt;<i> it hanging :
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [14:11]  Logging in. Viewer may appear frozen.  Please wait.
</I>&gt;&gt;<i> [14:11]  Logging in...
</I>&gt;&gt;<i> [14:11]  Processing Response...
</I>&gt;&gt;<i> [14:11]  Initializing World...
</I>&gt;&gt;<i> [14:11]  Initializing multimedia...
</I>&gt;&gt;<i> [14:11]  Decoding images...
</I>&gt;&gt;<i> [14:11]  Waiting for region handshake...
</I>&gt;&gt;<i> [14:11]  MOTD: United we stand, divided we fall.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> with a message that there was a problem while trying to connect.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ports 9000-9010 tcp and udp are open on both router and xp firewall,
</I>&gt;&gt;<i> so my next line of thought was the region.ini there is no mention
</I>&gt;&gt;<i> (that i can find) that says you can't still using the 9000 range in
</I>&gt;&gt;<i> the region.ini when in grid mode, here is an example of the
</I>&gt;&gt;<i> region.ini, do you have to specify an InternalAddress if your going to
</I>&gt;&gt;<i> access the grid from an external network
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [Europe 1]
</I>&gt;&gt;<i> RegionUUID = &quot;397fd0f8-4279-48d6-8ce2-573d915630dd&quot;
</I>&gt;&gt;<i> Location = &quot;4168,4665&quot;
</I>&gt;&gt;<i> InternalAddress = &quot;0.0.0.0&quot;
</I>&gt;&gt;<i> InternalPort = 9000
</I>&gt;&gt;<i> AllowAlternatePorts = False
</I>&gt;&gt;<i> ExternalHostName = &quot;XXXXXX.dyndns.org&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks in advance for the help.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> James
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Opensim-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005455.html">[Opensim-users] Configure an OpenSim to use the ROBUST services
</A></li>
	<LI>Next message: <A HREF="005459.html">[Opensim-users]  Database issues after server crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5456">[ date ]</a>
              <a href="thread.html#5456">[ thread ]</a>
              <a href="subject.html#5456">[ subject ]</a>
              <a href="author.html#5456">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
