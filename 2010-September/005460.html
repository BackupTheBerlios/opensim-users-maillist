<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Database issues after server crash
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Database%20issues%20after%20server%20crash&In-Reply-To=%3C4C846BF6.6000008%40livingsounds.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005459.html">
   <LINK REL="Next"  HREF="005461.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Database issues after server crash</H1>
    <B>Ben Faust</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Database%20issues%20after%20server%20crash&In-Reply-To=%3C4C846BF6.6000008%40livingsounds.org%3E"
       TITLE="[Opensim-users] Database issues after server crash">ben at livingsounds.org
       </A><BR>
    <I>Mon Sep  6 06:20:06 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005459.html">[Opensim-users]  Database issues after server crash
</A></li>
        <LI>Next message: <A HREF="005461.html">[Opensim-users] Database issues after server crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5460">[ date ]</a>
              <a href="thread.html#5460">[ thread ]</a>
              <a href="subject.html#5460">[ subject ]</a>
              <a href="author.html#5460">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Please disregard this. I discovered the database files had simply 
become corrupted, and I had to delete them physically (from the server 
files) and start over. Another question though: does anyone know how to 
change the sit settings so they line up with Second Life or even OSgrid? 
I can't just create a box and sit on it, but sit low and sideways, and 
not even on the box at any rotation. This makes importing objects from 
elsewhere nearly impossible in some cases.

On 9/5/2010 3:21 PM, Ben Faust wrote:
&gt;<i>  My server crashed (ran out of disk space), and it took awhile to 
</I>&gt;<i> figure out how to get innoDB running again with MySQL... The database 
</I>&gt;<i> appears to be in tact, except the `migrations` table is missing... 
</I>&gt;<i> Now, when trying to start OpenSim, the following is part of the 
</I>&gt;<i> startup logs. Anyone know how to fix this, or perhaps have the mysql 
</I>&gt;<i> for recreating that table?
</I>&gt;<i>
</I>&gt;<i> Exception: System.Exception: Table 'migrations' already exists in SQL: 
</I>&gt;<i> create table migrations(name varchar(100), version int)
</I>&gt;<i>   at OpenSim.Data.Migration.ExecuteScript 
</I>&gt;<i> (System.Data.Common.DbConnection conn, System.String[] script) 
</I>&gt;<i> [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at OpenSim.Data.Migration.ExecuteScript 
</I>&gt;<i> (System.Data.Common.DbConnection conn, System.String sql) [0x00000] in 
</I>&gt;<i> &lt;filename unknown&gt;:0
</I>&gt;<i>   at OpenSim.Data.Migration.ExecuteScript (System.String sql) 
</I>&gt;<i> [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at OpenSim.Data.Migration.InitMigrationsTable () [0x00000] in 
</I>&gt;<i> &lt;filename unknown&gt;:0
</I>&gt;<i>   at OpenSim.Data.Migration.Update () [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at OpenSim.Data.MySQL.MySQLEstateStore.Initialise (System.String 
</I>&gt;<i> connectionString) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at OpenSim.Region.Framework.StorageManager..ctor (System.String 
</I>&gt;<i> dllName, System.String connectionstring, System.String 
</I>&gt;<i> estateconnectionstring) [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at OpenSim.OpenSimBase.CreateStorageManager (System.String 
</I>&gt;<i> connectionstring, System.String estateconnectionstring) [0x00000] in 
</I>&gt;<i> &lt;filename unknown&gt;:0
</I>&gt;<i>   at OpenSim.OpenSimBase.CreateStorageManager () [0x00000] in 
</I>&gt;<i> &lt;filename unknown&gt;:0
</I>&gt;<i>   at OpenSim.Region.ClientStack.RegionApplicationBase.StartupSpecific 
</I>&gt;<i> () [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at OpenSim.OpenSimBase.StartupSpecific () [0x00000] in &lt;filename 
</I>&gt;<i> unknown&gt;:0
</I>&gt;<i>   at OpenSim.OpenSim.StartupSpecific () [0x00000] in &lt;filename unknown&gt;:0
</I>&gt;<i>   at OpenSim.Framework.Servers.BaseOpenSimServer.Startup () [0x00000] 
</I>&gt;<i> in &lt;filename unknown&gt;:0
</I>&gt;<i>   at OpenSim.Application.Main (System.String[] args) [0x00000] in 
</I>&gt;<i> &lt;filename unknown&gt;:0
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005459.html">[Opensim-users]  Database issues after server crash
</A></li>
	<LI>Next message: <A HREF="005461.html">[Opensim-users] Database issues after server crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5460">[ date ]</a>
              <a href="thread.html#5460">[ thread ]</a>
              <a href="subject.html#5460">[ subject ]</a>
              <a href="author.html#5460">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
