<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Awaiting region handshake
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Awaiting%20region%20handshake&In-Reply-To=%3CCAFCcrp9c-tEfbFKkPbdz-76pQFxDBA76EjAovGRr-bTy%2Bh6KZA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007934.html">
   <LINK REL="Next"  HREF="007937.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Awaiting region handshake</H1>
    <B>Guardian</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Awaiting%20region%20handshake&In-Reply-To=%3CCAFCcrp9c-tEfbFKkPbdz-76pQFxDBA76EjAovGRr-bTy%2Bh6KZA%40mail.gmail.com%3E"
       TITLE="[Opensim-users] Awaiting region handshake">linux.deamon at gmail.com
       </A><BR>
    <I>Mon Aug 15 08:05:54 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007934.html">[Opensim-users] Awaiting region handshake
</A></li>
        <LI>Next message: <A HREF="007937.html">[Opensim-users] Awaiting region handshake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7936">[ date ]</a>
              <a href="thread.html#7936">[ thread ]</a>
              <a href="subject.html#7936">[ subject ]</a>
              <a href="author.html#7936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hmmmm, OK.. that sounds logical. How do I get around this? Without buying a
new router as there would be no way of knowing if it supports loop back
until its in and running.
 On Aug 15, 2011 4:27 PM, &quot;Gary Beck&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">gab4gab at gmail.com</A>&gt; wrote:
&gt;<i> If you use a host file on the server to resolve myusername.dyndns.org to
</I>192.168.1.251 that can cause the handshake to fail. The server will hand the
viewer [192.168.1.251 + the port of the region] as the address to use for
the UDP handshake. That will fail from outside your lan.
&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: Guardian
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> Sent: Monday, August 15, 2011 12:15 AM
</I>&gt;<i> Subject: Re: [Opensim-users] Awaiting region handshake
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> My router does not like loopback, so if I try to access anything by the
</I>external name, it won't work. So I use the hosts file to point back to the
server for internal use..
&gt;<i>
</I>&gt;<i> On Aug 15, 2011 3:51 PM, &quot;Gary Beck&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">gab4gab at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Pete,
</I>&gt;<i> &gt; From what you say I assume you have myusername.dyndns.org set up to be
</I>your external IP address. Browsing from outside your lan using
myusername.dyndns.org:9000 to get the hippo page is some key info. Now I'm
still wondering what you're doing in the hosts file. If your dyndns is set
up to point to your external IP you shouldn't need to modify it using hosts.
&gt;<i> &gt; By the way for internal address 0.0.0.0 is normally the address is use.
</I>&gt;<i> &gt; - Gary Beck
</I>&gt;<i> &gt; ----- Original Message -----
</I>&gt;<i> &gt; From: Guardian
</I>&gt;<i> &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; Sent: Sunday, August 14, 2011 11:30 PM
</I>&gt;<i> &gt; Subject: Re: [Opensim-users] Awaiting region handshake
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Just before I answer these questions, note I just tried building a DNS
</I>server and using that instead of the hosts file, but it did not'help.
&gt;<i> &gt;
</I>&gt;<i> &gt; For external hostname I am using myusername.dyndns.org and I have Aldo
</I>tried my external IP address 202.155.etc
&gt;<i> &gt;
</I>&gt;<i> &gt; The internalhostname I've tried 0.0.0.0 as well as 192.168.1.251
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I can also browse to myusername.dyndns.org:9000 and get the hippo
</I>page...
&gt;<i> &gt;
</I>&gt;<i> &gt; On Aug 15, 2011 2:31 PM, &quot;Gary Beck&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">gab4gab at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; Pete,
</I>&gt;<i> &gt; &gt; These problems are tough to work through. I'm curious about what your
</I>have specified in your region parameters for ExternalHostName and what
you're putting in the Host entry to point back to the server. Whatever you
could reveal while protecting your network would help.
&gt;<i> &gt; &gt; At handshake time the server hands the viewer an address to use for
</I>UDP. The problem could be that address isn't correct or the port is blocked
(or both.) Since you seem sure the ports are open I'm wondering about the
address.
&gt;<i> &gt; &gt; - Gary
</I>&gt;<i> &gt; &gt; ----- Original Message -----
</I>&gt;<i> &gt; &gt; From: Guardian
</I>&gt;<i> &gt; &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; Sent: Sunday, August 14, 2011 10:04 PM
</I>&gt;<i> &gt; &gt; Subject: Re: [Opensim-users] Awaiting region handshake
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I just tried changing the port to 9001 and forwarding that but still
</I>no go.
&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On Aug 15, 2011 7:37 AM, &quot;Guardian&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">linux.deamon at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt; Hi Guys,
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Thanks for the suggestions, I've checked the ports and they seem
</I>fine, both
&gt;<i> &gt; &gt; &gt; 8002TCP and 9000TCP/UDP are open.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; On Mon, Aug 15, 2011 at 1:02 AM, Karen Palen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">karenpalensl at gmail.com</A>&gt;
</I>wrote:
&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; I have always found that the free &quot;Shields Up&quot; at WWW.grc.com is a
</I>&gt;<i> &gt; &gt; &gt;&gt; &quot;quick and dirty way&quot; to verify that the ports are actually open
</I>and
&gt;<i> &gt; &gt; &gt;&gt; working.
</I>&gt;<i> &gt; &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; I also found that my TOR relay setup uses 9000 series ports and can
</I>&gt;<i> &gt; &gt; &gt;&gt; interfere with extenal connections.
</I>&gt;<i> &gt; &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; There are a lot of links in that chain that can block the traffic!
</I>&gt;<i> &gt; &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; Karen
</I>&gt;<i> &gt; &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; On 08/14/2011 02:39 AM, Fleep Tuque wrote:
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; Hi Pete,
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; When I had similar symptoms, it turned out my virus protection
</I>software
&gt;<i> &gt; &gt; &gt;&gt; was
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; blocking UDP traffic. Usually it seems if you get as far as
</I>&quot;waiting for
&gt;<i> &gt; &gt; &gt;&gt; &gt; region handshake&quot;, then your TCP traffic is ok but there's an
</I>issue with
&gt;<i> &gt; &gt; &gt;&gt; the
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; UDP traffic somewhere.
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; If you have security software running, maybe try disabling it and
</I>seeing
&gt;<i> &gt; &gt; &gt;&gt; if
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; that changes anything, can also install a packet sniffer like
</I>Wireshark
&gt;<i> &gt; &gt; &gt;&gt; to
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; see what packets are coming and going in case that helps diagnose
</I>the
&gt;<i> &gt; &gt; &gt;&gt; issue.
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; Can also double check to make sure the proper ports are open with
</I>a 3rd
&gt;<i> &gt; &gt; &gt;&gt; &gt; party..
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; Let us know if any of that helps and good luck!
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; - Chris/Fleep
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; On Sun, Aug 14, 2011 at 5:27 AM, Guardian &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">linux.deamon at gmail.com</A>
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; &gt;&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; Hi all,
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; I'm running opensim in Robust grid mode, and I've been trying to
</I>connect
&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; outside my LAN but just arnt having any luck.
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; I get to awaiting region handshake, then the &quot;we're having
</I>trouble
&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; connecting&quot; message. I know this is a fairly common issue, and
</I>here is
&gt;<i> &gt; &gt; &gt;&gt; what
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; I've tried:
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; Checking ports 8002 8001 and 9000 are forwarded to the correct
</I>server.
&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; Checked, rechecked and triplechecked regions.ini
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; I dont think my router supports loop back so I set an entry in
</I>the hosts
&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; file on the server so the external domain name points back to
</I>the
&gt;<i> &gt; &gt; &gt;&gt; server.
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; I've been at this for months, I even gave up and tried a bunch
</I>of other
&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; Sims, but none of them have the features I want.
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; Can anyone help step through this issue?
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; Thanks in advance,
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; -Pete
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; Opensim-users mailing list
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; Opensim-users mailing list
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; &gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt; &gt; &gt;&gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt;&gt; Opensim-users mailing list
</I>&gt;<i> &gt; &gt; &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt; &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>------------------------------------------------------------------------------
&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Opensim-users mailing list
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>------------------------------------------------------------------------------
&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Opensim-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>------------------------------------------------------------------------------
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20110815/925120c8/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20110815/925120c8/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007934.html">[Opensim-users] Awaiting region handshake
</A></li>
	<LI>Next message: <A HREF="007937.html">[Opensim-users] Awaiting region handshake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7936">[ date ]</a>
              <a href="thread.html#7936">[ thread ]</a>
              <a href="subject.html#7936">[ subject ]</a>
              <a href="author.html#7936">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
