<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Awaiting region handshake
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Awaiting%20region%20handshake&In-Reply-To=%3CCAFCcrp823EzRx%2B-vzqMTF3uZPYUGpPk9rfS1KeM3NRL0fxJGXg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007928.html">
   <LINK REL="Next"  HREF="007931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Awaiting region handshake</H1>
    <B>Guardian</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Awaiting%20region%20handshake&In-Reply-To=%3CCAFCcrp823EzRx%2B-vzqMTF3uZPYUGpPk9rfS1KeM3NRL0fxJGXg%40mail.gmail.com%3E"
       TITLE="[Opensim-users] Awaiting region handshake">linux.deamon at gmail.com
       </A><BR>
    <I>Mon Aug 15 05:30:30 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007928.html">[Opensim-users] Awaiting region handshake
</A></li>
        <LI>Next message: <A HREF="007931.html">[Opensim-users] Awaiting region handshake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7930">[ date ]</a>
              <a href="thread.html#7930">[ thread ]</a>
              <a href="subject.html#7930">[ subject ]</a>
              <a href="author.html#7930">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just before I answer these questions, note I just tried building a DNS
server and using that instead of the hosts file, but it did not'help.

For external hostname I am using myusername.dyndns.org and I have Aldo tried
my external IP address 202.155.etc

The internalhostname I've tried 0.0.0.0 as well as 192.168.1.251

I can also browse to myusername.dyndns.org:9000 and get the hippo page...
On Aug 15, 2011 2:31 PM, &quot;Gary Beck&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">gab4gab at gmail.com</A>&gt; wrote:
&gt;<i> Pete,
</I>&gt;<i> These problems are tough to work through. I'm curious about what your have
</I>specified in your region parameters for ExternalHostName and what you're
putting in the Host entry to point back to the server. Whatever you could
reveal while protecting your network would help.
&gt;<i> At handshake time the server hands the viewer an address to use for UDP.
</I>The problem could be that address isn't correct or the port is blocked (or
both.) Since you seem sure the ports are open I'm wondering about the
address.
&gt;<i> - Gary
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: Guardian
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> Sent: Sunday, August 14, 2011 10:04 PM
</I>&gt;<i> Subject: Re: [Opensim-users] Awaiting region handshake
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I just tried changing the port to 9001 and forwarding that but still no
</I>go.
&gt;<i>
</I>&gt;<i> On Aug 15, 2011 7:37 AM, &quot;Guardian&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">linux.deamon at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Hi Guys,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks for the suggestions, I've checked the ports and they seem fine,
</I>both
&gt;<i> &gt; 8002TCP and 9000TCP/UDP are open.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Mon, Aug 15, 2011 at 1:02 AM, Karen Palen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">karenpalensl at gmail.com</A>&gt;
</I>wrote:
&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; I have always found that the free &quot;Shields Up&quot; at WWW.grc.com is a
</I>&gt;<i> &gt;&gt; &quot;quick and dirty way&quot; to verify that the ports are actually open and
</I>&gt;<i> &gt;&gt; working.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I also found that my TOR relay setup uses 9000 series ports and can
</I>&gt;<i> &gt;&gt; interfere with extenal connections.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; There are a lot of links in that chain that can block the traffic!
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Karen
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On 08/14/2011 02:39 AM, Fleep Tuque wrote:
</I>&gt;<i> &gt;&gt; &gt; Hi Pete,
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; When I had similar symptoms, it turned out my virus protection
</I>software
&gt;<i> &gt;&gt; was
</I>&gt;<i> &gt;&gt; &gt; blocking UDP traffic. Usually it seems if you get as far as &quot;waiting
</I>for
&gt;<i> &gt;&gt; &gt; region handshake&quot;, then your TCP traffic is ok but there's an issue
</I>with
&gt;<i> &gt;&gt; the
</I>&gt;<i> &gt;&gt; &gt; UDP traffic somewhere.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; If you have security software running, maybe try disabling it and
</I>seeing
&gt;<i> &gt;&gt; if
</I>&gt;<i> &gt;&gt; &gt; that changes anything, can also install a packet sniffer like
</I>Wireshark
&gt;<i> &gt;&gt; to
</I>&gt;<i> &gt;&gt; &gt; see what packets are coming and going in case that helps diagnose the
</I>&gt;<i> &gt;&gt; issue.
</I>&gt;<i> &gt;&gt; &gt; Can also double check to make sure the proper ports are open with a
</I>3rd
&gt;<i> &gt;&gt; &gt; party..
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; Let us know if any of that helps and good luck!
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; - Chris/Fleep
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; On Sun, Aug 14, 2011 at 5:27 AM, Guardian &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">linux.deamon at gmail.com</A>&gt;
</I>&gt;<i> &gt;&gt; wrote:
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; Hi all,
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; I'm running opensim in Robust grid mode, and I've been trying to
</I>connect
&gt;<i> &gt;&gt; &gt;&gt; outside my LAN but just arnt having any luck.
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; I get to awaiting region handshake, then the &quot;we're having trouble
</I>&gt;<i> &gt;&gt; &gt;&gt; connecting&quot; message. I know this is a fairly common issue, and here
</I>is
&gt;<i> &gt;&gt; what
</I>&gt;<i> &gt;&gt; &gt;&gt; I've tried:
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; Checking ports 8002 8001 and 9000 are forwarded to the correct
</I>server.
&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; Checked, rechecked and triplechecked regions.ini
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; I dont think my router supports loop back so I set an entry in the
</I>hosts
&gt;<i> &gt;&gt; &gt;&gt; file on the server so the external domain name points back to the
</I>&gt;<i> &gt;&gt; server.
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; I've been at this for months, I even gave up and tried a bunch of
</I>other
&gt;<i> &gt;&gt; &gt;&gt; Sims, but none of them have the features I want.
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; Can anyone help step through this issue?
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; Thanks in advance,
</I>&gt;<i> &gt;&gt; &gt;&gt; -Pete
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; &gt;&gt; Opensim-users mailing list
</I>&gt;<i> &gt;&gt; &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt; &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; _______________________________________________
</I>&gt;<i> &gt;&gt; &gt; Opensim-users mailing list
</I>&gt;<i> &gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Opensim-users mailing list
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>------------------------------------------------------------------------------
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20110815/e0814908/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20110815/e0814908/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007928.html">[Opensim-users] Awaiting region handshake
</A></li>
	<LI>Next message: <A HREF="007931.html">[Opensim-users] Awaiting region handshake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7930">[ date ]</a>
              <a href="thread.html#7930">[ thread ]</a>
              <a href="subject.html#7930">[ subject ]</a>
              <a href="author.html#7930">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
