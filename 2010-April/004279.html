<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Upgrade from 0.6.5 to 0.6.6 -&gt; empty regions
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-April/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Upgrade%20from%200.6.5%20to%200.6.6%20-%3E%20empty%20regions&In-Reply-To=%3Cp06240800c7de8701083f%40%5B192.168.0.21%5D%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004278.html">
   <LINK REL="Next"  HREF="004280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Upgrade from 0.6.5 to 0.6.6 -&gt; empty regions</H1>
    <B>Jeff Kelley</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Upgrade%20from%200.6.5%20to%200.6.6%20-%3E%20empty%20regions&In-Reply-To=%3Cp06240800c7de8701083f%40%5B192.168.0.21%5D%3E"
       TITLE="[Opensim-users] Upgrade from 0.6.5 to 0.6.6 -&gt; empty regions">opensim at pescadoo.net
       </A><BR>
    <I>Mon Apr  5 22:01:17 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004278.html">[Opensim-users] Line Segment in Scratch for OpenSim
</A></li>
        <LI>Next message: <A HREF="004280.html">[Opensim-users] Mac viewers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4279">[ date ]</a>
              <a href="thread.html#4279">[ thread ]</a>
              <a href="subject.html#4279">[ subject ]</a>
              <a href="author.html#4279">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Short story:

After upgrading from 0.6.5 to 0.6.6, all my regions are empty (O prim,
default terrain). Reverting to 0.6.5 (cd to the previous bin directory,
relaunch UGAIM-S not touching the database in any way) show that everything
is in place. Nothing has been deleted nor lost. The 0.6.6 simulator loads
the regions but not the scenes.

Long story:

I use Mac OS X binary packages, so this is exactly 0.6.6-post-fixes-r9993.
UGAIM Grid mode, mySQL.

I used METHOD 3: <A HREF="http://opensimulator.org/wiki/Upgrading">http://opensimulator.org/wiki/Upgrading</A>

&gt;<i>3. Copy the following files from the old \bin to the new \bin
</I>&gt;<i>   - The opensim.ini file
</I>&gt;<i>   - The \bin\regions XML files
</I>&gt;<i>   - The 5 XML config files
</I>&gt;<i>   - The \bin\config-include INI files
</I>&gt;<i>   - estate_settings.xml (if it has been amended)
</I>
I first had issue 3781 (No IAssetService available):
<A HREF="http://opensimulator.org/mantis/bug_view_advanced_page.php?bug_id=3781">http://opensimulator.org/mantis/bug_view_advanced_page.php?bug_id=3781</A>

That was a missing config-include/GridCommon.ini. It is now:

Opensim.ini
    Include-Grid = &quot;config-include/Grid.ini&quot;

config-include/GridCommon.ini
    AssetServerURI = &quot;<A HREF="http://127.0.0.1:8003">http://127.0.0.1:8003</A>&quot;
    InventoryServerURI = &quot;<A HREF="http://127.0.0.1:8004">http://127.0.0.1:8004</A>&quot;
    (No cache selected ATM)

then I ran into issue 3806 (crash at logon)
<A HREF="http://opensimulator.org/mantis/bug_view_advanced_page.php?bug_id=3806">http://opensimulator.org/mantis/bug_view_advanced_page.php?bug_id=3806</A>

I removed my old
    UserServer_Config.xml
    GridServer_Config.xml
    AssetServer_Config.xml
    InventoryServer_Config.xml
    MessagingServer_Config.xml

and restarted UGAIM answering the questions. That solved the crash.

I have now a working system. I can login, access my inventory (from a clean
client cache), open textures so the inventory and asset servers are ok. I
can teleport from region to region. But all my regions are empty (O prim,
default terrain).

Only then, i discovered the new region format, and translated my 10
regions.xml into one RegionConfig.ini: Same result. The simulator loads 10
empty regions, with proper name, location.

Should I edit also?
    OpenSim.Services.ini.example
    OpenSim.Servers.UserServer.ini.example
    AssetInventoryServer.ini.example

since I laready have the XML files? I'm lost here.

Thanks for any help.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004278.html">[Opensim-users] Line Segment in Scratch for OpenSim
</A></li>
	<LI>Next message: <A HREF="004280.html">[Opensim-users] Mac viewers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4279">[ date ]</a>
              <a href="thread.html#4279">[ thread ]</a>
              <a href="subject.html#4279">[ subject ]</a>
              <a href="author.html#4279">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
