<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Diva Distro - Hitting Walls
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Diva%20Distro%20-%20Hitting%20Walls&In-Reply-To=%3CAANLkTi%3DjG0OT_m3Gueiyhq50YdpYsvVEvfP9U7_9SL-K%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006279.html">
   <LINK REL="Next"  HREF="006281.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Diva Distro - Hitting Walls</H1>
    <B>iSkye Silverweb</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Diva%20Distro%20-%20Hitting%20Walls&In-Reply-To=%3CAANLkTi%3DjG0OT_m3Gueiyhq50YdpYsvVEvfP9U7_9SL-K%40mail.gmail.com%3E"
       TITLE="[Opensim-users] Diva Distro - Hitting Walls">iskye.silverweb at gmail.com
       </A><BR>
    <I>Sat Nov 27 20:45:43 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006279.html">[Opensim-users] Diva Distro - Hitting Walls
</A></li>
        <LI>Next message: <A HREF="006281.html">[Opensim-users] Diva Distro - Hitting Walls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6280">[ date ]</a>
              <a href="thread.html#6280">[ thread ]</a>
              <a href="subject.html#6280">[ subject ]</a>
              <a href="author.html#6280">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>An additional note.  While our UK guy is able to see the website, when he
opens the viewer and tries to get grid info in the grid manager, it does not
return the information; however when I try it from outside his network, I am
able to get the grid information in the viewer.  We all use the Imprudence
viewer.  Not sure if this bit of information is helpful.

On Sat, Nov 27, 2010 at 11:39 AM, iSkye Silverweb &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">iskye.silverweb at gmail.com</A>
&gt;<i> wrote:
</I>
&gt;<i> We're still not getting a breakthrough on getting the inside-network login
</I>&gt;<i> working while also having external computers able to get in.
</I>&gt;<i>
</I>&gt;<i> Our current setup is this:
</I>&gt;<i> We have a standalone Diva distro 0.7.0 on a Windows XP computer in the UK,
</I>&gt;<i> with two other computers inside that network; two external computers outside
</I>&gt;<i> the UK.
</I>&gt;<i>
</I>&gt;<i> On router (Sagem <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">F at ST</A> 2504 firmware version 2.8Sky):
</I>&gt;<i> Port 9000 for TCP/UDP and ports 9001-9003 for UDP
</I>&gt;<i>
</I>&gt;<i> Windows firewall disabled on both computers inside the network
</I>&gt;<i>
</I>&gt;<i> regions.ini file:
</I>&gt;<i> external IP is our-grid.dyndns-server.com  (note: when we change the
</I>&gt;<i> external IP to the actual internal IP, 192.168.0.9, for the machine running
</I>&gt;<i> our grid, our UK guy can log in from inside his network, but the 2 outside
</I>&gt;<i> computers can't log in)
</I>&gt;<i> internal IP is 0.0.0.0
</I>&gt;<i>
</I>&gt;<i> hosts file on the client the UK guy is trying to login from:
</I>&gt;<i> 192.168.0.9    our-grid.dyndns-server.com
</I>&gt;<i>
</I>&gt;<i> uPnP and DMZ are both off, disabled (we've tried both ways)
</I>&gt;<i>
</I>&gt;<i> All three of us can see the welcome page in the browser.  The UK (inside
</I>&gt;<i> network) guy, isn't able to log in through the webpage, nor can he get into
</I>&gt;<i> the grid.  We seem to be missing one small ingredient that will let our UK
</I>&gt;<i> guy login from inside his network.
</I>&gt;<i>
</I>&gt;<i> Suggestions, anyone?  Your help is much appreciated, thanks in advance.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Fri, Nov 26, 2010 at 3:37 PM, iSkye Silverweb &lt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">iskye.silverweb at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> We're getting closer.  We guess!  Now, we've got the opposite issue.
</I>&gt;&gt;<i> External computers can log in; the UK guy can't get in from inside his
</I>&gt;&gt;<i> network.  We did as Diva suggested (9000 only for both TCP &amp; UDP; 9001-9003
</I>&gt;&gt;<i> for UDP only - previously all four ports were opened for both UDP &amp; TCP) and
</I>&gt;&gt;<i> that got us to this point, thank you Diva!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We're told his router supports NAT loopback (Sagem FAST 2504 from Sky
</I>&gt;&gt;<i> Broadband).  Not sure that's by default? So, we attempted this method,
</I>&gt;&gt;<i> hoping that would get him able to log in through his viewer from inside the
</I>&gt;&gt;<i> network:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *This method was used and successfully tested using www.dyndns.com(creates a virtual domain for your pc/ip, like
</I>&gt;&gt;<i> yourcomputer.ath.cx) as loopback for devices on a LAN with three machines
</I>&gt;&gt;<i> (pentium 2.8ghz running windows xp - internet server , amd opteron running
</I>&gt;&gt;<i> ubuntu 7.10 64bit - as opensim server - and MacBook with OSX 10.4.11 - as
</I>&gt;&gt;<i> client), a modem (thomson/alcatel speedtouch 330) and a mini-switch (which
</I>&gt;&gt;<i> brand no one ever heard of). The connection of these machines is made as
</I>&gt;&gt;<i> following: Modem -&gt; Win Pc -&gt; Switch -&gt; Mac and Ubuntu. Dyndns is used to
</I>&gt;&gt;<i> loopback to the Win Pc, and then it forwards the request to the internal LAN
</I>&gt;&gt;<i> opensim server, which grants everything for the client. As for the client,
</I>&gt;&gt;<i> if he is inside the private LAN then he is now actually someone on the
</I>&gt;&gt;<i> internet requesting for access to the opensim server. Thus, if the client is
</I>&gt;&gt;<i> someone on the internet then he will be treated like that. Tricky ? Further
</I>&gt;&gt;<i> details ahead:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Method:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     * Set the simulator listening IP address to your dyndns domain - edit
</I>&gt;&gt;<i> opensim/bin/Regions/default.xml; and change the external_host_name to
</I>&gt;&gt;<i> external_host_name=&quot;yourcomputer.ath.cx&quot;. Leave internal_ip_address
</I>&gt;&gt;<i> &quot;0.0.0.0&quot; and port &quot;9000&quot;.
</I>&gt;&gt;<i>     * Set the client (SecondLife Viewer) -loginuri to &quot;
</I>&gt;&gt;<i> yourcomputer.ath.cx:8002&quot; (the port used was 8002, yours can be different
</I>&gt;&gt;<i> if you configured it that way) - i didnt used the -loginserver flag also.
</I>&gt;&gt;<i>     * Port Forward the above ports on the internet server (in this case,
</I>&gt;&gt;<i> win xp). You do so by creating exceptions in Windows Firewall for the above
</I>&gt;&gt;<i> mentioned ports, and for both connections: Internet Connection and LAN -
</I>&gt;&gt;<i> this keeps the ports open for the web requests to travel over the private
</I>&gt;&gt;<i> network.
</I>&gt;&gt;<i>     * Edit &quot;hosts&quot; file (on windows, this is
</I>&gt;&gt;<i> C:\Windows\System32\Drivers\etc\hosts and on Unix-type systems, this is
</I>&gt;&gt;<i> /etc/hosts) entry on your internet server (in this case, win xp box) and add
</I>&gt;&gt;<i> the following line: xxx.xxx.xxx.xxx     yourcomputer.ath.cx. Of course,
</I>&gt;&gt;<i> xxx.xxx.xxx.xxx is your opensim server internal LAN IP.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> yourcomputer.ath.cx is now available for everyone to connect and you may
</I>&gt;&gt;<i> login with the client!*
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Now, while he was able to get in, the external computers were locked out
</I>&gt;&gt;<i> again.  He reversed his changes; we're back to external computers being able
</I>&gt;&gt;<i> to log in, but he can't.  Seems we have an either/or situation, but we want
</I>&gt;&gt;<i> to have our cake and eat it too...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, Nov 24, 2010 at 3:18 PM, Diva Canto &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">diva at metaverseink.com</A>&gt;wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>  This sounds like you're hitting exactly that: a firewall. Make sure
</I>&gt;&gt;&gt;<i> there are holes in all the right ports: TCP 9000, and UDP 9000--9003.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On 11/24/2010 11:13 AM, iSkye Silverweb wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> We're a group of 3 people; one in the UK, the other two in the US.  The
</I>&gt;&gt;&gt;<i> one in the UK is the one with the system on which we've been trying to get
</I>&gt;&gt;&gt;<i> our Diva distro up and running.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> We have really struggled with getting external access sorted. We haven't
</I>&gt;&gt;&gt;<i> tried hypergate yet - we want the 3 of us to be able to log into the grid
</I>&gt;&gt;&gt;<i> with our viewers first, since we will be building in there, and we want to
</I>&gt;&gt;&gt;<i> set our home to our grid.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> We've tried multiple times, multiple settings, and the closest we got was
</I>&gt;&gt;&gt;<i> to get the registration page on the Web set up and working, and the login
</I>&gt;&gt;&gt;<i> page on the viewer (Imprudence), and the login process started.  Our UK guy
</I>&gt;&gt;&gt;<i> was able to log in from within his network; the two of us in the US are not
</I>&gt;&gt;&gt;<i> able to log in from outside.  The logs showed that OpenSim saw us logging
</I>&gt;&gt;&gt;<i> in, everything looked great, until we got to the handshake stage; we can't
</I>&gt;&gt;&gt;<i> get past that despite trying numerous different settings in the Regions.ini
</I>&gt;&gt;&gt;<i> file and on the router.  Someone in some forum mentioned never seeing
</I>&gt;&gt;&gt;<i> LLUDPSERVER kicking in; we have never seen that either, so if we were
</I>&gt;&gt;&gt;<i> supposed to, that's where our problem seems to lie, but we tried different
</I>&gt;&gt;&gt;<i> fixes, but to no avail.  We're incredibly frustrated and demoralised.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Last night, we decided to start over again on two different computers
</I>&gt;&gt;&gt;<i> (separate times), but now we can't even get the registration page up and the
</I>&gt;&gt;&gt;<i> viewer's grid manager's 'get grid info' can't find our grid address.  We
</I>&gt;&gt;&gt;<i> followed the instructions on this page:
</I>&gt;&gt;&gt;<i> <A HREF="https://github.com/diva/d2/wiki/Installation">https://github.com/diva/d2/wiki/Installation</A>  and even tried it with
</I>&gt;&gt;&gt;<i> MySQL Workbench on one of the computers while using the command line on the
</I>&gt;&gt;&gt;<i> other one.  Both gave us the same result.  NOTE: We did not try to run
</I>&gt;&gt;&gt;<i> OpenSim on both computers simultaneously, and we made sure to port forward
</I>&gt;&gt;&gt;<i> correctly when attempting one or the other computer.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> We even invested in a new router from the ISP with a current firmware
</I>&gt;&gt;&gt;<i> version that supports NAT Loopback, etc.  We tried creating a DMZ, not
</I>&gt;&gt;&gt;<i> having one; we tried turning off uPnP and leaving it on; we tried a numeric
</I>&gt;&gt;&gt;<i> IP address for the external address and the FQDN; we tried 0.0.0.0 for
</I>&gt;&gt;&gt;<i> internal IP and using an internal address.  Two of us actually worked
</I>&gt;&gt;&gt;<i> through the day and all night yesterday/last night trying to get this
</I>&gt;&gt;&gt;<i> working multiple times.  We've seen others successfully getting their grids
</I>&gt;&gt;&gt;<i> up and externally accessible, so we know it's possible, but that apple seems
</I>&gt;&gt;&gt;<i> to be dangling just outside our reach.  It's galling for us because two of
</I>&gt;&gt;&gt;<i> us have backgrounds in systems, network, web and database programming
</I>&gt;&gt;&gt;<i> spanning more than a decade each.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> We REALLY could use some help from someone who has done it successfully
</I>&gt;&gt;&gt;<i> (all the way to successful external logins) and maybe wouldn't mind going
</I>&gt;&gt;&gt;<i> thru it with us a bit; a fresh pair of eyes and input from someone who has
</I>&gt;&gt;&gt;<i> succeeded might spot something we've missed or something we've been doing
</I>&gt;&gt;&gt;<i> wrong.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Can anyone help, please?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Opensim-users mailing <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">listOpensim-users at lists.berlios.dehttps</A>://lists.berlios.de/mailman/listinfo/opensim-users
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Opensim-users mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20101127/4277b2e0/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20101127/4277b2e0/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006279.html">[Opensim-users] Diva Distro - Hitting Walls
</A></li>
	<LI>Next message: <A HREF="006281.html">[Opensim-users] Diva Distro - Hitting Walls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6280">[ date ]</a>
              <a href="thread.html#6280">[ thread ]</a>
              <a href="subject.html#6280">[ subject ]</a>
              <a href="author.html#6280">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
