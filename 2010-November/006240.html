<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Out of Memory Exception on IAR Save?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Out%20of%20Memory%20Exception%20on%20IAR%20Save%3F&In-Reply-To=%3C4CEDA0AE.9040102%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006233.html">
   <LINK REL="Next"  HREF="006243.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Out of Memory Exception on IAR Save?</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Out%20of%20Memory%20Exception%20on%20IAR%20Save%3F&In-Reply-To=%3C4CEDA0AE.9040102%40googlemail.com%3E"
       TITLE="[Opensim-users] Out of Memory Exception on IAR Save?">jjustincc at googlemail.com
       </A><BR>
    <I>Thu Nov 25 00:33:02 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006233.html">[Opensim-users] Out of Memory Exception on IAR Save?
</A></li>
        <LI>Next message: <A HREF="006243.html">[Opensim-users] Out of Memory Exception on IAR Save?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6240">[ date ]</a>
              <a href="thread.html#6240">[ thread ]</a>
              <a href="subject.html#6240">[ subject ]</a>
              <a href="author.html#6240">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/11/10 23:49, Chris wrote:
&gt;<i> Hi all. I've recently been getting 'System.OutOfMemoryException' errors when I attempt to save my avatar's entire
</I>&gt;<i> inventory with the Inventory Archiver. It will go through the usual process of finding the directories to archive and
</I>&gt;<i> after it finds so many it will give me that exception and then terminate the IAR job (usually before it ever reaches the
</I>&gt;<i> assets stage). I usually have to restart the server several times (and try to save an IAR each time) in order to get it
</I>&gt;<i> to save the IAR successfully.
</I>&gt;<i>
</I>&gt;<i> I have checked to make sure that I am not running out of RAM (still have ~1.5 gigs free while every thing is up and
</I>&gt;<i> running and IAR is being saved) or Virtual Memory/Page File when I attempt this and I have plenty of HD space where I am
</I>&gt;<i> saving the IAR so I am at a loss as to why this is happening all of a sudden. I did notice something strange in the
</I>&gt;<i> exception message that I received and that is the fact that it seems to be trying to access &quot;New Folder&quot; on my desktop
</I>&gt;<i> when there isn't a directory on my desktop called &quot;New Folder&quot; and I didn't direct it to save to New Folder either (I am
</I>&gt;<i> saving to C:\inventory.iar btw)
</I>
This is strange.  Could you open a Mantis bug report and put this information there, along with the exact version number 
or Git revision of OpenSim that you're using.

 From the stack trace, you're running OpenSim from the path

&quot;c:\Documents and Settings\Chris\Desktop\New Folder&quot;

which I imagine is where &quot;New Folder&quot; is coming from.

&gt;<i>
</I>&gt;<i> Any suggestions or insight would be much appreciated =)
</I>&gt;<i>
</I>&gt;<i> Exception:
</I>&gt;<i> 2010-11-23 00:13:27,406 ERROR - OpenSim.Application Command error: System.OutOfMemoryException: Exception
</I>&gt;<i>
</I>&gt;<i> of type 'System.OutOfMemoryException' was thrown.
</I>&gt;<i> at System.String.Replace(String oldValue, String newValue)
</I>&gt;<i> at OpenSim.Region.Framework.Scenes.Serialization.SceneObjectSerializer.FromOriginalXmlFormat(UUID
</I>&gt;<i>
</I>&gt;<i> fromUserInventoryItemID, String xmlData) in c:\Documents and Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Region\Framework\Scenes\Serialization\SceneObjectSerializer.cs:line 69
</I>&gt;<i> at OpenSim.Region.Framework.Scenes.Serialization.SceneObjectSerializer.FromOriginalXmlFormat(String
</I>&gt;<i>
</I>&gt;<i> serialization) in c:\Documents and Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Region\Framework\Scenes\Serialization\SceneObjectSerializer.cs:line 55
</I>&gt;<i> at OpenSim.Region.Framework.Scenes.UuidGatherer.GetSceneObjectAssetUuids(UUID sceneObjectUuid,
</I>&gt;<i>
</I>&gt;<i> IDictionary`2 assetUuids) in c:\Documents and Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Region\Framework\Scenes\UuidGatherer.cs:line 280
</I>&gt;<i> at OpenSim.Region.Framework.Scenes.UuidGatherer.GatherAssetUuids(UUID assetUuid, AssetType assetType,
</I>&gt;<i>
</I>&gt;<i> IDictionary`2 assetUuids) in c:\Documents and Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Region\Framework\Scenes\UuidGatherer.cs:line 105
</I>&gt;<i> at
</I>&gt;<i>
</I>&gt;<i> OpenSim.Region.CoreModules.Avatar.Inventory.Archiver.InventoryArchiveWriteRequest.SaveInvItem(InventoryIt
</I>&gt;<i>
</I>&gt;<i> emBase inventoryItem, String path) in c:\Documents and Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Region\CoreModules\Avatar\Inventory\Archiver\InventoryArchiveWriteRequest.cs:line 156
</I>&gt;<i> at
</I>&gt;<i>
</I>&gt;<i> OpenSim.Region.CoreModules.Avatar.Inventory.Archiver.InventoryArchiveWriteRequest.SaveInvFolder(Inventory
</I>&gt;<i>
</I>&gt;<i> FolderBase inventoryFolder, String path, Boolean saveThisFolderItself) in c:\Documents and
</I>&gt;<i>
</I>&gt;<i> Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Region\CoreModules\Avatar\Inventory\Archiver\InventoryArchiveWriteRequest.cs:line 207
</I>&gt;<i> at
</I>&gt;<i>
</I>&gt;<i> OpenSim.Region.CoreModules.Avatar.Inventory.Archiver.InventoryArchiveWriteRequest.SaveInvFolder(Inventory
</I>&gt;<i>
</I>&gt;<i> FolderBase inventoryFolder, String path, Boolean saveThisFolderItself) in c:\Documents and
</I>&gt;<i>
</I>&gt;<i> Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Region\CoreModules\Avatar\Inventory\Archiver\InventoryArchiveWriteRequest.cs:line 202
</I>&gt;<i> at
</I>&gt;<i>
</I>&gt;<i> OpenSim.Region.CoreModules.Avatar.Inventory.Archiver.InventoryArchiveWriteRequest.SaveInvFolder(Inventory
</I>&gt;<i>
</I>&gt;<i> FolderBase inventoryFolder, String path, Boolean saveThisFolderItself) in c:\Documents and
</I>&gt;<i>
</I>&gt;<i> Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Region\CoreModules\Avatar\Inventory\Archiver\InventoryArchiveWriteRequest.cs:line 202
</I>&gt;<i> at OpenSim.Region.CoreModules.Avatar.Inventory.Archiver.InventoryArchiveWriteRequest.Execute() in
</I>&gt;<i>
</I>&gt;<i> c:\Documents and Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Region\CoreModules\Avatar\Inventory\Archiver\InventoryArchiveWriteRequest.cs:line 303
</I>&gt;<i> at OpenSim.Region.CoreModules.Avatar.Inventory.Archiver.InventoryArchiverModule.ArchiveInventory(Guid
</I>&gt;<i>
</I>&gt;<i> id, String firstName, String lastName, String invPath, String pass, String savePath) in c:\Documents and
</I>&gt;<i>
</I>&gt;<i> Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Region\CoreModules\Avatar\Inventory\Archiver\InventoryArchiverModule.cs:line 174
</I>&gt;<i> at
</I>&gt;<i>
</I>&gt;<i> OpenSim.Region.CoreModules.Avatar.Inventory.Archiver.InventoryArchiverModule.HandleSaveInvConsoleCommand(
</I>&gt;<i>
</I>&gt;<i> String module, String[] cmdparams) in c:\Documents and Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Region\CoreModules\Avatar\Inventory\Archiver\InventoryArchiverModule.cs:line 341
</I>&gt;<i> at OpenSim.Framework.Console.Commands.Resolve(String[] cmd) in c:\Documents and
</I>&gt;<i>
</I>&gt;<i> Settings\Chris\Desktop\New Folder\OpenSim\Framework\Console\CommandConsole.cs:line 364
</I>&gt;<i> at OpenSim.Framework.Console.LocalConsole.ReadLine(String p, Boolean isCommand, Boolean e) in
</I>&gt;<i>
</I>&gt;<i> c:\Documents and Settings\Chris\Desktop\New Folder\OpenSim\Framework\Console\LocalConsole.cs:line 473
</I>&gt;<i> at OpenSim.Framework.Console.CommandConsole.Prompt() in c:\Documents and Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Framework\Console\CommandConsole.cs:line 583
</I>&gt;<i> at OpenSim.Application.Main(String[] args) in c:\Documents and Settings\Chris\Desktop\New
</I>&gt;<i>
</I>&gt;<i> Folder\OpenSim\Region\Application\Application.cs:line 165
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>

-- 
Justin Clark-Casey (justincc)
<A HREF="http://justincc.org">http://justincc.org</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006233.html">[Opensim-users] Out of Memory Exception on IAR Save?
</A></li>
	<LI>Next message: <A HREF="006243.html">[Opensim-users] Out of Memory Exception on IAR Save?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6240">[ date ]</a>
              <a href="thread.html#6240">[ thread ]</a>
              <a href="subject.html#6240">[ subject ]</a>
              <a href="author.html#6240">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
