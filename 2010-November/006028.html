<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Is &quot;save iar&quot; broken?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Is%20%22save%20iar%22%20broken%3F&In-Reply-To=%3C4CCF908D.9040209%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006027.html">
   <LINK REL="Next"  HREF="006029.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Is &quot;save iar&quot; broken?</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Is%20%22save%20iar%22%20broken%3F&In-Reply-To=%3C4CCF908D.9040209%40googlemail.com%3E"
       TITLE="[Opensim-users] Is &quot;save iar&quot; broken?">jjustincc at googlemail.com
       </A><BR>
    <I>Tue Nov  2 05:16:13 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006027.html">[Opensim-users] Is &quot;save iar&quot; broken?
</A></li>
        <LI>Next message: <A HREF="006029.html">[Opensim-users] uploading a texture from python/php
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6028">[ date ]</a>
              <a href="thread.html#6028">[ thread ]</a>
              <a href="subject.html#6028">[ subject ]</a>
              <a href="author.html#6028">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 30/10/10 13:30, John Hopkin wrote:
&gt;<i> Hi Justin
</I>&gt;<i>
</I>&gt;<i> As far as I know, the inventory service - using OSGrid's servers - is
</I>&gt;<i> working fine normally. I've had no problems with it in-world, put it
</I>&gt;<i> that way.
</I>&gt;<i>
</I>&gt;<i> I've since conducted tests of &quot;save iar&quot; on a couple of other avatars
</I>&gt;<i> on OSGrid with much smaller inventories, and that's worked fine as far
</I>&gt;<i> as I can tell. So perhaps it's the size of my inventory that's the
</I>&gt;<i> problem.
</I>
Yes, I'm guessing it's not impossible that very large inventories are choking the inventory service response in some way.

You might want to try saving small sections of your inventory and see if that works.

&gt;<i>
</I>&gt;<i> Justin Clark-Casey wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Immediately after the
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [INVENTORY ARCHIVER]: Found folder My Inventory&lt;uuid&gt;   at /
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> OpenSim should start saying things like
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [XINVENTORY SERVICE]: Fetch contents for folder 8cb6b32a-2103-4a75-a8cb-c065c0063bf9
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The fact that it isn't suggests a failure with the inventory service (I'm assuming you're using the default inventory
</I>&gt;&gt;<i> service rather than, say, the SimianGrid one).  In this situation, no amount of waiting will move things forward.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What should really happen is that the IAR save should time out, though that wouldn't really help much except to tell you
</I>&gt;&gt;<i> that it's failed.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is your inventory service definitely working for all the items in your inventory?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 29/10/10 22:52, John Hopkin wrote:
</I>&gt;&gt;&gt;<i> Thanks everyone for your responses.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Based on what WftW is saying here, it sounds like it could well still
</I>&gt;&gt;&gt;<i> be processing normally, even though the IAR file doesn't grow and
</I>&gt;&gt;&gt;<i> there's nothing on the console. I'll try it for much longer the next
</I>&gt;&gt;&gt;<i> time I don't need my avatar for a few days. ;)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> John
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">drwhiet at spacefriends.de</A> wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Hi John,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> this all depends on several factors ..
</I>&gt;&gt;&gt;&gt;<i> The size of your inventory, the speed of the inventorys asset server
</I>&gt;&gt;&gt;&gt;<i> and your connection to it AND the lenghth of your 'overnight' of course :-=)
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> When i did a backup of my inventory when OSGRID was migrationg to .7
</I>&gt;&gt;&gt;&gt;<i> it took me 4,5 hours.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> The process is like this..
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> First the save.iar command looks at your inventory and
</I>&gt;&gt;&gt;&gt;<i> creates the final .xml structure file of the .iar
</I>&gt;&gt;&gt;&gt;<i> Next it starts downloading  all your inventory to a temporary cache folder
</I>&gt;&gt;&gt;&gt;<i> After download is complete it writes everything into that .iar file
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> That the console window is frozen is OK. It is only frozen while creating
</I>&gt;&gt;&gt;&gt;<i> the .xml structure file. After that while it downloads everything the
</I>&gt;&gt;&gt;&gt;<i> console window is unfrozen.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I think the save.iar writes out this .xml file with every single item. So
</I>&gt;&gt;&gt;&gt;<i> if a house has 200 prims and 200 textures and 200 scripts it will write
</I>&gt;&gt;&gt;&gt;<i> 600 entries for the item into that .xml file.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Also, after that first waiting the second attempt was muuuch faster as
</I>&gt;&gt;&gt;&gt;<i> everything was already cached ..
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> hope this helps ..
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> best regards
</I>&gt;&gt;&gt;&gt;<i> Wordfromthe Wise
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I'd really like to back up my inv in OSGrid, and the &quot;save iar&quot; and
</I>&gt;&gt;&gt;&gt;&gt;<i> &quot;load iar&quot; facility was working about six months or so ago, but I've
</I>&gt;&gt;&gt;&gt;&gt;<i> been trying again and it seems to hang after starting. I get:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Region (&lt;Region name&gt;) # save iar&lt;1st&gt;   &lt;2nd&gt;   /&lt;passwd&gt;   inv.iar
</I>&gt;&gt;&gt;&gt;&gt;<i> 05:30:11 - [INVENTORY ARCHIVER]: PLEASE NOTE THAT THIS FACILITY IS
</I>&gt;&gt;&gt;&gt;&gt;<i> EXPERIMENTAL.  BUG REPORTS WELCOME.
</I>&gt;&gt;&gt;&gt;&gt;<i> 05:30:11 - [INVENTORY ARCHIVER]: Saving archive inv.iar using
</I>&gt;&gt;&gt;&gt;&gt;<i> inventory path / for&lt;user name&gt;
</I>&gt;&gt;&gt;&gt;&gt;<i> 05:30:12 - [INVENTORY ARCHIVER]: Creating version 0.1 IAR
</I>&gt;&gt;&gt;&gt;&gt;<i> 05:30:12 - [INVENTORY ARCHIVER]: Added control file to archive.
</I>&gt;&gt;&gt;&gt;&gt;<i> 05:30:12 - [INVENTORY ARCHIVER]: Found folder My Inventory&lt;uuid&gt;   at /
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> And that's all on the console - the sim continues to work as normal,
</I>&gt;&gt;&gt;&gt;&gt;<i> but input on the console isn't available. 409600 bytes are written
</I>&gt;&gt;&gt;&gt;&gt;<i> immediately to the archive, but no more. The CPU continues to be
</I>&gt;&gt;&gt;&gt;&gt;<i> fairly heavily loaded, giving the impression that something is
</I>&gt;&gt;&gt;&gt;&gt;<i> happening.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> The avatar is logged in to the region during all this. I've left it
</I>&gt;&gt;&gt;&gt;&gt;<i> running overnight, and there was no progress seven hours later. This
</I>&gt;&gt;&gt;&gt;&gt;<i> is on OpenSim 0.7.1 80f9022, running on Ubuntu, Mono 2.6.7, using
</I>&gt;&gt;&gt;&gt;&gt;<i> OSGrid asset server.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I know that iar is an experimental feature, but it's extremely handy.
</I>&gt;&gt;&gt;&gt;&gt;<i> Is there anything I can do to get it working again? Thanks.
</I>&gt;&gt;&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;&gt;&gt;<i> John Hopkin
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;&gt;<i> Opensim-users mailing list
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>

-- 
Justin Clark-Casey (justincc)
<A HREF="http://justincc.org">http://justincc.org</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006027.html">[Opensim-users] Is &quot;save iar&quot; broken?
</A></li>
	<LI>Next message: <A HREF="006029.html">[Opensim-users] uploading a texture from python/php
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6028">[ date ]</a>
              <a href="thread.html#6028">[ thread ]</a>
              <a href="subject.html#6028">[ subject ]</a>
              <a href="author.html#6028">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
