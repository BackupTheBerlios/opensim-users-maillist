<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Slow LSL timers
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Slow%20LSL%20timers&In-Reply-To=%3C003e01cb9592%24346306e0%249d2914a0%24%40konge.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006362.html">
   <LINK REL="Next"  HREF="006353.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Slow LSL timers</H1>
    <B>Tedd Hansen</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Slow%20LSL%20timers&In-Reply-To=%3C003e01cb9592%24346306e0%249d2914a0%24%40konge.net%3E"
       TITLE="[Opensim-users] Slow LSL timers">tedd at konge.net
       </A><BR>
    <I>Mon Dec  6 23:09:08 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006362.html">[Opensim-users] Slow LSL timers
</A></li>
        <LI>Next message: <A HREF="006353.html">[Opensim-users] Most stable monetary system?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6367">[ date ]</a>
              <a href="thread.html#6367">[ thread ]</a>
              <a href="subject.html#6367">[ subject ]</a>
              <a href="author.html#6367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yeah, not saying it can't be done faster - just providing an explanation of
the logic behind it.
All LSL-scripts in OpenSim are converted to C#-code and then compiled by the
Mono/.Net compiler, so the black magic works.

There once was a choice to dump these converted scripts to disk, but it may
have been removed.
A breakpoint at the right spot will certainly yield the desired result. :)

(If anyone is a bit sporty they'll extract the code and make a web interface
for converting LSL to C#)

Br,
 Tedd

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>
[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>] On Behalf Of Jorge Lima
Sent: 6. desember 2010 17:42
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
Subject: Re: [Opensim-users] Slow LSL timers

Well, the question here is, are we aiming for full LSL compatibility some
day?
It seems wise - given the vast amount of content produced for the SL
platform over the past 7-8 years, a future version of OpenSim would
have much to gain from being 100% compatible.

Now, going back to the issue of timers, in the pre-mono days they
certainly used to be a little slow, and you couldn't safely go below
0.2-0.3 seconds.
Mono is much faster though - and I'm sure filling up the queue with
timers is impossible, since a new timer is only scheduled after the
current one has finished processing.

If you schedule a (0.0001) timer or something, what should happen is
that you effectively have a timer scheduled to &quot;as fast as the event
handler can be run&quot;, assuming you have some bounded and deterministic.
If you change the timer within the event handler, you are simply
changing the timer's rate of fire. If set to zero, you disable it.

I haven't done any thorough testing to validate these assertions, but
they seem to match what it says in the LSL wiki.

Actually, in spite of the global timer manager, it seems that my
previous data shows that by scheduling timers at 0.5 seconds or below
it always takes the same 59 seconds to run them.

The wiki states that C# scripting is &quot;black magic&quot; and there's only
one example of it on the internet, so for the time being I will see if
I can stick to LSL, and maybe later I'll try to figure it out :)
_______________________________________________
Opensim-users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006362.html">[Opensim-users] Slow LSL timers
</A></li>
	<LI>Next message: <A HREF="006353.html">[Opensim-users] Most stable monetary system?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6367">[ date ]</a>
              <a href="thread.html#6367">[ thread ]</a>
              <a href="subject.html#6367">[ subject ]</a>
              <a href="author.html#6367">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
