<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] &quot;Save OAR&quot; stopping since r9700
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20%22Save%20OAR%22%20stopping%20since%20r9700&In-Reply-To=%3C4A20369F.5000608%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002249.html">
   <LINK REL="Next"  HREF="002251.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] &quot;Save OAR&quot; stopping since r9700</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20%22Save%20OAR%22%20stopping%20since%20r9700&In-Reply-To=%3C4A20369F.5000608%40googlemail.com%3E"
       TITLE="[Opensim-users] &quot;Save OAR&quot; stopping since r9700">jjustincc at googlemail.com
       </A><BR>
    <I>Fri May 29 21:25:19 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002249.html">[Opensim-users] &quot;Save OAR&quot; stopping since r9700
</A></li>
        <LI>Next message: <A HREF="002251.html">[Opensim-users] &quot;Save OAR&quot; stopping since r9700
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2250">[ date ]</a>
              <a href="thread.html#2250">[ thread ]</a>
              <a href="subject.html#2250">[ subject ]</a>
              <a href="author.html#2250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The most helpful thing is if you could go backwards from r9573 on Europa until the problem goes away.  And then slowly 
inch forwards until it reappears, so we know which revision number the issue is associated with.

Charles Krinke wrote:
&gt;<i> I tried with r9573 this morning to do a &quot;save oar &lt;oarFileName&gt; and here 
</I>&gt;<i> is my observation:
</I>&gt;<i> 
</I>&gt;<i> First on ckTai which is essentially a blank region.
</I>&gt;<i> Region (ckTai) # save oar ckTai0529
</I>&gt;<i> 18:16:09 - [ARCHIVER]: Writing archive for region ckTai to ckTai0529
</I>&gt;<i> 18:16:09 - [ARCHIVER]: 0 scene objects to serialize requiring save of 0 
</I>&gt;<i> assets
</I>&gt;<i> 18:16:09 - [ARCHIVER]: AssetsRequest executed looking for 0 assets
</I>&gt;<i> 18:16:09 - [ARCHIVER]: Creating archive file.  This may take some time.
</I>&gt;<i> 18:16:09 - [ARCHIVER]: Added control file to archive.
</I>&gt;<i> 18:16:09 - [ARCHIVER]: Added region settings to archive.
</I>&gt;<i> 18:16:10 - [ARCHIVER]: Added terrain information to archive.
</I>&gt;<i> 18:16:10 - [ARCHIVER]: Added scene objects to archive.
</I>&gt;<i> 18:16:10 - [ARCHIVER]: Wrote out OpenSimulator archive for ckTai
</I>&gt;<i> Region (ckTai) # show version
</I>&gt;<i> Version: OpenSimulator Server  0.6.4.9573  (interface version 3)
</I>&gt;<i> 
</I>&gt;<i> Then on Europa which has pushing 1000 prims. What is interesting about 
</I>&gt;<i> Europa is that the first line (in bold) printed out immediately and then 
</I>&gt;<i> there is no response to console. The line below is 40 minutes later and 
</I>&gt;<i> there is still no console response.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Region (Europa) # save oar Europa0529
</I>&gt;<i> 18:18:03 - [ARCHIVER]: Writing archive for region Europa to Europa0529
</I>&gt;<i> 18:31:43 - DIAGNOSTICS
</I>&gt;<i> 
</I>&gt;<i> Time now is 5/29/2009 6:31:43 PM
</I>&gt;<i> Server has been running since Tuesday, 5/19/2009 2:31:42 AM
</I>&gt;<i> That is an elapsed time of 10.16:00:00.4956310
</I>&gt;<i> 
</I>&gt;<i> ASSET STATISTICS
</I>&gt;<i> Asset cache contains        1 assets
</I>&gt;<i> Latest asset request time after cache miss: 0s
</I>&gt;<i> Blocked client requests for missing textures: 0
</I>&gt;<i> Asset service request failures: 0
</I>&gt;<i> 
</I>&gt;<i> CONNECTION STATISTICS
</I>&gt;<i> Abnormal client thread terminations: 0
</I>&gt;<i> 
</I>&gt;<i> INVENTORY STATISTICS
</I>&gt;<i> Initial inventory caching failures: 0
</I>&gt;<i> 
</I>&gt;<i> FRAME STATISTICS
</I>&gt;<i> Dilatn  SimFPS  PhyFPS  AgntUp  RootAg  ChldAg  Prims   AtvPrm  AtvScr  
</I>&gt;<i> ScrLPS
</I>&gt;<i>   0.00       0     0.0     0.0       0       1      48       1       
</I>&gt;<i> 0       0
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> *From:* Justin Clark-Casey &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">jjustincc at googlemail.com</A>&gt;
</I>&gt;<i> *To:* <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> *Sent:* Friday, May 29, 2009 9:01:37 AM
</I>&gt;<i> *Subject:* Re: [Opensim-users] &quot;Save OAR&quot; stopping since r9700
</I>&gt;<i> 
</I>&gt;<i> The data that we (the developers) really need is the exact revision 
</I>&gt;<i> between r9561 to r9700 on which this started
</I>&gt;<i> failing.  I suggest a divide an conquer approach (see if the problem 
</I>&gt;<i> occurs on r9641, if not, then try r9670, etc.).
</I>&gt;<i> Then that information should be put in a mantis (or an existing one, in 
</I>&gt;<i> which case I'll need to know the number).
</I>&gt;<i> 
</I>&gt;<i> John Hopkin wrote:
</I>&gt;<i>  &gt; Interesting - thanks (to both of you).
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; I'm not what other information is relevant, but here's some:
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; 1. For prims counts, they are two of the largest regions among the
</I>&gt;<i>  &gt; seven, marked with asterisks here:
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; 2889
</I>&gt;<i>  &gt; 2717*
</I>&gt;<i>  &gt;  858*
</I>&gt;<i>  &gt;  526
</I>&gt;<i>  &gt;  257
</I>&gt;<i>  &gt;  195
</I>&gt;<i>  &gt;    3
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; 2. In total data size, they're the two of largest, as measured by the
</I>&gt;<i>  &gt; size of the last good backup:
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; 140M*
</I>&gt;<i>  &gt;  31M
</I>&gt;<i>  &gt;  23M*
</I>&gt;<i>  &gt;  7M
</I>&gt;<i>  &gt;  5M
</I>&gt;<i>  &gt;  4M
</I>&gt;<i>  &gt;  0.5M
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; 3. Regarding terrain, as well as location on the grid, they're not
</I>&gt;<i>  &gt; unusual; although they're adjacent to each other, all seven are
</I>&gt;<i>  &gt; located contiguously and contain a mix of elevations.
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; 4. They could well be the regions with the most scripts; I don't know
</I>&gt;<i>  &gt; how I can find that out without a manual audit in-world.
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; There are four other regions, not normally loaded, used occasionally
</I>&gt;<i>  &gt; as sandboxes and storage areas.  I don't yet know if they're affected
</I>&gt;<i>  &gt; by the bug.
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; Hope this gives some idea, and maybe helps.  If you want to know
</I>&gt;<i>  &gt; anything else, please ask.
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; John
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; BlueWall Slade wrote:
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;&gt; I have seen oar failures on Linux (Mono 2.4/64 Bit and Mono 2.5/32 Bit
</I>&gt;<i>  &gt;&gt; environments). And across several versions of OpenSim on several 
</I>&gt;<i> different
</I>&gt;<i>  &gt;&gt; regions. My experience is that any region, in these environments, 
</I>&gt;<i> with more
</I>&gt;<i>  &gt;&gt; than trivial content fails to complete the backup process. I am 
</I>&gt;<i> continuing
</I>&gt;<i>  &gt;&gt; to investigate. Any other information would be most helpful.
</I>&gt;<i>  &gt;&gt;
</I>&gt;<i>  &gt;&gt; Thanks,
</I>&gt;<i>  &gt;&gt; BlueWall
</I>&gt;<i>  &gt;&gt;
</I>&gt;<i>  &gt;&gt; On Thu, May 28, 2009 at 3:25 PM, dr scofield 
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">drscofield at xyzzyxyzzy.net</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">drscofield at xyzzyxyzzy.net</A>&gt;&gt;wrote:
</I>&gt;<i>  &gt;&gt;
</I>&gt;<i>  &gt;&gt;&gt; John Hopkin wrote:
</I>&gt;<i>  &gt;&gt;&gt;&gt; Since I upgraded from r9561 to r9700, two out of seven regions don't
</I>&gt;<i>  &gt;&gt;&gt;&gt; back up using &quot;save oar&quot;.  Even when they're the only region running,
</I>&gt;<i>  &gt;&gt;&gt;&gt; those two have the same symptom: after a while, the archiver appears
</I>&gt;<i>  &gt;&gt;&gt;&gt; to stop writing to the file, as if it's given up.
</I>&gt;<i>  &gt;&gt;&gt;&gt;
</I>&gt;<i>  &gt;&gt;&gt;&gt; Looking at the files with tar, they're fine for many MB, then the
</I>&gt;<i>  &gt;&gt;&gt;&gt; archive ends prematurely.  There's nothing on the screen or in the log
</I>&gt;<i>  &gt;&gt;&gt;&gt; to indicate a problem.  This problem persists, and only on the same
</I>&gt;<i>  &gt;&gt;&gt;&gt; two regions - other regions back up fine.
</I>&gt;<i>  &gt;&gt;&gt;&gt;
</I>&gt;<i>  &gt;&gt;&gt;&gt; Platform is Ubuntu Linux (Jaunty), Mono 2.2, MySQL 5.0; all seven
</I>&gt;<i>  &gt;&gt;&gt;&gt; regions run under one instance of OpenSim.exe.
</I>&gt;<i>  &gt;&gt;&gt;&gt;
</I>&gt;<i>  &gt;&gt;&gt; my not actually be the issue, but mono 2.2 has a bad reputation. 2.0.1
</I>&gt;<i>  &gt;&gt;&gt; seems to be quite stable, 2.4 is also not too bad.
</I>&gt;<i>  &gt;&gt;&gt;
</I>&gt;<i>  &gt;&gt;&gt;    dirk
</I>&gt;<i>  &gt;&gt;&gt;&gt; Any ideas?  Thanks in advance.
</I>&gt;<i>  &gt;&gt;&gt;&gt;
</I>&gt;<i>  &gt;&gt;&gt;
</I>&gt;<i>  &gt;&gt;&gt; --
</I>&gt;<i>  &gt;&gt;&gt; dr dirk husemann ---- math &amp; computer science ---- ibm zurich 
</I>&gt;<i> research lab
</I>&gt;<i>  &gt;&gt;&gt; RL: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">hud at zurich.ibm.com</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">hud at zurich.ibm.com</A>&gt; - +41 44 724 
</I>&gt;<i> 8573 - <A HREF="http://www.zurich.ibm.com/~hud/">http://www.zurich.ibm.com/~hud/</A> 
</I>&gt;<i> &lt;<A HREF="http://www.zurich.ibm.com/%7Ehud/">http://www.zurich.ibm.com/%7Ehud/</A>&gt;&lt;<A HREF="http://www.zurich.ibm.com/%7Ehud/">http://www.zurich.ibm.com/%7Ehud/</A>&gt;
</I>&gt;<i>  &gt;&gt;&gt; SL: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">drscofield at xyzzyxyzzy.net</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">drscofield at xyzzyxyzzy.net</A>&gt; 
</I>&gt;<i> --------------------- <A HREF="http://xyzzyxyzzy.net/">http://xyzzyxyzzy.net/</A>
</I>&gt;<i>  &gt;&gt;&gt;
</I>&gt;<i>  &gt;&gt;&gt; _______________________________________________
</I>&gt;<i>  &gt;&gt;&gt; Opensim-users mailing list
</I>&gt;<i>  &gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>&gt;
</I>&gt;<i>  &gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>  &gt;&gt;&gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> justincc
</I>&gt;<i> Justin Clark-Casey
</I>&gt;<i> <A HREF="http://justincc.wordpress.com">http://justincc.wordpress.com</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>&gt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>

-- 
justincc
Justin Clark-Casey
<A HREF="http://justincc.wordpress.com">http://justincc.wordpress.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002249.html">[Opensim-users] &quot;Save OAR&quot; stopping since r9700
</A></li>
	<LI>Next message: <A HREF="002251.html">[Opensim-users] &quot;Save OAR&quot; stopping since r9700
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2250">[ date ]</a>
              <a href="thread.html#2250">[ thread ]</a>
              <a href="subject.html#2250">[ subject ]</a>
              <a href="author.html#2250">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
