<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Troubles with OAR and IAR files following HD crash
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2012-April/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Troubles%20with%20OAR%20and%20IAR%20files%20following%20HD%0A%20crash&In-Reply-To=%3C4F9896B5.9080709%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010189.html">
   <LINK REL="Next"  HREF="010172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Troubles with OAR and IAR files following HD crash</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Troubles%20with%20OAR%20and%20IAR%20files%20following%20HD%0A%20crash&In-Reply-To=%3C4F9896B5.9080709%40googlemail.com%3E"
       TITLE="[Opensim-users] Troubles with OAR and IAR files following HD crash">jjustincc at googlemail.com
       </A><BR>
    <I>Thu Apr 26 02:28:37 CEST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010189.html">[Opensim-users] Troubles with OAR and IAR files following HD	crash
</A></li>
        <LI>Next message: <A HREF="010172.html">[Opensim-users] Setting directory fee
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10191">[ date ]</a>
              <a href="thread.html#10191">[ thread ]</a>
              <a href="subject.html#10191">[ subject ]</a>
              <a href="author.html#10191">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/04/12 19:39, Fleep Tuque wrote:
&gt;<i> Hi Justin,
</I>&gt;<i>
</I>&gt;<i> 1)  Yes, it was the same failures every time, for both IAR and OAR files.
</I>&gt;<i>
</I>&gt;<i> 2)  Taking the UUID from the error line in the region console that looks like:
</I>&gt;<i>
</I>&gt;<i> 14:25:14 - [ARCHIVER]: Could not find asset 482b4c38-63c4-23d5-88eb-2d84a278616f
</I>&gt;<i>
</I>&gt;<i> And running the command &quot;dump asset &lt;UUID&gt;&quot; on the ROBUST console yields:
</I>&gt;<i>
</I>&gt;<i> ERROR: No asset found with ID 482b4c38-63c4-23d5-88eb-2d84a278616f
</I>&gt;<i> ERROR: No asset found with ID 482b4c38-63c4-23d5-88eb-2d84a278616f
</I>
This indicates that the assets simply are not there to save - the problem is probably not with OAR saving per se.  I 
don't know where they would have gone - could they have been lost in the corruption?

If you are seeing them then I have to assume they are cached somewhere, either client side (though I'm assuming you 
cleared client cache) or simulator-side.

&gt;<i>
</I>&gt;<i> 3)  I _think_ the problem assets are all textures, though I don't know how to verify that other than to say the only
</I>&gt;<i> visible symptom I see from the uploaded OAR or IAR file are missing textures, primarily on clothing items that were
</I>&gt;<i> stored inside another object.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The [Archiver] tells me it can't find these bazillion assets with UUID whatever, but I don't know which assets those are
</I>&gt;<i> and don't know how to figure it out either.  In the absence of being able to fix the problem assets, I'd be happy to
</I>&gt;<i> just DELETE them so at least I'd know which items on the region (or in inventory) were ok, but since the problem UUIDs
</I>&gt;<i> don't show up in the assets table, the prim table, or with the show asset command, I'm stumped about what to do to
</I>&gt;<i> resolve the issue.
</I>
Unfortunately recording the information about the source of asset uuids is not a trivial code change.  However, I do see 
that it would be a very useful thing to have in these cases.

&gt;<i>
</I>&gt;<i> For now, I'm going through the restored OAR file item by item on the sim and checking it and its contents for problems
</I>&gt;<i> or missing textures, and where I find them, I'm replacing the texture on the original sim so hopefully in the next OAR
</I>&gt;<i> save, that item will be ok.
</I>&gt;<i>
</I>&gt;<i> - Chris/Fleep
</I>&gt;<i>
</I>&gt;<i> Chris M. Collins (SL/OS: Fleep Tuque)
</I>&gt;<i> Center for Simulations &amp; Virtual Environments Research (UCSIM)
</I>&gt;<i> UCIT Instructional &amp; Research Computing
</I>&gt;<i> University of Cincinnati
</I>&gt;<i> 406A Zimmer Hall
</I>&gt;<i> 315 College Drive
</I>&gt;<i> PO BOX 210088
</I>&gt;<i> Cincinnati, OH 45221-0088
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">chris.collins at uc.edu</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">chris.collins at uc.edu</A>&gt;
</I>&gt;<i> (513) 556-3018
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://ucsim.uc.edu">http://ucsim.uc.edu</A>
</I>&gt;<i>
</I>&gt;<i> On Tue, Apr 24, 2012 at 11:05 PM, Justin Clark-Casey &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">jjustincc at googlemail.com</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">jjustincc at googlemail.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Is it exactly the same failures every time?  What happens if you dump out the asset using the &quot;dump asset&quot; command
</I>&gt;<i>     on the robust console?  (don't do this on region in case it's cached).  Does the dump output appear to contain the
</I>&gt;<i>     assets?  What exactly are they, serialized object files, textures?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     On 24/04/12 14:54, Fleep Tuque wrote:
</I>&gt;<i>
</I>&gt;<i>         Hi all,
</I>&gt;<i>
</I>&gt;<i>         Since the FleepGrid hard drive crash a few weeks ago, I've been trying to backup content in a variety of ways to
</I>&gt;<i>         make
</I>&gt;<i>         sure I never lose anything again, but I keep running into issues making both OAR files and IAR files with
</I>&gt;<i>         content that
</I>&gt;<i>         exists on the sim or in my inventory.  When the hard drive failed and had to be replaced, I restored the opensim
</I>&gt;<i>         database from a mysql dump file, and restored all of the regions with OAR backups.
</I>&gt;<i>
</I>&gt;<i>         It seemed to me that everything restored ok, but apparently that isn't the case since I can't seem to make good new
</I>&gt;<i>         copies of some of the restored items.
</I>&gt;<i>
</I>&gt;<i>         For example, I just tried to make an IAR backup of my &quot;product boxes&quot; - these are items I've created and
</I>&gt;<i>         packaged up as
</I>&gt;<i>         freebies.  The boxes are sitting on a region that I restored from an OAR file.  I go to the region, take a copy
</I>&gt;<i>         of the
</I>&gt;<i>         boxes sitting out on the sim, and neatly organize them by category in my inventory, then run the command to make
</I>&gt;<i>         an IAR
</I>&gt;<i>         file and I see a ton of these error messages on the region console:
</I>&gt;<i>
</I>&gt;<i>         08:56:16 - [ASYNC REQUEST]: Request GET <A HREF="http://74.83.148.18:8003/__assets/5857ed38">http://74.83.148.18:8003/__assets/5857ed38</A>
</I>&gt;<i>         &lt;<A HREF="http://74.83.148.18:8003/assets/5857ed38">http://74.83.148.18:8003/assets/5857ed38</A>&gt;
</I>&gt;<i>         -0f21-4225-96de-3a0fb7e5a666 failed with status ConnectFailure and message Unabl
</I>&gt;<i>         e to connect to the remote server
</I>&gt;<i>         08:56:16 - [ASYNC REQUEST]: Request GET <A HREF="http://74.83.148.18:8003/__assets/0d4d6aac">http://74.83.148.18:8003/__assets/0d4d6aac</A>
</I>&gt;<i>         &lt;<A HREF="http://74.83.148.18:8003/assets/0d4d6aac">http://74.83.148.18:8003/assets/0d4d6aac</A>&gt;
</I>&gt;<i>         -9400-4f44-a4d9-311512e29c1b failed with status ConnectFailure and message Unabl
</I>&gt;<i>         e to connect to the remote server
</I>&gt;<i>         08:56:16 - [ASYNC REQUEST]: Request GET <A HREF="http://74.83.148.18:8003/__assets/53ad28a3">http://74.83.148.18:8003/__assets/53ad28a3</A>
</I>&gt;<i>         &lt;<A HREF="http://74.83.148.18:8003/assets/53ad28a3">http://74.83.148.18:8003/assets/53ad28a3</A>&gt;
</I>&gt;<i>         -c0f1-4e4c-ad2c-85ec41110fc2 failed with status ConnectFailure and message Unabl
</I>&gt;<i>         e to connect to the remote server
</I>&gt;<i>
</I>&gt;<i>         On the ROBUST console, at the same time, these errors pop up:
</I>&gt;<i>
</I>&gt;<i>         08:56:16 - [BASE HTTP SERVER]: slow GET request for /assets/7474c82c-f428-4b76-b
</I>&gt;<i>         2dd-10859beeb9d3 from 74.83.148.18:4431 &lt;<A HREF="http://74.83.148.18:4431">http://74.83.148.18:4431</A>&gt; &lt;<A HREF="http://74.83.148.18:4431">http://74.83.148.18:4431</A>&gt; took 3891 ms
</I>&gt;<i>
</I>&gt;<i>         08:56:16 - [BASE HTTP SERVER]: slow GET request for /assets/203ccc0c-52eb-40cf-8
</I>&gt;<i>         f56-6dfb30f032c3 from 74.83.148.18:4582 &lt;<A HREF="http://74.83.148.18:4582">http://74.83.148.18:4582</A>&gt; &lt;<A HREF="http://74.83.148.18:4582">http://74.83.148.18:4582</A>&gt; took 3078 ms
</I>&gt;<i>
</I>&gt;<i>         08:56:16 - [BASE HTTP SERVER]: slow GET request for /assets/6a137fba-7eec-4db8-8
</I>&gt;<i>         038-e94250fbc8d3 from 74.83.148.18:3828 &lt;<A HREF="http://74.83.148.18:3828">http://74.83.148.18:3828</A>&gt; &lt;<A HREF="http://74.83.148.18:3828">http://74.83.148.18:3828</A>&gt; took 3906 ms
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         At the end of the IAR file save process, again on the region console, the following appears:
</I>&gt;<i>
</I>&gt;<i>         08:56:17 - [ARCHIVER]: Added 1200 assets to archive
</I>&gt;<i>         08:56:19 - [ARCHIVER]: Successfully added 1248 assets (1319 assets not found but
</I>&gt;<i>           these may be expected invalid references)
</I>&gt;<i>         08:56:19 - [INVENTORY ARCHIVER]: Saved archive for Fleep Tuque
</I>&gt;<i>
</I>&gt;<i>         Something similar happens when I try to make an OAR file backup of the sim where these objects are rezzed, too,
</I>&gt;<i>         and I
</I>&gt;<i>         haven't yet tested with the IAR file, but with the OAR file, the items will appear when the OAR is loaded, but the
</I>&gt;<i>         object textures are missing from all the contents in the boxes.  (i.e. a shirt object will be in the box, but the
</I>&gt;<i>         texture will be blank white).
</I>&gt;<i>
</I>&gt;<i>         The funny thing is, as far as I can tell the original items restored from the OAR backup are all ok.  I have cleared
</I>&gt;<i>         cache in Imprudence and can open the boxes and pull out the same shirt and the texture seems fine, but I see yet
</I>&gt;<i>         another
</I>&gt;<i>         error on the console that looks like this when I right click &gt; open the item and try to copy the contents to my
</I>&gt;<i>         inventory:
</I>&gt;<i>
</I>&gt;<i>         09:24:17 - [PRIM INVENTORY]: Move of inventory item 00000000-0000-0000-0000-0000
</I>&gt;<i>         00000000 from prim with local id 2578958302 failed because the inventory item co
</I>&gt;<i>         uld not be found
</I>&gt;<i>         09:24:17 - [PRIM INVENTORY]: Adding item 11c3f1e6-b1fb-4a9f-a5bd-__9eee564e2316 fr
</I>&gt;<i>         om FleepGrid - Button Blouse - Disco to folder 217c52c6-5474-31ef-f3cb-__66563b109
</I>&gt;<i>         a4d for Fleep Tuque
</I>&gt;<i>         09:24:17 - [PRIM INVENTORY]: Adding item ed499528-d851-47a7-a74c-__7963f9e44667 fr
</I>&gt;<i>         om FleepGrid - Button Blouse - Disco to folder 217c52c6-5474-31ef-f3cb-__66563b109
</I>&gt;<i>         a4d for Fleep Tuque
</I>&gt;<i>
</I>&gt;<i>         So two questions:
</I>&gt;<i>
</I>&gt;<i>         1) I don't think I have anything misconfigured (though it's certainly a possibility!) so I'm not sure why the region
</I>&gt;<i>         console would be giving an error that it can't connect to the remote server when trying to make the IAR file,
</I>&gt;<i>         especially
</I>&gt;<i>         since all the processes run on the same server.
</I>&gt;<i>
</I>&gt;<i>         2)  I don't understand what's wrong with the restored items rezzed out on the sim.  The box is there, the
</I>&gt;<i>         contents are
</I>&gt;<i>         there, the textures all appear ok even after clearing cache, but I'm getting errors when trying to copy them to my
</I>&gt;<i>         inventory, or saving out OAR or IAR files.  Any ideas what could cause that or better yet how to fix it so I
</I>&gt;<i>         don't have
</I>&gt;<i>         to recreate everything from scratch?
</I>&gt;<i>
</I>&gt;<i>         I can't bear the thought of starting over completely, but if I can't figure out which items are .. broken for
</I>&gt;<i>         want of a
</I>&gt;<i>         better word, and which ones are ok, then I'm not sure what to do.  I don't want to keep building and developing on
</I>&gt;<i>         regions that I can't backup, or working with inventory items that might be corrupt somehow.  I'm really not sure
</I>&gt;<i>         what to do.
</I>&gt;<i>
</I>&gt;<i>         FleepGrid Opensim Server Info
</I>&gt;<i>
</I>&gt;<i>         Version:  0.7.3 Release
</I>&gt;<i>         Architecture:  Grid mode w/ multiple opensim processes (~4 regions per process), all processes on same server
</I>&gt;<i>         HG Enabled:  Yes
</I>&gt;<i>         OS:  Windows XP 32-bit
</I>&gt;<i>         Dbase:  MySQL 5.1
</I>&gt;<i>         Modules:  Diva Wifi for ROBUST, Mimetic Core's Opensim Services bundle, Vivox voice
</I>&gt;<i>
</I>&gt;<i>         Any advice much appreciated, as always!
</I>&gt;<i>
</I>&gt;<i>         - Chris/Fleep
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         Chris M. Collins (SL/OS: Fleep Tuque)
</I>&gt;<i>         Center for Simulations &amp; Virtual Environments Research (UCSIM)
</I>&gt;<i>         UCIT Instructional &amp; Research Computing
</I>&gt;<i>         University of Cincinnati
</I>&gt;<i>         406A Zimmer Hall
</I>&gt;<i>         315 College Drive
</I>&gt;<i>         PO BOX 210088
</I>&gt;<i>         Cincinnati, OH 45221-0088
</I>&gt;<i>         <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">chris.collins at uc.edu</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">chris.collins at uc.edu</A>&gt; &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">chris.collins at uc.edu</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">chris.collins at uc.edu</A>&gt;&gt;
</I>&gt;<i>         (513) 556-3018 &lt;tel:%28513%29%20556-3018&gt;
</I>&gt;<i>
</I>&gt;<i>         <A HREF="http://ucsim.uc.edu">http://ucsim.uc.edu</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         _________________________________________________
</I>&gt;<i>         Opensim-users mailing list
</I>&gt;<i>         <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>&gt;
</I>&gt;<i>         <A HREF="https://lists.berlios.de/__mailman/listinfo/opensim-users">https://lists.berlios.de/__mailman/listinfo/opensim-users</A> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     --
</I>&gt;<i>     Justin Clark-Casey (justincc)
</I>&gt;<i>     <A HREF="http://justincc.org/blog">http://justincc.org/blog</A>
</I>&gt;<i>     <A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</I>&gt;<i>
</I>&gt;<i>     _________________________________________________
</I>&gt;<i>     Opensim-users mailing list
</I>&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>&gt;
</I>&gt;<i>     <A HREF="https://lists.berlios.de/__mailman/listinfo/opensim-users">https://lists.berlios.de/__mailman/listinfo/opensim-users</A> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>

-- 
Justin Clark-Casey (justincc)
<A HREF="http://justincc.org/blog">http://justincc.org/blog</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010189.html">[Opensim-users] Troubles with OAR and IAR files following HD	crash
</A></li>
	<LI>Next message: <A HREF="010172.html">[Opensim-users] Setting directory fee
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10191">[ date ]</a>
              <a href="thread.html#10191">[ thread ]</a>
              <a href="subject.html#10191">[ subject ]</a>
              <a href="author.html#10191">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
