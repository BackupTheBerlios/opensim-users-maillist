<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2013-November/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Hypergrid%20issues%20after%20installing%20Nginx%20Reverse%0A%09Proxy&In-Reply-To=%3C94C17B00-82EA-49A6-A41C-489ECCE9CF9F%40virtualrealmsgrid.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012821.html">
   <LINK REL="Next"  HREF="012823.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy</H1>
    <B>Todd Davis</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Hypergrid%20issues%20after%20installing%20Nginx%20Reverse%0A%09Proxy&In-Reply-To=%3C94C17B00-82EA-49A6-A41C-489ECCE9CF9F%40virtualrealmsgrid.com%3E"
       TITLE="[Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy">opensiminfo at virtualrealmsgrid.com
       </A><BR>
    <I>Thu Nov  7 04:13:51 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="012821.html">[Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy
</A></li>
        <LI>Next message: <A HREF="012823.html">[Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12822">[ date ]</a>
              <a href="thread.html#12822">[ thread ]</a>
              <a href="subject.html#12822">[ subject ]</a>
              <a href="author.html#12822">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Lol so that sounds about right.   Always happens when you are in the middle of trouble shooting things.   So now back to the issue.  Still not hypergriding in or out.   

Thanks
Todd

Sent from my iPad

On 2013-11-06, at 9:45 PM, Michael Emory Cerquoni &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">nebadon2025 at gmail.com</A>&gt; wrote:

&gt;<i> Nothing to worry about its likely cached, clear viewer cache and it should go back to normal.
</I>&gt;<i> 
</I>&gt;<i> On Nov 6, 2013 9:14 PM, &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensiminfo at virtualrealmsgrid.com</A>&gt; wrote:
</I>&gt;<i> Okay something very odd..  I am using Firestorm..  when I log in I get this above my head..
</I>&gt;<i> 
</I>&gt;<i> Todd Davis
</I>&gt;<i> @virtualrealmsgrid.com:8002
</I>&gt;<i> 
</I>&gt;<i> It is like the grid is treating me like I am hypergriding with my former grid URI.
</I>&gt;<i> Any ideas?
</I>&gt;<i> 
</I>&gt;<i> Todd
</I>&gt;<i> 
</I>&gt;<i> -------- Original Message --------
</I>&gt;<i> Subject: Re: [Opensim-users] Hypergrid issues after installing Nginx
</I>&gt;<i> Reverse Proxy
</I>&gt;<i> From: Timothy Rogers &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">timothy.f.rogers at gmail.com</A>&gt;
</I>&gt;<i> Date: Wed, November 06, 2013 3:49 pm
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> 
</I>&gt;<i> Thanks Michael, if I ever decide to use NiGNX or anyone else that is
</I>&gt;<i> an awesome article! Here is the one for Apache for people using Apache
</I>&gt;<i> setup: <A HREF="http://httpd.apache.org/docs/2.2/mod/mod_proxy.html">http://httpd.apache.org/docs/2.2/mod/mod_proxy.html</A>
</I>&gt;<i> 
</I>&gt;<i> On Wed, Nov 6, 2013 at 5:44 PM, Michael Emory Cerquoni
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">nebadon2025 at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Teravus posted this here 3-4 weeks ago it may help you out &gt;
</I>&gt;<i> &gt; <A HREF="http://www.networkinghowtos.com/howto/set-the-x-forwarded-for-header-on-a-nginx-reverse-proxy-setup/">http://www.networkinghowtos.com/howto/set-the-x-forwarded-for-header-on-a-nginx-reverse-proxy-setup/</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Wed, Nov 6, 2013 at 5:42 PM, Timothy Rogers &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">timothy.f.rogers at gmail.com</A>&gt;
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; One issue I ran into when I was setting up Apache Reverse Proxy, I
</I>&gt;<i> &gt;&gt; noticed I never told it to forward headers, that may be one of your
</I>&gt;<i> &gt;&gt; issues if it is not forwarding the proper header information. I am not
</I>&gt;<i> &gt;&gt; to sure how NiGNX handles headers through reverse proxy.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On Wed, Nov 6, 2013 at 5:18 PM, &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensiminfo at virtualrealmsgrid.com</A>&gt;
</I>&gt;<i> &gt;&gt; wrote:
</I>&gt;<i> &gt;&gt; &gt; Hi I setup a Nginx Reverse Proxy on my grid. Now I no one can hypergrid
</I>&gt;<i> &gt;&gt; &gt; in
</I>&gt;<i> &gt;&gt; &gt; or out.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; I did check connectivity thru the Proxy server and it works. I can log
</I>&gt;<i> &gt;&gt; &gt; in
</I>&gt;<i> &gt;&gt; &gt; via the new login Uri: login.virtualrealmsgrid.com and I can even log in
</I>&gt;<i> &gt;&gt; &gt; with the new hypergrid address hg.virtualrealmsgrid.com as the login
</I>&gt;<i> &gt;&gt; &gt; url..
</I>&gt;<i> &gt;&gt; &gt; SO I know the proxy server is working.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; Trying to hypergrid in to the grid from another grid I get this result.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; If I log into Osgrid or Craftworld I search for hg.virtualrealmsgrid.com
</I>&gt;<i> &gt;&gt; &gt; in
</I>&gt;<i> &gt;&gt; &gt; the map they find the grid. But when I try to teleport to I get
</I>&gt;<i> &gt;&gt; &gt; Problem
</I>&gt;<i> &gt;&gt; &gt; Destination. I look at my robust log and there is nothing about
</I>&gt;<i> &gt;&gt; &gt; hypergrid
</I>&gt;<i> &gt;&gt; &gt; in from either grid.
</I>&gt;<i> &gt;&gt; &gt; If I open my port 8002 on my router I see an attempt at hypergrid but
</I>&gt;<i> &gt;&gt; &gt; the
</I>&gt;<i> &gt;&gt; &gt; error I get is:
</I>&gt;<i> &gt;&gt; &gt; 2013-11-06 04:01:48,202 DEBUG -
</I>&gt;<i> &gt;&gt; &gt; OpenSim.Services.HypergridService.GatekeeperService [GATEKEEPER
</I>&gt;<i> &gt;&gt; &gt; SERVICE]:
</I>&gt;<i> &gt;&gt; &gt; Verifying <A HREF="http://virtualrealmsgrid.com:8002">http://virtualrealmsgrid.com:8002</A> against
</I>&gt;<i> &gt;&gt; &gt; <A HREF="http://hg.virtualrealmsgrid.com">http://hg.virtualrealmsgrid.com</A>
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; virtualrealmsgrid.com:8002 use to be the Login URI and Hypergate info..
</I>&gt;<i> &gt;&gt; &gt; with the Proxy it is:
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; login URI = &quot;login.virtualrealmsgrid.com&quot;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; hypergrid info for the grid is:
</I>&gt;<i> &gt;&gt; &gt; HomeURI = &quot;<A HREF="http://hg.virtualrealmsgrid.com">http://hg.virtualrealmsgrid.com</A>&quot;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; GatekeeperURI = &quot;<A HREF="http://hg.virtualrealmsgrid.com">http://hg.virtualrealmsgrid.com</A>&quot;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; When I log in to the grid as a local user I get some errors in the
</I>&gt;<i> &gt;&gt; &gt; OpenSim.log when I try to hypergrid. these are:
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; 2013-11-06 16:25:51,857 DEBUG - OpenSim.Framework.WebUtil [WEB UTIL]:
</I>&gt;<i> &gt;&gt; &gt; ServiceOSD request 1506
</I>&gt;<i> &gt;&gt; &gt; <A HREF="http://184.70.53.242/homeagent/a887910d-072c-42f2-92ae-17e69f65d118/">http://184.70.53.242/homeagent/a887910d-072c-42f2-92ae-17e69f65d118/</A>
</I>&gt;<i> &gt;&gt; &gt; POST
</I>&gt;<i> &gt;&gt; &gt; FAILED: [NotFound] Not Found
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; 2013-11-06 16:25:51,864 DEBUG - OpenSim.Framework.WebUtil [WEB UTIL]:
</I>&gt;<i> &gt;&gt; &gt; ServiceOSD request 1507
</I>&gt;<i> &gt;&gt; &gt; <A HREF="http://184.70.53.242/homeagent/a887910d-072c-42f2-92ae-17e69f65d118/">http://184.70.53.242/homeagent/a887910d-072c-42f2-92ae-17e69f65d118/</A>
</I>&gt;<i> &gt;&gt; &gt; POST
</I>&gt;<i> &gt;&gt; &gt; FAILED: [NotFound] Not Found
</I>&gt;<i> &gt;&gt; &gt; 2013-11-06 16:25:51,866 WARN -
</I>&gt;<i> &gt;&gt; &gt; OpenSim.Services.Connectors.Simulation.SimulationServiceConnector
</I>&gt;<i> &gt;&gt; &gt; [REMOTE
</I>&gt;<i> &gt;&gt; &gt; SIMULATION CONNECTOR]: Failed to create agent Todd Davis at remote
</I>&gt;<i> &gt;&gt; &gt; simulator
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; 2013-11-06 16:25:51,868 DEBUG -
</I>&gt;<i> &gt;&gt; &gt; OpenSim.Region.CoreModules.Framework.EntityTransfer.EntityTransferModule
</I>&gt;<i> &gt;&gt; &gt; [ENTITY TRANSFER MODULE]: Teleport of Todd Davis from Mezzo Realm to
</I>&gt;<i> &gt;&gt; &gt; Lbsa
</I>&gt;<i> &gt;&gt; &gt; Plaza was refused because Service request failed: [NotFound] Not Found
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; Also I get one error when I log off the grid as a user in the
</I>&gt;<i> &gt;&gt; &gt; OpenSim.log.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; 2013-11-06 16:26:24,869 DEBUG -
</I>&gt;<i> &gt;&gt; &gt; OpenSim.Services.Connectors.Hypergrid.UserAgentServiceConnector [USER
</I>&gt;<i> &gt;&gt; &gt; AGENT
</I>&gt;<i> &gt;&gt; &gt; CONNECTOR]: Unable to contact remote server <A HREF="http://184.70.53.242/">http://184.70.53.242/</A> for
</I>&gt;<i> &gt;&gt; &gt; GetBoolResponse
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; The setup for the grid is the only the hypergrid server information is
</I>&gt;<i> &gt;&gt; &gt; exposed to the internet ie: all the 8002 connectors pass through the
</I>&gt;<i> &gt;&gt; &gt; proxy
</I>&gt;<i> &gt;&gt; &gt; and the 8003 connectors are on a internal network ip system.. Save I
</I>&gt;<i> &gt;&gt; &gt; have a
</I>&gt;<i> &gt;&gt; &gt; SRAS Asset server running that is on 8004 and that is exposed to the
</I>&gt;<i> &gt;&gt; &gt; internet also (that is another question but it needs to wait).
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; I have checked and rechecked to make sure all references to old
</I>&gt;<i> &gt;&gt; &gt; virtualrealmsgrid.com:8002 are changed to new proxy URIs.. I have
</I>&gt;<i> &gt;&gt; &gt; even
</I>&gt;<i> &gt;&gt; &gt; gone through all my databases to make sure nothing shows
</I>&gt;<i> &gt;&gt; &gt; virtualrealmsgrid:8002
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; So the long and short of this is I think there is something not pointing
</I>&gt;<i> &gt;&gt; &gt; properly in either the Robust.HG.ini, OpenSim.ini or GridCommon.ini not
</I>&gt;<i> &gt;&gt; &gt; talking to the hypergrid connectors..
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; Thanks for the help in advance..
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; Todd
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; _______________________________________________
</I>&gt;<i> &gt;&gt; &gt; Opensim-users mailing list
</I>&gt;<i> &gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Opensim-users mailing list
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Michael Emory Cerquoni
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Opensim-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20131106/4ab41bc2/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20131106/4ab41bc2/attachment.html</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012821.html">[Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy
</A></li>
	<LI>Next message: <A HREF="012823.html">[Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12822">[ date ]</a>
              <a href="thread.html#12822">[ thread ]</a>
              <a href="subject.html#12822">[ subject ]</a>
              <a href="author.html#12822">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
