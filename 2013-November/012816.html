<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2013-November/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Hypergrid%20issues%20after%20installing%20Nginx%20Reverse%0A%09Proxy&In-Reply-To=%3CCAN87VwgXcXQbpO-5rdMZBxE%3DSi3My_NHXZbeFR-MkfrUWN-U1g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012815.html">
   <LINK REL="Next"  HREF="012817.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy</H1>
    <B>Timothy Rogers</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Hypergrid%20issues%20after%20installing%20Nginx%20Reverse%0A%09Proxy&In-Reply-To=%3CCAN87VwgXcXQbpO-5rdMZBxE%3DSi3My_NHXZbeFR-MkfrUWN-U1g%40mail.gmail.com%3E"
       TITLE="[Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy">timothy.f.rogers at gmail.com
       </A><BR>
    <I>Wed Nov  6 23:42:03 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="012815.html">[Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy
</A></li>
        <LI>Next message: <A HREF="012817.html">[Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12816">[ date ]</a>
              <a href="thread.html#12816">[ thread ]</a>
              <a href="subject.html#12816">[ subject ]</a>
              <a href="author.html#12816">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>One issue I ran into when I was setting up Apache Reverse Proxy, I
noticed I never told it to forward headers, that may be one of your
issues if it is not forwarding the proper header information. I am not
to sure how NiGNX handles headers through reverse proxy.

On Wed, Nov 6, 2013 at 5:18 PM,  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensiminfo at virtualrealmsgrid.com</A>&gt; wrote:
&gt;<i> Hi I setup a Nginx Reverse Proxy on my grid.  Now I no one can hypergrid in
</I>&gt;<i> or out.
</I>&gt;<i>
</I>&gt;<i>  I did check connectivity thru the Proxy server and it works. I can log in
</I>&gt;<i> via the new login Uri: login.virtualrealmsgrid.com and I can even log in
</I>&gt;<i> with the new hypergrid address hg.virtualrealmsgrid.com  as the login url..
</I>&gt;<i> SO I know the proxy server is working.
</I>&gt;<i>
</I>&gt;<i> Trying to hypergrid in to the grid from another grid I get this result.
</I>&gt;<i>
</I>&gt;<i> If I log into Osgrid or Craftworld I search for hg.virtualrealmsgrid.com in
</I>&gt;<i> the map they find the grid.   But when I try to teleport to I get Problem
</I>&gt;<i> Destination.  I look at my robust log and there is nothing about hypergrid
</I>&gt;<i> in from either grid.
</I>&gt;<i> If I open my port 8002 on my router I see an attempt at hypergrid but the
</I>&gt;<i> error I get is:
</I>&gt;<i> 2013-11-06 04:01:48,202 DEBUG -
</I>&gt;<i> OpenSim.Services.HypergridService.GatekeeperService [GATEKEEPER SERVICE]:
</I>&gt;<i> Verifying <A HREF="http://virtualrealmsgrid.com:8002">http://virtualrealmsgrid.com:8002</A> against
</I>&gt;<i> <A HREF="http://hg.virtualrealmsgrid.com">http://hg.virtualrealmsgrid.com</A>
</I>&gt;<i>
</I>&gt;<i> virtualrealmsgrid.com:8002 use to be the Login URI and Hypergate info..
</I>&gt;<i> with the Proxy it is:
</I>&gt;<i>
</I>&gt;<i>  login URI = &quot;login.virtualrealmsgrid.com&quot;
</I>&gt;<i>
</I>&gt;<i> hypergrid info for the grid is:
</I>&gt;<i> HomeURI = &quot;<A HREF="http://hg.virtualrealmsgrid.com">http://hg.virtualrealmsgrid.com</A>&quot;
</I>&gt;<i>
</I>&gt;<i> GatekeeperURI = &quot;<A HREF="http://hg.virtualrealmsgrid.com">http://hg.virtualrealmsgrid.com</A>&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> When I log in to the grid as a local user I get some errors in the
</I>&gt;<i> OpenSim.log when I try to hypergrid. these are:
</I>&gt;<i>
</I>&gt;<i> 2013-11-06 16:25:51,857 DEBUG - OpenSim.Framework.WebUtil [WEB UTIL]:
</I>&gt;<i> ServiceOSD request 1506
</I>&gt;<i> <A HREF="http://184.70.53.242/homeagent/a887910d-072c-42f2-92ae-17e69f65d118/">http://184.70.53.242/homeagent/a887910d-072c-42f2-92ae-17e69f65d118/</A> POST
</I>&gt;<i> FAILED: [NotFound] Not Found
</I>&gt;<i>
</I>&gt;<i> 2013-11-06 16:25:51,864 DEBUG - OpenSim.Framework.WebUtil [WEB UTIL]:
</I>&gt;<i> ServiceOSD request 1507
</I>&gt;<i> <A HREF="http://184.70.53.242/homeagent/a887910d-072c-42f2-92ae-17e69f65d118/">http://184.70.53.242/homeagent/a887910d-072c-42f2-92ae-17e69f65d118/</A> POST
</I>&gt;<i> FAILED: [NotFound] Not Found
</I>&gt;<i> 2013-11-06 16:25:51,866 WARN -
</I>&gt;<i> OpenSim.Services.Connectors.Simulation.SimulationServiceConnector [REMOTE
</I>&gt;<i> SIMULATION CONNECTOR]: Failed to create agent Todd Davis at remote simulator
</I>&gt;<i>
</I>&gt;<i> 2013-11-06 16:25:51,868 DEBUG -
</I>&gt;<i> OpenSim.Region.CoreModules.Framework.EntityTransfer.EntityTransferModule
</I>&gt;<i> [ENTITY TRANSFER MODULE]: Teleport of Todd Davis from Mezzo Realm to Lbsa
</I>&gt;<i> Plaza was refused because Service request failed: [NotFound] Not Found
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Also I get one error when I log off the grid as a user in the OpenSim.log.
</I>&gt;<i>
</I>&gt;<i> 2013-11-06 16:26:24,869 DEBUG -
</I>&gt;<i> OpenSim.Services.Connectors.Hypergrid.UserAgentServiceConnector [USER AGENT
</I>&gt;<i> CONNECTOR]: Unable to contact remote server <A HREF="http://184.70.53.242/">http://184.70.53.242/</A> for
</I>&gt;<i> GetBoolResponse
</I>&gt;<i>
</I>&gt;<i> The setup for the grid is the only the hypergrid server information is
</I>&gt;<i> exposed to the internet ie: all the 8002 connectors pass through the proxy
</I>&gt;<i> and the 8003 connectors are on a internal network ip system..  Save I have a
</I>&gt;<i> SRAS Asset server running that is on 8004 and that is exposed to the
</I>&gt;<i> internet also (that is another question but it needs to wait).
</I>&gt;<i>
</I>&gt;<i> I have checked and rechecked to make sure all references to old
</I>&gt;<i> virtualrealmsgrid.com:8002 are changed to  new proxy URIs..   I have even
</I>&gt;<i> gone through all my databases to make sure nothing shows
</I>&gt;<i> virtualrealmsgrid:8002
</I>&gt;<i>
</I>&gt;<i> So the long and short of this is I think there is something not pointing
</I>&gt;<i> properly in either the Robust.HG.ini, OpenSim.ini or GridCommon.ini not
</I>&gt;<i> talking to the hypergrid connectors..
</I>&gt;<i>
</I>&gt;<i> Thanks for the help in advance..
</I>&gt;<i>
</I>&gt;<i> Todd
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012815.html">[Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy
</A></li>
	<LI>Next message: <A HREF="012817.html">[Opensim-users] Hypergrid issues after installing Nginx Reverse	Proxy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12816">[ date ]</a>
              <a href="thread.html#12816">[ thread ]</a>
              <a href="subject.html#12816">[ subject ]</a>
              <a href="author.html#12816">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
