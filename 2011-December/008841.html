<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Inquiry about OpenSim NPC
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2011-December/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Inquiry%20about%20OpenSim%20NPC&In-Reply-To=%3C4EE7CB52.50701%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008839.html">
   <LINK REL="Next"  HREF="008842.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Inquiry about OpenSim NPC</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Inquiry%20about%20OpenSim%20NPC&In-Reply-To=%3C4EE7CB52.50701%40googlemail.com%3E"
       TITLE="[Opensim-users] Inquiry about OpenSim NPC">jjustincc at googlemail.com
       </A><BR>
    <I>Tue Dec 13 23:01:54 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="008839.html">[Opensim-users] Inquiry about OpenSim NPC
</A></li>
        <LI>Next message: <A HREF="008842.html">[Opensim-users] help with between-region crossings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8841">[ date ]</a>
              <a href="thread.html#8841">[ thread ]</a>
              <a href="subject.html#8841">[ subject ]</a>
              <a href="author.html#8841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/12/11 13:21, Bob Wellman wrote:
&gt;<i> Justincc said &quot;I'm happy to listen to suggestions for further NPC functions&quot;
</I>&gt;<i>
</I>&gt;<i> As I am currently working on writing some NPC scripts in PMgrid, I would like to suggest a few things whilst they are on
</I>&gt;<i> my mind.
</I>&gt;<i>
</I>&gt;<i> I realise they will be low priority for some time to come, but if they could just be added to a futures wish list that
</I>&gt;<i> would be great.
</I>&gt;<i>
</I>&gt;<i> 1) Adding OS_NPC_RUN and OS_NPC_NO_RUN options to osNpcMoveToTarget. Default should be OS_NPC_NO_RUN which would work as
</I>&gt;<i> now. The option OS_NPC_RUN would move the NPC at running speed and use a run animation rather than a walk animation.
</I>
Sounds good to me.  A little difficult to do but not enormously so.

&gt;<i>
</I>&gt;<i> 2) Adding osNpcShout and osNpcWhisper functions. Each identical to osNpcSay but shouts or whispers the message rather
</I>&gt;<i> than says it. Hopefully the shout animation would be used on the NPC if he shouts. Alternatively these could be options
</I>&gt;<i> added to osNpcSay to control at what volume something is said, the deafult being Say as now.
</I>
Both good suggestions, I think.  I prefer separate functions since this parallels llShout() and llWhisper().  Would be 
pretty simple to do.

&gt;<i>
</I>&gt;<i> 3) Adding an osNpcTouch(key npc, key target).This would allow NPCs to do things like touch doors to open them before
</I>&gt;<i> trying to walk through them and to interact with existing scripts in object such as light switches, machinery etc.
</I>
I think this is also an interesting idea.  More difficult than 2 as events are involved.

Unfortunately, the chance to me doing them soon is quite small since there are many other issues to address (e.g. npc 
boundary problems, issues with npcs and groups).  Naturally. patches are welcome.

&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  &gt; Date: Wed, 7 Dec 2011 22:59:23 +0000
</I>&gt;<i>  &gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">jjustincc at googlemail.com</A>
</I>&gt;<i>  &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i>  &gt; Subject: Re: [Opensim-users] Inquiry about OpenSim NPC
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; Hi Tan Lu,
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; Unfortunately, the Second Life viewer doesn't (yet!) recognize NPCs - as far as its concerned they're users like
</I>&gt;<i>  &gt; everybody else.
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; Therefore, scripting NPCs in OpenSimulator is subject to a number of workarounds. For instance, you can't place scripts
</I>&gt;<i>  &gt; in an NPC directly, as you would with a prim. As Garmin said for (1), a standard idiom for controlling NPCs is to
</I>&gt;<i>  &gt; attach an object to them which contains the control script.
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; And as Garmin also said for (2), being able to actually select them is not an expected behaviour. If your viewer allows
</I>&gt;<i>  &gt; this then things are going to go wrong pretty quickly.
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; I'd like to add that I'm happy to listen to suggestions for further NPC functions if there's (1) a demonstrable need,
</I>&gt;<i>  &gt; (2) it's impossible via other script functions or extremely difficult and (3) it's not incredibly complicated to do :).
</I>&gt;<i>  &gt; However, I'm not likely to get to them quickly due to the press of other work and the fact there are still other
</I>&gt;<i>  &gt; outstanding NPC issues that I haven't yet had time to address (e.g. problems if an NPC is pushed outside its region,
</I>&gt;<i>  &gt; issues with movements not being exact).
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; Of course, I'm also very happy to look at code patches for NPC functions :-)
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; On 07/12/11 08:30, TanLu wrote:
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt; Hi, OpenSim users and Justin
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt; I&#8217;m a PhD student and my research focus on agent-based simulation of crowd evacuation in fire emergency. Now I&#8217;m
</I>&gt;<i> trying
</I>&gt;<i>  &gt; &gt; to implement such a simulation in OpenSim and I found the NPCs are really useful which can be used to mimic the
</I>&gt;<i>  &gt; &gt; pedestrian behavior. So far I am able to create NPCs using the script-based approach and make them moving around
</I>&gt;<i>  &gt; &gt; according to some designed rules, but I still have some problems.
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt; (1) I wander if the NPCs can be treated like an object, which can be scripted? Now, I can only use a NPC List in the
</I>&gt;<i>  &gt; &gt; main script to control several NPCs at once, and this leads to a lot of &#8220;for-loop&#8221;. Is it possible to make each NPC to
</I>&gt;<i>  &gt; &gt; have its own script, so that I can use the llRezObject function in the main script to generate NPCs with script?
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt; (2) When I click the NPC under the building mode, the three axes appear as usual. But when I try to move the NPC by
</I>&gt;<i>  &gt; &gt; dragging it along the axis, the NPC disappears once I release the mouse button. Moreover, through the
</I>&gt;<i> osGetAvatarList()
</I>&gt;<i>  &gt; &gt; function, I find the NPC is still in the region! I wander is this a bug on the current NPC function, or did I do
</I>&gt;<i>  &gt; &gt; something wrong?
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt; Could you please kindly help to solve my problems? Any comments or suggestions would be highly appreciated.
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt; Many thanks for your attention and look forward to your reply.
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt; Best regards,
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt; Tan Lu
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt; *****************************************************
</I>&gt;<i>  &gt; &gt; Tan Lu
</I>&gt;<i>  &gt; &gt; Institute of Space and Earth Information Science
</I>&gt;<i>  &gt; &gt; Fok Ying Tung Remote Sensing Science Building
</I>&gt;<i>  &gt; &gt; The Chinese University of Hong Kong
</I>&gt;<i>  &gt; &gt; Shatin, Hong Kong
</I>&gt;<i>  &gt; &gt; Tel: 852-2609 7257
</I>&gt;<i>  &gt; &gt; Fax: 852- 2603 7470
</I>&gt;<i>  &gt; &gt; Email: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">tanlu_0912 at hotmail.com</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">tanlu_0912 at hotmail.com</A>&gt;
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt;
</I>&gt;<i>  &gt; &gt; _______________________________________________
</I>&gt;<i>  &gt; &gt; Opensim-users mailing list
</I>&gt;<i>  &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i>  &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt; --
</I>&gt;<i>  &gt; Justin Clark-Casey (justincc)
</I>&gt;<i>  &gt; <A HREF="http://justincc.org/blog">http://justincc.org/blog</A>
</I>&gt;<i>  &gt; <A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</I>&gt;<i>  &gt; _______________________________________________
</I>&gt;<i>  &gt; Opensim-users mailing list
</I>&gt;<i>  &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i>  &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>

-- 
Justin Clark-Casey (justincc)
<A HREF="http://justincc.org/blog">http://justincc.org/blog</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008839.html">[Opensim-users] Inquiry about OpenSim NPC
</A></li>
	<LI>Next message: <A HREF="008842.html">[Opensim-users] help with between-region crossings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8841">[ date ]</a>
              <a href="thread.html#8841">[ thread ]</a>
              <a href="subject.html#8841">[ subject ]</a>
              <a href="author.html#8841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
