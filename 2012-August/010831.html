<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Question: Avatar Draw Weight
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2012-August/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Question%3A%20Avatar%20Draw%20Weight&In-Reply-To=%3CCAEUbLkzPmxJ8rNuek8z9hw9%2BNN9HN6_qnkihE511f2xE_X%3DBxw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010830.html">
   <LINK REL="Next"  HREF="010833.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Question: Avatar Draw Weight</H1>
    <B>Kay McLennan</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Question%3A%20Avatar%20Draw%20Weight&In-Reply-To=%3CCAEUbLkzPmxJ8rNuek8z9hw9%2BNN9HN6_qnkihE511f2xE_X%3DBxw%40mail.gmail.com%3E"
       TITLE="[Opensim-users] Question: Avatar Draw Weight">mclennan.kay at gmail.com
       </A><BR>
    <I>Wed Aug 29 19:32:54 CEST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010830.html">[Opensim-users] Question: Avatar Draw Weight
</A></li>
        <LI>Next message: <A HREF="010833.html">[Opensim-users] Question: Avatar Draw Weight
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10831">[ date ]</a>
              <a href="thread.html#10831">[ thread ]</a>
              <a href="subject.html#10831">[ subject ]</a>
              <a href="author.html#10831">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Gwyn,

Thank you for the avatar draw weight resource links!

Best,
Kay


On Wed, Aug 29, 2012 at 11:45 AM, Gwyneth Llewelyn &lt;
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">gwyneth.llewelyn at gwynethllewelyn.net</A>&gt; wrote:

&gt;<i> Dear Kay,
</I>&gt;<i>
</I>&gt;<i> You might wish read how Avatar Draw Weight is calculated:
</I>&gt;<i> <A HREF="http://wiki.secondlife.com/wiki/Mesh/Rendering_weight">http://wiki.secondlife.com/wiki/Mesh/Rendering_weight</A>
</I>&gt;<i>
</I>&gt;<i> Base calculation is indeed linked to the number of triangles an avatar
</I>&gt;<i> has, and, of course, any attachment will add to that value. But extra
</I>&gt;<i> settings like glow, flexi, and some scripts will add even more.
</I>&gt;<i>
</I>&gt;<i> But remember: except for scripts on attachments, Avatar Draw Weight is a
</I>&gt;<i> measure of *viewer-side *lag, i.e. how big an effort *your* graphics card
</I>&gt;<i> has to make in order to render an avatar, and *not* an impact on the *
</I>&gt;<i> server* where OpenSim is running. While an avatar with tons of
</I>&gt;<i> attachments needs to download them first &#8212; which will create some impact on
</I>&gt;<i> the simulator, as it starts sending all that data to you; the more avatars
</I>&gt;<i> with attachments on the region, the more effort the simulator has to do &#8212;
</I>&gt;<i> after they're fully loaded, they should have no impact on the simulator any
</I>&gt;<i> more (attachments are phantom). Scripts, of course, running server-side,
</I>&gt;<i> are a different story. Scriptless attachments should not make a huge
</I>&gt;<i> difference on the simulator (except during the initial load).
</I>&gt;<i>
</I>&gt;<i> On the other hand, viewers will definitely notice the impact of high draw
</I>&gt;<i> weights. This is mostly noticeable on low-end, old graphics cards, which
</I>&gt;<i> cannot process so many triangles per frame. It's not so easy to find specs
</I>&gt;<i> for each and every card out there, and to know where the threshold is.
</I>&gt;<i> Modern, high-end graphics cards can render so many polygons per frame that
</I>&gt;<i> I would seriously suspect that they would not notice much of a difference.
</I>&gt;<i>
</I>&gt;<i> A simple rule of thumb: Draw weight of 1000 = just the standard avatar =
</I>&gt;<i> 7500 triangles
</I>&gt;<i> Everything above 1000, divided by 5, gives the amount of extra triangles
</I>&gt;<i> (assuming no glow, no flexiprims, etc.) So an avatar with draw weight of
</I>&gt;<i> 25,950 would have at most 12,500 or so triangles. 18 of those would come up
</I>&gt;<i> to 225,000 triangles. As far back as 2001, high-end graphic cards would
</I>&gt;<i> easily handle 60-100k triangles per frame, assuming 30 FPS (
</I>&gt;<i> <A HREF="http://www.gamedev.net/topic/55764-how-many-triangles-do-most-computer-games-render-per-frame/">http://www.gamedev.net/topic/55764-how-many-triangles-do-most-computer-games-render-per-frame/</A>).
</I>&gt;<i> In 2004, 400-500k triangles at 30 FPS seemed to be more typical (
</I>&gt;<i> <A HREF="http://www.gamedev.net/topic/253770-how-many-triangles-can-your-engine-handle/">http://www.gamedev.net/topic/253770-how-many-triangles-can-your-engine-handle/</A>
</I>&gt;<i> )
</I>&gt;<i>
</I>&gt;<i> Raz Welles has a thorough explanation of where all those triangles come
</I>&gt;<i> from:
</I>&gt;<i> <A HREF="http://razwelles.blogspot.pt/2012/06/opensim-and-mesh-understanding.html">http://razwelles.blogspot.pt/2012/06/opensim-and-mesh-understanding.html</A> He
</I>&gt;<i> quotes a &quot;typical&quot; graphics card being able to render 1.5 million triangles
</I>&gt;<i> at 33 FPS. His articles is from June 2012, so you can see how the amount of
</I>&gt;<i> triangle rendering per second has been growing steadily in the past decade.
</I>&gt;<i>
</I>&gt;<i> Still, all these numbers are merely a rough guideline. LL's own engine on
</I>&gt;<i> the viewer might have performance limits as well &#8212; i.e. it may not be able
</I>&gt;<i> to send all those triangles to the OpenGL layer quickly enough for the GPU
</I>&gt;<i> to tender them. OpenGL, in return, also has a limit on how many triangles
</I>&gt;<i> it can send. And finally, these counts are usually for untextured triangles
</I>&gt;<i> &#8212; add texturing, and the number obviously drops!
</I>&gt;<i>
</I>&gt;<i> However, I think it's a relatively safe bet that anyone with a graphics
</I>&gt;<i> card of around 2010 or so should easily view those 18 avatars with Avatar
</I>&gt;<i> Draw Weight of 25,950, as easily as if they had no attachments, and still
</I>&gt;<i> get 30 FPS, if they don't turn on shadows or the more sophisticated
</I>&gt;<i> advanced lighting options on the newest viewers.
</I>&gt;<i>
</I>&gt;<i> I hope this helps.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> - Gwyn
</I>&gt;<i>
</I>&gt;<i> On 29/08/2012, at 16:18, Kay McLennan wrote:
</I>&gt;<i>
</I>&gt;<i> OpenSim-User List Serve Colleagues,
</I>&gt;<i>
</I>&gt;<i> I currently use the Zen and Phoenix viewers (3) and noticed how the
</I>&gt;<i> &quot;avatar draw weight&quot; feature in these viewers reveals a dramatic increase
</I>&gt;<i> in my draw weight whenever I add any attachments to my avatar (read:  prim
</I>&gt;<i> hair, face light, sculpt shoes or clothes, etc.).  More specifically,
</I>&gt;<i> without any attachments, my avatar has a draw weight of 1,000 but with the
</I>&gt;<i> above listed attachments has a draw weight of 25,950.  Further, when I was
</I>&gt;<i> at an [OpenSim] in-world meeting last week, I observed how many of the
</I>&gt;<i> approximately 18 avatars in attendance had even higher draw weights.
</I>&gt;<i>
</I>&gt;<i> What is the significance of the avatar draw weight when it comes to region
</I>&gt;<i> performance and lag?  More specifically, if a region can support 18 avatars
</I>&gt;<i> with fairly high draw weights, could the region support double the number
</I>&gt;<i> of avatars if everyone used an avatar than only had a draw weight of 1,000?
</I>&gt;<i>
</I>&gt;<i> Thank you in advance.
</I>&gt;<i>
</I>&gt;<i> -- Kay McLennan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>
</I>&gt;<i> &quot;I'm not building a game. I'm building a new country.&quot;
</I>&gt;<i>
</I>&gt;<i>   -- Philip &quot;Linden&quot; Rosedale, interview to Wired, 2004-05-08
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>


--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20120829/f73b5183/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20120829/f73b5183/attachment.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010830.html">[Opensim-users] Question: Avatar Draw Weight
</A></li>
	<LI>Next message: <A HREF="010833.html">[Opensim-users] Question: Avatar Draw Weight
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10831">[ date ]</a>
              <a href="thread.html#10831">[ thread ]</a>
              <a href="subject.html#10831">[ subject ]</a>
              <a href="author.html#10831">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
