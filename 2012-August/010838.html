<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Question: Avatar Draw Weight
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2012-August/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Question%3A%20Avatar%20Draw%20Weight&In-Reply-To=%3CCAEUbLkzaBupJFe1qhX0_RVnFhCXtBpQLSKKT2X7YWjC%3DPN6_uw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010833.html">
   <LINK REL="Next"  HREF="010836.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Question: Avatar Draw Weight</H1>
    <B>Kay McLennan</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Question%3A%20Avatar%20Draw%20Weight&In-Reply-To=%3CCAEUbLkzaBupJFe1qhX0_RVnFhCXtBpQLSKKT2X7YWjC%3DPN6_uw%40mail.gmail.com%3E"
       TITLE="[Opensim-users] Question: Avatar Draw Weight">mclennan.kay at gmail.com
       </A><BR>
    <I>Thu Aug 30 20:21:55 CEST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010833.html">[Opensim-users] Question: Avatar Draw Weight
</A></li>
        <LI>Next message: <A HREF="010836.html">[Opensim-users] Changing timer settings in opensim
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10838">[ date ]</a>
              <a href="thread.html#10838">[ thread ]</a>
              <a href="subject.html#10838">[ subject ]</a>
              <a href="author.html#10838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you Justin (and Gwyneth).

To paraphrase, keeping avatar draw weights low will not enable a greater
number of avatars to log into a given region.  Still, if any of the avatars
logged into a given region have a less than idea/optimal graphics card in
the computer they are using to access the region, keeping avatar draw
weights as low as possible will assist the person with an inferior
computer.  In other words, keeping avatar draw weights low is a kind of a
courtesy to other avatars.

Again, thank you for the useful information and links.

Best,
Kay

On Wed, Aug 29, 2012 at 6:03 PM, Justin Clark-Casey &lt;
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">jjustincc at googlemail.com</A>&gt; wrote:

&gt;<i> As Gwyneth says, I think avatar draw weight will only really affect lag on
</I>&gt;<i> the viewer side due to the time taken to draw more complicated avatars.
</I>&gt;<i>
</I>&gt;<i> Perceived simulator lag tends to depend on the simulator machine specs
</I>&gt;<i> (big difference between 1 and 2 cores, for instance), the quality of the
</I>&gt;<i> network between viewer and simulator, the number of objects on the
</I>&gt;<i> simulator, the number of running scripts and the number of users (real
</I>&gt;<i> users as opposed to NPCs).  There are other factors but those tend to be
</I>&gt;<i> the major ones.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 29/08/12 17:45, Gwyneth Llewelyn wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Dear Kay,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You might wish read how Avatar Draw Weight is calculated:
</I>&gt;&gt;<i> <A HREF="http://wiki.secondlife.com/**wiki/Mesh/Rendering_weight&lt;http://wiki.secondlife.com/wiki/Mesh/Rendering_weight">http://wiki.secondlife.com/**wiki/Mesh/Rendering_weight&lt;http://wiki.secondlife.com/wiki/Mesh/Rendering_weight</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Base calculation is indeed linked to the number of triangles an avatar
</I>&gt;&gt;<i> has, and, of course, any attachment will add to
</I>&gt;&gt;<i> that value. But extra settings like glow, flexi, and some scripts will
</I>&gt;&gt;<i> add even more.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> But remember: except for scripts on attachments, Avatar Draw Weight is a
</I>&gt;&gt;<i> measure of /viewer-side /lag, i.e. how big an
</I>&gt;&gt;<i> effort /your/ graphics card has to make in order to render an avatar, and
</I>&gt;&gt;<i> /not/ an impact on the /server/ where OpenSim
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> is running. While an avatar with tons of attachments needs to download
</I>&gt;&gt;<i> them first &#8212; which will create some impact on the
</I>&gt;&gt;<i> simulator, as it starts sending all that data to you; the more avatars
</I>&gt;&gt;<i> with attachments on the region, the more effort
</I>&gt;&gt;<i> the simulator has to do &#8212; after they're fully loaded, they should have no
</I>&gt;&gt;<i> impact on the simulator any more (attachments
</I>&gt;&gt;<i> are phantom). Scripts, of course, running server-side, are a different
</I>&gt;&gt;<i> story. Scriptless attachments should not make a
</I>&gt;&gt;<i> huge difference on the simulator (except during the initial load).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On the other hand, viewers will definitely notice the impact of high draw
</I>&gt;&gt;<i> weights. This is mostly noticeable on low-end,
</I>&gt;&gt;<i> old graphics cards, which cannot process so many triangles per frame.
</I>&gt;&gt;<i> It's not so easy to find specs for each and every
</I>&gt;&gt;<i> card out there, and to know where the threshold is. Modern, high-end
</I>&gt;&gt;<i> graphics cards can render so many polygons per
</I>&gt;&gt;<i> frame that I would seriously suspect that they would not notice much of a
</I>&gt;&gt;<i> difference.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> A simple rule of thumb: Draw weight of 1000 = just the standard avatar =
</I>&gt;&gt;<i> 7500 triangles
</I>&gt;&gt;<i> Everything above 1000, divided by 5, gives the amount of extra triangles
</I>&gt;&gt;<i> (assuming no glow, no flexiprims, etc.) So an
</I>&gt;&gt;<i> avatar with draw weight of 25,950 would have at most 12,500 or so
</I>&gt;&gt;<i> triangles. 18 of those would come up to 225,000
</I>&gt;&gt;<i> triangles. As far back as 2001, high-end graphic cards would easily
</I>&gt;&gt;<i> handle 60-100k triangles per frame, assuming 30 FPS
</I>&gt;&gt;<i> (<A HREF="http://www.gamedev.net/topic/**55764-how-many-triangles-do-**">http://www.gamedev.net/topic/**55764-how-many-triangles-do-**</A>
</I>&gt;&gt;<i> most-computer-games-render-**per-frame/&lt;<A HREF="http://www.gamedev.net/topic/55764-how-many-triangles-do-most-computer-games-render-per-frame/">http://www.gamedev.net/topic/55764-how-many-triangles-do-most-computer-games-render-per-frame/</A>&gt;).
</I>&gt;&gt;<i> In 2004, 400-500k
</I>&gt;&gt;<i> triangles at 30 FPS seemed to be more typical
</I>&gt;&gt;<i> (<A HREF="http://www.gamedev.net/topic/**253770-how-many-triangles-can-**">http://www.gamedev.net/topic/**253770-how-many-triangles-can-**</A>
</I>&gt;&gt;<i> your-engine-handle/&lt;<A HREF="http://www.gamedev.net/topic/253770-how-many-triangles-can-your-engine-handle/">http://www.gamedev.net/topic/253770-how-many-triangles-can-your-engine-handle/</A>&gt;
</I>&gt;&gt;<i> )
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Raz Welles has a thorough explanation of where all those triangles come
</I>&gt;&gt;<i> from:
</I>&gt;&gt;<i> <A HREF="http://razwelles.blogspot.pt/**2012/06/opensim-and-mesh-**">http://razwelles.blogspot.pt/**2012/06/opensim-and-mesh-**</A>
</I>&gt;&gt;<i> understanding.html&lt;<A HREF="http://razwelles.blogspot.pt/2012/06/opensim-and-mesh-understanding.html">http://razwelles.blogspot.pt/2012/06/opensim-and-mesh-understanding.html</A>&gt;He quotes a &quot;typical&quot; graphics card being able
</I>&gt;&gt;<i> to render 1.5 million triangles at 33 FPS. His articles is from June
</I>&gt;&gt;<i> 2012, so you can see how the amount of triangle
</I>&gt;&gt;<i> rendering per second has been growing steadily in the past decade.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Still, all these numbers are merely a rough guideline. LL's own engine on
</I>&gt;&gt;<i> the viewer might have performance limits as
</I>&gt;&gt;<i> well &#8212; i.e. it may not be able to send all those triangles to the OpenGL
</I>&gt;&gt;<i> layer quickly enough for the GPU to tender
</I>&gt;&gt;<i> them. OpenGL, in return, also has a limit on how many triangles it can
</I>&gt;&gt;<i> send. And finally, these counts are usually for
</I>&gt;&gt;<i> untextured triangles &#8212; add texturing, and the number obviously drops!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> However, I think it's a relatively safe bet that anyone with a graphics
</I>&gt;&gt;<i> card of around 2010 or so should easily view
</I>&gt;&gt;<i> those 18 avatars with Avatar Draw Weight of 25,950, as easily as if they
</I>&gt;&gt;<i> had no attachments, and still get 30 FPS, if
</I>&gt;&gt;<i> they don't turn on shadows or the more sophisticated advanced lighting
</I>&gt;&gt;<i> options on the newest viewers.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I hope this helps.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - Gwyn
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 29/08/2012, at 16:18, Kay McLennan wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  OpenSim-User List Serve Colleagues,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I currently use the Zen and Phoenix viewers (3) and noticed how the
</I>&gt;&gt;&gt;<i> &quot;avatar draw weight&quot; feature in these viewers
</I>&gt;&gt;&gt;<i> reveals a dramatic increase in my draw weight whenever I add any
</I>&gt;&gt;&gt;<i> attachments to my avatar (read:  prim hair, face
</I>&gt;&gt;&gt;<i> light, sculpt shoes or clothes, etc.).  More specifically, without any
</I>&gt;&gt;&gt;<i> attachments, my avatar has a draw weight of
</I>&gt;&gt;&gt;<i> 1,000 but with the above listed attachments has a draw weight of 25,950.
</I>&gt;&gt;&gt;<i>  Further, when I was at an [OpenSim] in-world
</I>&gt;&gt;&gt;<i> meeting last week, I observed how many of the approximately 18 avatars
</I>&gt;&gt;&gt;<i> in attendance had even higher draw weights.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> What is the significance of the avatar draw weight when it comes to
</I>&gt;&gt;&gt;<i> region performance and lag?  More specifically, if
</I>&gt;&gt;&gt;<i> a region can support 18 avatars with fairly high draw weights, could the
</I>&gt;&gt;&gt;<i> region support double the number of avatars
</I>&gt;&gt;&gt;<i> if everyone used an avatar than only had a draw weight of 1,000?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thank you in advance.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -- Kay McLennan
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &quot;I'm not building a game. I'm building a new country.&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- Philip &quot;Linden&quot; Rosedale, interview to Wired, 2004-05-08
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ______________________________**_________________
</I>&gt;&gt;<i> Opensim-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/**mailman/listinfo/opensim-users&lt;https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/**mailman/listinfo/opensim-users&lt;https://lists.berlios.de/mailman/listinfo/opensim-users</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Justin Clark-Casey (justincc)
</I>&gt;<i> OSVW Consulting
</I>&gt;<i> <A HREF="http://justincc.org">http://justincc.org</A>
</I>&gt;<i> <A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</I>&gt;<i>
</I>&gt;<i> ______________________________**_________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/**mailman/listinfo/opensim-users&lt;https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/**mailman/listinfo/opensim-users&lt;https://lists.berlios.de/mailman/listinfo/opensim-users</A>&gt;
</I>&gt;<i>
</I>


--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20120830/0cf98e46/attachment-0001.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20120830/0cf98e46/attachment-0001.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010833.html">[Opensim-users] Question: Avatar Draw Weight
</A></li>
	<LI>Next message: <A HREF="010836.html">[Opensim-users] Changing timer settings in opensim
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10838">[ date ]</a>
              <a href="thread.html#10838">[ thread ]</a>
              <a href="subject.html#10838">[ subject ]</a>
              <a href="author.html#10838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
