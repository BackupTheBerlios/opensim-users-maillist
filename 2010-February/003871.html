<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] MySQL on seperate server?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20MySQL%20on%20seperate%20server%3F&In-Reply-To=%3C1266512205453-4592890.post%40n2.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003867.html">
   <LINK REL="Next"  HREF="003872.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] MySQL on seperate server?</H1>
    <B>Master_Mirage</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20MySQL%20on%20seperate%20server%3F&In-Reply-To=%3C1266512205453-4592890.post%40n2.nabble.com%3E"
       TITLE="[Opensim-users] MySQL on seperate server?">mirage123 at verizon.net
       </A><BR>
    <I>Thu Feb 18 17:56:45 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003867.html">[Opensim-users] MySQL on seperate server?
</A></li>
        <LI>Next message: <A HREF="003872.html">[Opensim-users] MySQL on seperate server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3871">[ date ]</a>
              <a href="thread.html#3871">[ thread ]</a>
              <a href="subject.html#3871">[ subject ]</a>
              <a href="author.html#3871">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

I arrive late, as usual :-)

When a region has around 12000 primitives, with a db server on the same
machine you will have hell on earth or something like that.

Boot up time is around 10 minutes and is impossible to do anything but using
zoom. Impossible to move.

I have tested this with 3 machines (4Gb ram, 500Gb hd RAID, Intel Core Duo
1,73, Intel Core duo 2,3 and amd64) running windows XP, Vista and Windows
7-64 bits.

I was using grid mode (grid server on separate computer... no ROBUST or
UGAIM, it uses a PHP ugaim system).

Separating Mysql to another machine on the same local network (100 Mbps nc)
I could move, build, and even another avatar could enter.

Exporting db and running it on separate server with Linux (ubuntu server
9.04) I could fill the region with 5000 more prims and 2 avatars could work
smooth.

Running opensim on Linux (amd64, 4gb ram, ubuntu server 9.04 64 bits) and db
on separate linux server 2 avatars could work smoothly and filling the
region with 25000 prims (no simple prims, but different sizes, texturized
and scripted).

Anyway, that were my &quot;home&quot; experiences... My conclusion: separate db, don't
use windows.

Greetings


Well 1st a bit on that. going back in time 1.5 years now running
opensimulator, At 1st it dident really matter as there wasent enough of a DB
to become a problem with YET. I had to take in account baised on (no was
really shure about anything) what it was i wanted someday. I knew that both
linux and win were used but seemed a hot argument and still no one really
had an answer for whats best for running a grid on. I Decided  that the only
true way to know is run both and see.
So i purchaced 5 quad core servers all the same equip. ram ect. To me this
would be enough putter power to find out with. Remeber that opensimulator is
still alpha and was more so then.
I begain testing the MANY ways a grid can be formed and the equip. made it a
bit easyer to see it Side By Side in real time. 
It dident take long to see that mysql would grow in perpotion to the db size
as to its own demands.
At 1st it was faster to have mysql local to the services and was for
sometime. Later it started to glom onto the same resources the instances
needed and begain to get verry slow. At that point assets were around 3-4
gigs. Seeing the problem i knew i had to do something as the longer i waited
the worse it would get.
Moved Mysql to another box knowing latency would be there. 
That indeed delt with the 'tipping point' it reached. It wasent hard to see
for my selph what happend.
That worked well for sometime but it begain to develop its own problems due
to the unknowen) as to its settings. Had to readj the MySql settings 4 times
and 2 total rebuilds due to the never ending growth of assest data. When it
hit around 10-11gigs assests a whole new set of problems showed up. The big
one is all that data has to be maintained and backed up. This took most of a
day of downtime as why its doing all that its locking the tables and
Opensimulator freeks. Thats not good and not only is the grid offline but
the amout of time by me to work on it became excessive. As orginaly i had
bee wise and bought enough computers i spent a good while learing about
Mysql replication. This does solve some of the problems as it lets me switch
the services to use the other Mysql and allows maint to happen with little
effort.
Only the one maint is beeing done on has tables locked not both.
Moveing to current time. 23+gigs assests and at my goal of 100 regions
(un-told amout of prims and scripts whatever) it was a verry good plan. 
Is it as fast as it could be? Nope! The problem will allways be there. Is it
scaleable? You betcha!.
I guess my point is Depends on what you expect your grid tobe and planning
assuming worse case as best as you can. 
Opensimulator is made to be as felxable as it needs tobe and what oper.
system i find is a push. Both do an excellent job and Both can and do show
the same performance when set up properly. 
For me the differances realy boiled down to what was more comfortable for me
to maintain. In my case im dealing with many servers acting as one. If you
ask me whats better ill say none.
My best suggestion for ppl starting out is expect nothing and be really
happy when it all works better than you though 
:<i>-)
</I>There will allways be argument and theroy and thats a good thing but there
is no better judge than you and what you can see in realtime.
:<i>working:
</I>
-- 
View this message in context: <A HREF="http://n2.nabble.com/MySQL-on-seperate-server-tp4575740p4592890.html">http://n2.nabble.com/MySQL-on-seperate-server-tp4575740p4592890.html</A>
Sent from the opensim-users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003867.html">[Opensim-users] MySQL on seperate server?
</A></li>
	<LI>Next message: <A HREF="003872.html">[Opensim-users] MySQL on seperate server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3871">[ date ]</a>
              <a href="thread.html#3871">[ thread ]</a>
              <a href="subject.html#3871">[ subject ]</a>
              <a href="author.html#3871">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
