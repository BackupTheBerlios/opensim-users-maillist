<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] MySQL on seperate server?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20MySQL%20on%20seperate%20server%3F&In-Reply-To=%3C708718.56718.qm%40web63107.mail.re1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003885.html">
   <LINK REL="Next"  HREF="003897.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] MySQL on seperate server?</H1>
    <B>Karen Palen</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20MySQL%20on%20seperate%20server%3F&In-Reply-To=%3C708718.56718.qm%40web63107.mail.re1.yahoo.com%3E"
       TITLE="[Opensim-users] MySQL on seperate server?">karen_palen at yahoo.com
       </A><BR>
    <I>Fri Feb 19 19:43:12 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003885.html">[Opensim-users] MySQL on seperate server?
</A></li>
        <LI>Next message: <A HREF="003897.html">[Opensim-users] MySQL on seperate server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3895">[ date ]</a>
              <a href="thread.html#3895">[ thread ]</a>
              <a href="subject.html#3895">[ subject ]</a>
              <a href="author.html#3895">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bob,

I look forward to helping any way I can!

I suspect that we have to address the standalone or &quot;small grid&quot; problem first since it is really a subset of the worldwide grid problem.

BTW I still need to get the Caledon Railway stuff working on PMGrid BTW - a couple of the scripts did not copy over for some reason.

Karen

--- On Fri, 2/19/10, Bob Wellman &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">bob.wellman at hotmail.co.uk</A>&gt; wrote:

&gt;<i> From: Bob Wellman &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">bob.wellman at hotmail.co.uk</A>&gt;
</I>&gt;<i> Subject: Re: [Opensim-users] MySQL on seperate server?
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> Date: Friday, February 19, 2010, 3:34 AM
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> Just to let you know:
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> I am nearing completion of the first rough draft of the
</I>&gt;<i> documentation on our PMgrid Administration tools, which
</I>&gt;<i> includes among other things an analysis of asset
</I>&gt;<i> usages&#160;(for small self contained grids only) and the
</I>&gt;<i> ability to archive redundant assets. To use Karen's
</I>&gt;<i> analogy we have &quot;unscrambled the omelette&quot;...LOL.
</I>&gt;<i> BTW: These tools also deal with duplicate assets. 
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> As Karen points out we have done all this by working
</I>&gt;<i> directly at the database (SQL) level using a .php web based
</I>&gt;<i> interface. We hope in future to make this available to other
</I>&gt;<i> small grid operators so they can attach it to their own to
</I>&gt;<i> web/opensim interface sites to manage their grid(s). That
</I>&gt;<i> day is I am afraid a way off yet especially as the database
</I>&gt;<i> is about to change dramatically in 0.7 and we will need a
</I>&gt;<i> rewrite of what we have done at that stage to match the new
</I>&gt;<i> 0.7 database schema. So our aim is post 0.7
</I>&gt;<i> (plus&#160;rewrite of PMgrid Admin Tools) we will try to
</I>&gt;<i> open source that new version for people. In the meantime I
</I>&gt;<i> intend to release the draft documentation on the current
</I>&gt;<i> version soon&#160;(a few weeks away) for people to see and
</I>&gt;<i> comment on.
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> Just to put credit where its due I wish to point out that
</I>&gt;<i> whilst I am managing and documenting this, the hard
</I>&gt;<i> programming work has all been done by Peetr Maynard of
</I>&gt;<i> PMgrid who is doing all this in his&#160;spare time. This
</I>&gt;<i> coupled with the fact that we are&#160;running a grid
</I>&gt;<i> and&#160;experimenting on other Opensim issues means
</I>&gt;<i> progress on this will be slow. My appologies for that.
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> I am available a lot of the time (retired from RL work
</I>&gt;<i> unlike Peetr.... /me has smug grin on face) for a voice chat
</I>&gt;<i> on windows live messenger (<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">bob.wellman at hotmail.co.uk</A>)
</I>&gt;<i> for anyone who wants to discuss what we are doing on this or
</I>&gt;<i> other topics. I regard all input as useful, thoughts as well
</I>&gt;<i> as action. Your thoughts may or may&#160;not change what we
</I>&gt;<i> are doing but it will certainly change how we think about
</I>&gt;<i> what we are doing.
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> BTW: We are also exploring an idea for distributing asset
</I>&gt;<i> serving geographically to solve an issue with US users
</I>&gt;<i> on&#160;UK grids running slowly, and vice versa, but that is
</I>&gt;<i> another story and too early to share yet, except in voice.
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &#160;
</I>&gt;<i> &gt; Date: Fri, 19 Feb 2010 01:33:26 -0800
</I>&gt;<i> &gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">karen_palen at yahoo.com</A>
</I>&gt;<i> &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; Subject: Re: [Opensim-users] MySQL on seperate
</I>&gt;<i> server?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I think you summarize the problem quite well!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; At this point it must be done at the database (SQL)
</I>&gt;<i> level.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Unfortunately the solution is neither a simple nor
</I>&gt;<i> straightforward since it involves essentially reconstructing
</I>&gt;<i> the &quot;back links&quot; (or &quot;reverse indexes&quot;)
</I>&gt;<i> and identifying the assets which have nothing which refers
</I>&gt;<i> to them! Somewhat analogous to unscrambling an omelet!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Likewise duplicates require comparing MD5 hashes of
</I>&gt;<i> every asset to find identical ones!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Obviously there are short-cuts, but the biggest
</I>&gt;<i> problem is ensuring database integrity and making certain
</I>&gt;<i> that the correct links are maintained.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The biggest problem comes when a central asset server
</I>&gt;<i> is used such as found in OSGrid. OSGrid (and by implication
</I>&gt;<i> most large OpenSim grids) are essentially dynamic, there is
</I>&gt;<i> no guarantee that any specific region will be connected!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The Second Life version of the problem problem is
</I>&gt;<i> relatively benign since Second Life can assume that all
</I>&gt;<i> regions are connected so a simple poll of the regions should
</I>&gt;<i> produce an listing of every reference to an asset.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Lacking this &quot;continuous connect&quot; means that
</I>&gt;<i> some means must be provided to preserve references when a
</I>&gt;<i> region is not connected!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Adding a hypergrided asset server makes this problem
</I>&gt;<i> even worse.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The &quot;time window&quot; approach seems to be the
</I>&gt;<i> most reasonable solution to these &quot;disconnects&quot;.
</I>&gt;<i> My instincts (developed from 45 years of EDA software!)
</I>&gt;<i> tells me that things like the right &quot;time window&quot;
</I>&gt;<i> will be critical and not going to be easily determined.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I wonder if there is a better solution?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Bob Wellman has at least a preliminary solution to the
</I>&gt;<i> simpler cases, hopefully his solution can be extended to the
</I>&gt;<i> more complex ones.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; No doubt this will prove itself in testing. We can
</I>&gt;<i> certainly expect some &quot;interesting&quot; surprises
</I>&gt;<i> which no one has thought about along the way though.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The usual caveats about alpha code apply!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; DISCLAIMER: Bob is doing this part time so please
</I>&gt;<i> don't inundate him with requests for his code or for
</I>&gt;<i> specific features! I am sure offers for help would be
</I>&gt;<i> appreciated though.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Karen
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; --- On Fri, 2/19/10, Impalah Shenzhou
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">impalah at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; From: Impalah Shenzhou &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">impalah at gmail.com</A>&gt;
</I>&gt;<i> &gt; &gt; Subject: Re: [Opensim-users] MySQL on seperate
</I>&gt;<i> server?
</I>&gt;<i> &gt; &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; Date: Friday, February 19, 2010, 1:56 AM
</I>&gt;<i> &gt; &gt; I had the temptation to do a cron
</I>&gt;<i> &gt; &gt; script to delete &quot;orphan&quot; assets but,
</I>&gt;<i> using grid
</I>&gt;<i> &gt; &gt; configuration, I've found that:
</I>&gt;<i> &gt; &gt; - Assets are disconnected from users. So the
</I>&gt;<i> &gt; &gt; only way to know the owner of an asset is to
</I>&gt;<i> request info to
</I>&gt;<i> &gt; &gt; Inventory Servers. Not a real problem... or
</I>&gt;<i> direct accessing
</I>&gt;<i> &gt; &gt; to inventory database or implementing a method
</I>&gt;<i> for querying
</I>&gt;<i> &gt; &gt; on inventory server.
</I>&gt;<i> &gt; &gt; - Objects in regions are not in any user
</I>&gt;<i> inventory, so
</I>&gt;<i> &gt; &gt; the script has to query all regions in the
</I>&gt;<i> grid.-
</I>&gt;<i> &gt; &gt; It is possible that a user has his/her own
</I>&gt;<i> inventory server,
</I>&gt;<i> &gt; &gt; so each of them should be checked as well.
</I>&gt;<i> &gt; &gt; - And of course the script should query the user
</I>&gt;<i> &gt; &gt; server first to get user data, and then the
</I>&gt;<i> inventory server
</I>&gt;<i> &gt; &gt; defined in the data.- Could be possible to query
</I>&gt;<i> &gt; &gt; the last access for an asset too but... which is
</I>&gt;<i> the time
</I>&gt;<i> &gt; &gt; window to consider an asset &quot;useless&quot;?
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; So maybe for 10-20 regions I won't have too
</I>&gt;<i> &gt; &gt; much problems but &quot;what if&quot; I have
</I>&gt;<i> &gt; &gt; 100?
</I>&gt;<i> &gt; &gt; Opensim does not provide some methods natively
</I>&gt;<i> &gt; &gt; (I understand that it is a secondary problem
</I>&gt;<i> nowadays) so
</I>&gt;<i> &gt; &gt; the easy solution is direct access to database.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 2010/2/18 Karen Palen
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">karen_palen at yahoo.com</A>&gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; I have to wonder if there is not some MySQL
</I>&gt;<i> problem that is
</I>&gt;<i> &gt; &gt; contributing to this.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Bob Wellman&quot;
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">bob.wellman at hotmail.co.uk</A>&gt;
</I>&gt;<i> &gt; &gt; and I had an extended discussion about this a
</I>&gt;<i> couple of
</I>&gt;<i> &gt; &gt; weeks ago.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; We both have observed that the OpenSim database
</I>&gt;<i> never
</I>&gt;<i> &gt; &gt; deletes database entries for assets! In addition
</I>&gt;<i> there are
</I>&gt;<i> &gt; &gt; numerous duplicate entries, especially
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Bob has actually done something about this and
</I>&gt;<i> has written
</I>&gt;<i> &gt; &gt; some PHP based MySQL scripts to remove duplicate
</I>&gt;<i> entries and
</I>&gt;<i> &gt; &gt; unused entries. Right now he is upgrading his
</I>&gt;<i> scripts to
</I>&gt;<i> &gt; &gt; make them somewhat portable and I anticipate
</I>&gt;<i> testing them on
</I>&gt;<i> &gt; &gt; my private region in the near future.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; My database grew to over 1.2Gb for a single
</I>&gt;<i> region! I used
</I>&gt;<i> &gt; &gt; a very crude way to fix the problem, I dumped all
</I>&gt;<i> of my
</I>&gt;<i> &gt; &gt; inventory to an IAR file, then dumped the region
</I>&gt;<i> data to an
</I>&gt;<i> &gt; &gt; OAR file.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Now with 5 regions the database occupies less
</I>&gt;<i> than 200Mb!
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Obviously if there is that much difference in the
</I>&gt;<i> database
</I>&gt;<i> &gt; &gt; size then you are going to see a performance
</I>&gt;<i> difference in
</I>&gt;<i> &gt; &gt; the database!
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; This has not been a problem with OpenSim so far,
</I>&gt;<i> probably
</I>&gt;<i> &gt; &gt; because very few users have kept a database for
</I>&gt;<i> more than a
</I>&gt;<i> &gt; &gt; month or so. Our feeling is that this will soon
</I>&gt;<i> become a
</I>&gt;<i> &gt; &gt; problem since OPenSim is now stable enough to get
</I>&gt;<i> some
</I>&gt;<i> &gt; &gt; serious use!
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; We will be posting updates here and on the Wiki
</I>&gt;<i> as soon as
</I>&gt;<i> &gt; &gt; there is anything to share!
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Karen
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; --- On Thu, 2/18/10, Master_Mirage
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">mirage123 at verizon.net</A>&gt;
</I>&gt;<i> &gt; &gt; wrote:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; From: Master_Mirage
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">mirage123 at verizon.net</A>&gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Subject: Re: [Opensim-users] MySQL on
</I>&gt;<i> &gt; &gt; seperate server?
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Date: Thursday, February 18, 2010, 9:56 AM
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; I arrive late, as usual :-)
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; When a region has around 12000 primitives,
</I>&gt;<i> with a db
</I>&gt;<i> &gt; &gt; server
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; on the same
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; machine you will have hell on earth or
</I>&gt;<i> something like
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; that.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Boot up time is around 10 minutes and is
</I>&gt;<i> impossible to
</I>&gt;<i> &gt; &gt; do
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; anything but using
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; zoom. Impossible to move.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; I have tested this with 3 machines (4Gb ram,
</I>&gt;<i> 500Gb hd
</I>&gt;<i> &gt; &gt; RAID,
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Intel Core Duo
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 1,73, Intel Core duo 2,3 and amd64) running
</I>&gt;<i> windows
</I>&gt;<i> &gt; &gt; XP,
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Vista and Windows
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 7-64 bits.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; I was using grid mode (grid server on
</I>&gt;<i> separate
</I>&gt;<i> &gt; &gt; computer...
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; no ROBUST or
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; UGAIM, it uses a PHP ugaim system).
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Separating Mysql to another machine on the
</I>&gt;<i> same local
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; network (100 Mbps nc)
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; I could move, build, and even another avatar
</I>&gt;<i> could
</I>&gt;<i> &gt; &gt; enter.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Exporting db and running it on separate
</I>&gt;<i> server with
</I>&gt;<i> &gt; &gt; Linux
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; (ubuntu server
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 9.04) I could fill the region with 5000 more
</I>&gt;<i> prims and
</I>&gt;<i> &gt; &gt; 2
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; avatars could work
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; smooth.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Running opensim on Linux (amd64, 4gb ram,
</I>&gt;<i> ubuntu
</I>&gt;<i> &gt; &gt; server
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 9.04 64 bits) and db
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; on separate linux server 2 avatars could
</I>&gt;<i> work smoothly
</I>&gt;<i> &gt; &gt; and
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; filling the
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; region with 25000 prims (no simple prims,
</I>&gt;<i> but
</I>&gt;<i> &gt; &gt; different
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; sizes, texturized
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; and scripted).
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Anyway, that were my &quot;home&quot;
</I>&gt;<i> experiences...
</I>&gt;<i> &gt; &gt; My conclusion:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; separate db, don't
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; use windows.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Greetings
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Well 1st a bit on that. going back in time
</I>&gt;<i> 1.5 years
</I>&gt;<i> &gt; &gt; now
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; running
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; opensimulator, At 1st it dident really
</I>&gt;<i> matter as
</I>&gt;<i> &gt; &gt; there
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; wasent enough of a DB
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; to become a problem with YET. I had to take
</I>&gt;<i> in
</I>&gt;<i> &gt; &gt; account
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; baised on (no was
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; really shure about anything) what it was i
</I>&gt;<i> wanted
</I>&gt;<i> &gt; &gt; someday.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; I knew that both
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; linux and win were used but seemed a hot
</I>&gt;<i> argument and
</I>&gt;<i> &gt; &gt; still
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; no one really
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; had an answer for whats best for running a
</I>&gt;<i> grid on. I
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Decided&#160; that the only
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; true way to know is run both and see.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; So i purchaced 5 quad core servers all the
</I>&gt;<i> same equip.
</I>&gt;<i> &gt; &gt; ram
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; ect. To me this
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; would be enough putter power to find out
</I>&gt;<i> with. Remeber
</I>&gt;<i> &gt; &gt; that
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; opensimulator is
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; still alpha and was more so then.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; I begain testing the MANY ways a grid can be
</I>&gt;<i> formed
</I>&gt;<i> &gt; &gt; and the
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; equip. made it a
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; bit easyer to see it Side By Side in real
</I>&gt;<i> time.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; It dident take long to see that mysql would
</I>&gt;<i> grow in
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; perpotion to the db size
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; as to its own demands.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; At 1st it was faster to have mysql local to
</I>&gt;<i> the
</I>&gt;<i> &gt; &gt; services
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; and was for
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; sometime. Later it started to glom onto the
</I>&gt;<i> same
</I>&gt;<i> &gt; &gt; resources
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; the instances
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; needed and begain to get verry slow. At that
</I>&gt;<i> point
</I>&gt;<i> &gt; &gt; assets
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; were around 3-4
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; gigs. Seeing the problem i knew i had to do
</I>&gt;<i> something
</I>&gt;<i> &gt; &gt; as
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; the longer i waited
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; the worse it would get.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Moved Mysql to another box knowing latency
</I>&gt;<i> would be
</I>&gt;<i> &gt; &gt; there.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; That indeed delt with the 'tipping
</I>&gt;<i> point' it
</I>&gt;<i> &gt; &gt; reached. It
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; wasent hard to see
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; for my selph what happend.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; That worked well for sometime but it begain
</I>&gt;<i> to develop
</I>&gt;<i> &gt; &gt; its
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; own problems due
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; to the unknowen) as to its settings. Had to
</I>&gt;<i> readj the
</I>&gt;<i> &gt; &gt; MySql
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; settings 4 times
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; and 2 total rebuilds due to the never ending
</I>&gt;<i> growth
</I>&gt;<i> &gt; &gt; of
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; assest data. When it
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; hit around 10-11gigs assests a whole new set
</I>&gt;<i> of
</I>&gt;<i> &gt; &gt; problems
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; showed up. The big
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; one is all that data has to be maintained
</I>&gt;<i> and backed
</I>&gt;<i> &gt; &gt; up.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; This took most of a
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; day of downtime as why its doing all that
</I>&gt;<i> its locking
</I>&gt;<i> &gt; &gt; the
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; tables and
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Opensimulator freeks. Thats not good and not
</I>&gt;<i> only is
</I>&gt;<i> &gt; &gt; the
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; grid offline but
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; the amout of time by me to work on it
</I>&gt;<i> became
</I>&gt;<i> &gt; &gt; excessive. As
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; orginaly i had
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; bee wise and bought enough computers i spent
</I>&gt;<i> a good
</I>&gt;<i> &gt; &gt; while
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; learing about
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Mysql replication. This does solve some of
</I>&gt;<i> the
</I>&gt;<i> &gt; &gt; problems as
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; it lets me switch
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; the services to use the other Mysql and
</I>&gt;<i> allows maint
</I>&gt;<i> &gt; &gt; to
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; happen with little
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; effort.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Only the one maint is beeing done on has
</I>&gt;<i> tables locked
</I>&gt;<i> &gt; &gt; not
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; both.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Moveing to current time. 23+gigs assests and
</I>&gt;<i> at my
</I>&gt;<i> &gt; &gt; goal of
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; 100 regions
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; (un-told amout of prims and scripts
</I>&gt;<i> whatever) it was
</I>&gt;<i> &gt; &gt; a
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; verry good plan.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Is it as fast as it could be? Nope! The
</I>&gt;<i> problem will
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; allways be there. Is it
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; scaleable? You betcha!.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; I guess my point is Depends on what you
</I>&gt;<i> expect your
</I>&gt;<i> &gt; &gt; grid
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; tobe and planning
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; assuming worse case as best as you can.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Opensimulator is made to be as felxable as
</I>&gt;<i> it needs
</I>&gt;<i> &gt; &gt; tobe
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; and what oper.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; system i find is a push. Both do an
</I>&gt;<i> excellent job and
</I>&gt;<i> &gt; &gt; Both
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; can and do show
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; the same performance when set up properly.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; For me the differances realy boiled down to
</I>&gt;<i> what was
</I>&gt;<i> &gt; &gt; more
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; comfortable for me
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; to maintain. In my case im dealing with many
</I>&gt;<i> servers
</I>&gt;<i> &gt; &gt; acting
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; as one. If you
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; ask me whats better ill say none.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; My best suggestion for ppl starting out is
</I>&gt;<i> expect
</I>&gt;<i> &gt; &gt; nothing
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; and be really
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; happy when it all works better than you
</I>&gt;<i> though
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; :-)
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; There will allways be argument and theroy
</I>&gt;<i> and thats a
</I>&gt;<i> &gt; &gt; good
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; thing but there
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; is no better judge than you and what you can
</I>&gt;<i> see in
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; realtime.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; :working:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; View this message in context:
</I>&gt;<i> <A HREF="http://n2.nabble.com/MySQL-on-seperate-server-tp4575740p4592890.html">http://n2.nabble.com/MySQL-on-seperate-server-tp4575740p4592890.html</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Sent from the opensim-users mailing list
</I>&gt;<i> archive at
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Nabble.com.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; Opensim-users mailing list
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Opensim-users mailing list
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; -----Inline Attachment Follows-----
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Opensim-users mailing list
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Opensim-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>  		 	   		  
</I>&gt;<i> Do you have a story that started on
</I>&gt;<i> Hotmail? Tell
</I>&gt;<i> us now 
</I>&gt;<i> 
</I>&gt;<i> -----Inline Attachment Follows-----
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>

      

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003885.html">[Opensim-users] MySQL on seperate server?
</A></li>
	<LI>Next message: <A HREF="003897.html">[Opensim-users] MySQL on seperate server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3895">[ date ]</a>
              <a href="thread.html#3895">[ thread ]</a>
              <a href="subject.html#3895">[ subject ]</a>
              <a href="author.html#3895">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
