<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] MySQL on seperate server?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20MySQL%20on%20seperate%20server%3F&In-Reply-To=%3C1266601539199-4599176.post%40n2.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003893.html">
   <LINK REL="Next"  HREF="003900.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] MySQL on seperate server?</H1>
    <B>Master_Mirage</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20MySQL%20on%20seperate%20server%3F&In-Reply-To=%3C1266601539199-4599176.post%40n2.nabble.com%3E"
       TITLE="[Opensim-users] MySQL on seperate server?">mirage123 at verizon.net
       </A><BR>
    <I>Fri Feb 19 18:45:39 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003893.html">[Opensim-users] MySQL on seperate server?
</A></li>
        <LI>Next message: <A HREF="003900.html">[Opensim-users] MySQL on seperate server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3894">[ date ]</a>
              <a href="thread.html#3894">[ thread ]</a>
              <a href="subject.html#3894">[ subject ]</a>
              <a href="author.html#3894">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Well john, Im really not trying to scare ppl off. I love ppl getting there
stuff running making there worlds and none of this is stopping that. The
more that take whatever thay have and start doing it the better the realtime
info will be. Less guessing and more 'This is what i have,this is the
problem i had and this is what i did to fix it' matters. This problem, alot
wount run into for a verry long time but thay should at least beaware of it.
New ppl starting armed w. that can plan things out better b4 thay pop out
the 1st block.
The more hindsite we gather the better it is for all of us. I try not to
talk about things that i havent allready done or problems i havent seen. I
see good questions like this, thay dieserve a good answer.
When i asked the same type of questions way back the replys ranged from
'Depends' or 'You will never fill it' to the one i hated the most 'Email me
when you get to that point..lol'. If theres something out there that i
should know about the better off i am when planning it out. Had i gotten a
real answer then, it would have saved alot of time and guessing and
agravation. It would not have stopped me from doing it though. I simply
would have started out a bit differntly is all.
My advice to this is &quot;If you can, DO make mysql on a sep box' Max it out and
pull the mon and keyboard from it lol. That box is now dedicated to do
nothing else but that.
This is something I ended up having todo and continues to work quite well.
Anything passed today's git rev. is guessing. There working on it and this
could change later. We cant flip to the last page of the opensim book and
see who done it because its still beeing written.

:<i>-)
</I>

John Mieske wrote:
&gt;<i> 
</I>&gt;<i> You know...  because of this group I have learned a lot. Databases are an
</I>&gt;<i> item a lot of do take for granted.  Including me. I do believe you hit the
</I>&gt;<i> nail on the head here. The whole problem is the databases from the get go.
</I>&gt;<i> Once that is solved, then matters like &quot;More then one computer to separate
</I>&gt;<i> SQL from servers&quot; would actually not be a problem here. So preach it
</I>&gt;<i> brotha..  we need better inventory control bottom line. hahahaha.
</I>&gt;<i> 
</I>&gt;<i> On Fri, Feb 19, 2010 at 9:43 AM, Master_Mirage
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">mirage123 at verizon.net</A>&gt;wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It is verry clear to me and not hard to understand the verry real problem
</I>&gt;&gt;<i> of
</I>&gt;&gt;<i> data storage. FragStore helps but its not the answer. We simply cannot
</I>&gt;&gt;<i> keep
</I>&gt;&gt;<i> dumping more and more data in and never take any out.
</I>&gt;&gt;<i> With the use of OAR and now IAR, data storage demmand will be evan a
</I>&gt;&gt;<i> bigger
</I>&gt;&gt;<i> problem as how fast ppl will and can fill up there assests. Something
</I>&gt;&gt;<i> needs
</I>&gt;&gt;<i> to take out the trash or it will blowup in ppls faces at a rate never
</I>&gt;&gt;<i> seen
</I>&gt;&gt;<i> sofar. With that said, Im not say the sky is falling ether. Mysql can
</I>&gt;&gt;<i> deal
</I>&gt;&gt;<i> with many many gigs of data and small grids like mine are hardly pushing
</I>&gt;&gt;<i> it.
</I>&gt;&gt;<i> At 23.4g assests thats around 1/4 the cap. it can actualy handle. With
</I>&gt;&gt;<i> things like OAR and IAR it will and does shorten the time we thought we
</I>&gt;&gt;<i> had
</I>&gt;&gt;<i> to come up with a better solution. At 1st the progrssion is slow but as
</I>&gt;&gt;<i> more
</I>&gt;&gt;<i> content is created the faster it begins to fill. Copys of copys forming a
</I>&gt;&gt;<i> region that is also copyed via oar...
</I>&gt;&gt;<i> Users inventorys that users never clean lol.
</I>&gt;&gt;<i> Anyway the Toys are great OAR,IAR excellent but we stall have the same
</I>&gt;&gt;<i> problem as allways and now less time to work out something better i feel.
</I>&gt;&gt;<i> B-)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Bob Wellman wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;  Actually Stefan you are quite right... Asset references are everywhere
</I>&gt;&gt;<i> &gt; that's why it has taken us ages to write something to find and analyse
</I>&gt;&gt;<i> &gt; them ALL.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; We had already recognised that asset references occur in many places
</I>&gt;&gt;<i> &gt; including inside certain asset blobs and our analysis tools takes that
</I>&gt;&gt;<i> &gt; into account. It finds every reference to an asset UUID no matter where
</I>&gt;&gt;<i> it
</I>&gt;&gt;<i> &gt; occurs. Our Adimin Tool finds even those references inside a script or
</I>&gt;&gt;<i> &gt; clothing assets. We even analyse those in a particle system attached to
</I>&gt;&gt;<i> a
</I>&gt;&gt;<i> &gt; prim (the particle texture for instance). And belive me they are in
</I>&gt;&gt;<i> many
</I>&gt;&gt;<i> &gt; other places as well. We have been very thorough. I don't say we
</I>&gt;&gt;<i> haven't
</I>&gt;&gt;<i> &gt; missed one but, if we have missed one, the way we have written the
</I>&gt;&gt;<i> process
</I>&gt;&gt;<i> &gt; makes adding another source of references fairly easy to do.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; For duplicates the checksum idea is what we are actually doing in our
</I>&gt;&gt;<i> &gt; tools. However we are doing via a batch process directly on the
</I>&gt;&gt;<i> database
</I>&gt;&gt;<i> &gt; to avoid altering the opensim code itself (for now). This is a very
</I>&gt;&gt;<i> &gt; inefficient wayt to do this but work. With the advent of Robust we can
</I>&gt;&gt;<i> do
</I>&gt;&gt;<i> &gt; far better in future on how we actually store and retrieve assets
</I>&gt;&gt;<i> &gt; entirely. So long term the asset storage/retireval/achiving solution
</I>&gt;&gt;<i> will
</I>&gt;&gt;<i> &gt; be quite different to what we have now I believe. With some fairlt
</I>&gt;&gt;<i> small
</I>&gt;&gt;<i> &gt; changes I reckon we can make asset work much more efficiently. Again I
</I>&gt;&gt;<i> &gt; have some ideas on where I think we should go on this in the long term,
</I>&gt;&gt;<i> if
</I>&gt;&gt;<i> &gt; you fancy talking it through sometime. IMHO efficiency in this area is
</I>&gt;&gt;<i> &gt; vital to the scalability of Opensim so we need a plan to get to an
</I>&gt;&gt;<i> &gt; efficent design and takes stpes to get there.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; eb 2010 12:31:58 +0100
</I>&gt;&gt;<i> &gt; Subject: Re: [Opensim-users] MySQL on seperate server?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Certain assets, like clothing, are referencing other assets (textures)
</I>&gt;&gt;<i> in
</I>&gt;&gt;<i> &gt; their binary data; hence, you will need to analyze assets to scour them
</I>&gt;&gt;<i> &gt; for used asset ids.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Also, as Melanie pointed out some time ago, scripts may perfectly well
</I>&gt;&gt;<i> &gt; address assets (textures) programmatically by id, which makes it
</I>&gt;&gt;<i> &gt; impossible to be 100% sure that a certain asset will never again be
</I>&gt;&gt;<i> &gt; referenced.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; That said, of course each grid operator is free to implement whatever
</I>&gt;&gt;<i> &gt; restrictions on asset referencing they see fit, and thusly can scavenge
</I>&gt;&gt;<i> &gt; freely.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Why we keep copies is because the assets are supposed to be
</I>&gt;&gt;<i> &#8216;immutable&#8217;;
</I>&gt;&gt;<i> &gt; so if a clothing item &#8216;c&#8217; contains texture &#8216;t&#8217; and is given to avatar
</I>&gt;&gt;<i> &#8216;a&#8217;,
</I>&gt;&gt;<i> &gt; then the clothing item is modified, it will become item &#8216;d&#8217; so that we
</I>&gt;&gt;<i> can
</I>&gt;&gt;<i> &gt; safely assume that &#8216;a&#8217; will not experience any changes in &#8216;d&#8217;, ever.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Also, immutable assets make for efficient caching on the client.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; That said, OpenSim could do much better than it does today. There has
</I>&gt;&gt;<i> been
</I>&gt;&gt;<i> &gt; an idea going around for quite some time to split the asset table in
</I>&gt;&gt;<i> two,
</I>&gt;&gt;<i> &gt; one with the binary data and one with metadata, and join them on a
</I>&gt;&gt;<i> &gt; binaryId; this would allow the binary table to contain a sha-256
</I>&gt;&gt;<i> checksum
</I>&gt;&gt;<i> &gt; that could be used for fast de-duplication by making sure at least
</I>&gt;&gt;<i> there
</I>&gt;&gt;<i> &gt; are no binary duplicates.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; That, in combination with a two-level archive storage mechanism would
</I>&gt;&gt;<i> &gt; probably take the thing home.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; (And of course, some apps could even allow overwriting assets)
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; /Stefan
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt; [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>] On Behalf Of Impalah
</I>&gt;&gt;<i> &gt; Shenzhou
</I>&gt;&gt;<i> &gt; Sent: den 19 februari 2010 09:57
</I>&gt;&gt;<i> &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt; Subject: Re: [Opensim-users] MySQL on seperate server?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I had the temptation to do a cron script to delete &quot;orphan&quot; assets but,
</I>&gt;&gt;<i> &gt; using grid configuration, I've found that:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; - Assets are disconnected from users. So the only way to know the owner
</I>&gt;&gt;<i> of
</I>&gt;&gt;<i> &gt; an asset is to request info to Inventory Servers. Not a real problem...
</I>&gt;&gt;<i> or
</I>&gt;&gt;<i> &gt; direct accessing to inventory database or implementing a method for
</I>&gt;&gt;<i> &gt; querying on inventory server.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; - Objects in regions are not in any user inventory, so the script has
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> &gt; query all regions in the grid.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; - It is possible that a user has his/her own inventory server, so each
</I>&gt;&gt;<i> of
</I>&gt;&gt;<i> &gt; them should be checked as well.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; - And of course the script should query the user server first to get
</I>&gt;&gt;<i> user
</I>&gt;&gt;<i> &gt; data, and then the inventory server defined in the data.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; - Could be possible to query the last access for an asset too but...
</I>&gt;&gt;<i> which
</I>&gt;&gt;<i> &gt; is the time window to consider an asset &quot;useless&quot;?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; So maybe for 10-20 regions I won't have too much problems but &quot;what if&quot;
</I>&gt;&gt;<i> I
</I>&gt;&gt;<i> &gt; have 100?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Opensim does not provide some methods natively (I understand that it is
</I>&gt;&gt;<i> a
</I>&gt;&gt;<i> &gt; secondary problem nowadays) so the easy solution is direct access to
</I>&gt;&gt;<i> &gt; database.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; 2010/2/18 Karen Palen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">karen_palen at yahoo.com</A>&gt;
</I>&gt;&gt;<i> &gt; I have to wonder if there is not some MySQL problem that is
</I>&gt;&gt;<i> contributing
</I>&gt;&gt;<i> &gt; to this.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Bob Wellman&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">bob.wellman at hotmail.co.uk</A>&gt; and I had an extended
</I>&gt;&gt;<i> discussion
</I>&gt;&gt;<i> &gt; about this a couple of weeks ago.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; We both have observed that the OpenSim database never deletes database
</I>&gt;&gt;<i> &gt; entries for assets! In addition there are numerous duplicate entries,
</I>&gt;&gt;<i> &gt; especially
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Bob has actually done something about this and has written some PHP
</I>&gt;&gt;<i> based
</I>&gt;&gt;<i> &gt; MySQL scripts to remove duplicate entries and unused entries. Right now
</I>&gt;&gt;<i> he
</I>&gt;&gt;<i> &gt; is upgrading his scripts to make them somewhat portable and I
</I>&gt;&gt;<i> anticipate
</I>&gt;&gt;<i> &gt; testing them on my private region in the near future.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; My database grew to over 1.2Gb for a single region! I used a very crude
</I>&gt;&gt;<i> &gt; way to fix the problem, I dumped all of my inventory to an IAR file,
</I>&gt;&gt;<i> then
</I>&gt;&gt;<i> &gt; dumped the region data to an OAR file.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Now with 5 regions the database occupies less than 200Mb!
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Obviously if there is that much difference in the database size then
</I>&gt;&gt;<i> you
</I>&gt;&gt;<i> &gt; are going to see a performance difference in the database!
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; This has not been a problem with OpenSim so far, probably because very
</I>&gt;&gt;<i> few
</I>&gt;&gt;<i> &gt; users have kept a database for more than a month or so. Our feeling is
</I>&gt;&gt;<i> &gt; that this will soon become a problem since OPenSim is now stable enough
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> &gt; get some serious use!
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; We will be posting updates here and on the Wiki as soon as there is
</I>&gt;&gt;<i> &gt; anything to share!
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Karen
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; --- On Thu, 2/18/10, Master_Mirage &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">mirage123 at verizon.net</A>&gt; wrote:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt; From: Master_Mirage &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">mirage123 at verizon.net</A>&gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt; Subject: Re: [Opensim-users] MySQL on seperate server?
</I>&gt;&gt;<i> &gt;&gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt;&gt; Date: Thursday, February 18, 2010, 9:56 AM
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; I arrive late, as usual :-)
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; When a region has around 12000 primitives, with a db server
</I>&gt;&gt;<i> &gt;&gt; on the same
</I>&gt;&gt;<i> &gt;&gt; machine you will have hell on earth or something like
</I>&gt;&gt;<i> &gt;&gt; that.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Boot up time is around 10 minutes and is impossible to do
</I>&gt;&gt;<i> &gt;&gt; anything but using
</I>&gt;&gt;<i> &gt;&gt; zoom. Impossible to move.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; I have tested this with 3 machines (4Gb ram, 500Gb hd RAID,
</I>&gt;&gt;<i> &gt;&gt; Intel Core Duo
</I>&gt;&gt;<i> &gt;&gt; 1,73, Intel Core duo 2,3 and amd64) running windows XP,
</I>&gt;&gt;<i> &gt;&gt; Vista and Windows
</I>&gt;&gt;<i> &gt;&gt; 7-64 bits.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; I was using grid mode (grid server on separate computer...
</I>&gt;&gt;<i> &gt;&gt; no ROBUST or
</I>&gt;&gt;<i> &gt;&gt; UGAIM, it uses a PHP ugaim system).
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Separating Mysql to another machine on the same local
</I>&gt;&gt;<i> &gt;&gt; network (100 Mbps nc)
</I>&gt;&gt;<i> &gt;&gt; I could move, build, and even another avatar could enter.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Exporting db and running it on separate server with Linux
</I>&gt;&gt;<i> &gt;&gt; (ubuntu server
</I>&gt;&gt;<i> &gt;&gt; 9.04) I could fill the region with 5000 more prims and 2
</I>&gt;&gt;<i> &gt;&gt; avatars could work
</I>&gt;&gt;<i> &gt;&gt; smooth.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Running opensim on Linux (amd64, 4gb ram, ubuntu server
</I>&gt;&gt;<i> &gt;&gt; 9.04 64 bits) and db
</I>&gt;&gt;<i> &gt;&gt; on separate linux server 2 avatars could work smoothly and
</I>&gt;&gt;<i> &gt;&gt; filling the
</I>&gt;&gt;<i> &gt;&gt; region with 25000 prims (no simple prims, but different
</I>&gt;&gt;<i> &gt;&gt; sizes, texturized
</I>&gt;&gt;<i> &gt;&gt; and scripted).
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Anyway, that were my &quot;home&quot; experiences... My conclusion:
</I>&gt;&gt;<i> &gt;&gt; separate db, don't
</I>&gt;&gt;<i> &gt;&gt; use windows.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Greetings
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Well 1st a bit on that. going back in time 1.5 years now
</I>&gt;&gt;<i> &gt;&gt; running
</I>&gt;&gt;<i> &gt;&gt; opensimulator, At 1st it dident really matter as there
</I>&gt;&gt;<i> &gt;&gt; wasent enough of a DB
</I>&gt;&gt;<i> &gt;&gt; to become a problem with YET. I had to take in account
</I>&gt;&gt;<i> &gt;&gt; baised on (no was
</I>&gt;&gt;<i> &gt;&gt; really shure about anything) what it was i wanted someday.
</I>&gt;&gt;<i> &gt;&gt; I knew that both
</I>&gt;&gt;<i> &gt;&gt; linux and win were used but seemed a hot argument and still
</I>&gt;&gt;<i> &gt;&gt; no one really
</I>&gt;&gt;<i> &gt;&gt; had an answer for whats best for running a grid on. I
</I>&gt;&gt;<i> &gt;&gt; Decided  that the only
</I>&gt;&gt;<i> &gt;&gt; true way to know is run both and see.
</I>&gt;&gt;<i> &gt;&gt; So i purchaced 5 quad core servers all the same equip. ram
</I>&gt;&gt;<i> &gt;&gt; ect. To me this
</I>&gt;&gt;<i> &gt;&gt; would be enough putter power to find out with. Remeber that
</I>&gt;&gt;<i> &gt;&gt; opensimulator is
</I>&gt;&gt;<i> &gt;&gt; still alpha and was more so then.
</I>&gt;&gt;<i> &gt;&gt; I begain testing the MANY ways a grid can be formed and the
</I>&gt;&gt;<i> &gt;&gt; equip. made it a
</I>&gt;&gt;<i> &gt;&gt; bit easyer to see it Side By Side in real time.
</I>&gt;&gt;<i> &gt;&gt; It dident take long to see that mysql would grow in
</I>&gt;&gt;<i> &gt;&gt; perpotion to the db size
</I>&gt;&gt;<i> &gt;&gt; as to its own demands.
</I>&gt;&gt;<i> &gt;&gt; At 1st it was faster to have mysql local to the services
</I>&gt;&gt;<i> &gt;&gt; and was for
</I>&gt;&gt;<i> &gt;&gt; sometime. Later it started to glom onto the same resources
</I>&gt;&gt;<i> &gt;&gt; the instances
</I>&gt;&gt;<i> &gt;&gt; needed and begain to get verry slow. At that point assets
</I>&gt;&gt;<i> &gt;&gt; were around 3-4
</I>&gt;&gt;<i> &gt;&gt; gigs. Seeing the problem i knew i had to do something as
</I>&gt;&gt;<i> &gt;&gt; the longer i waited
</I>&gt;&gt;<i> &gt;&gt; the worse it would get.
</I>&gt;&gt;<i> &gt;&gt; Moved Mysql to another box knowing latency would be there.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; That indeed delt with the 'tipping point' it reached. It
</I>&gt;&gt;<i> &gt;&gt; wasent hard to see
</I>&gt;&gt;<i> &gt;&gt; for my selph what happend.
</I>&gt;&gt;<i> &gt;&gt; That worked well for sometime but it begain to develop its
</I>&gt;&gt;<i> &gt;&gt; own problems due
</I>&gt;&gt;<i> &gt;&gt; to the unknowen) as to its settings. Had to readj the MySql
</I>&gt;&gt;<i> &gt;&gt; settings 4 times
</I>&gt;&gt;<i> &gt;&gt; and 2 total rebuilds due to the never ending growth of
</I>&gt;&gt;<i> &gt;&gt; assest data. When it
</I>&gt;&gt;<i> &gt;&gt; hit around 10-11gigs assests a whole new set of problems
</I>&gt;&gt;<i> &gt;&gt; showed up. The big
</I>&gt;&gt;<i> &gt;&gt; one is all that data has to be maintained and backed up.
</I>&gt;&gt;<i> &gt;&gt; This took most of a
</I>&gt;&gt;<i> &gt;&gt; day of downtime as why its doing all that its locking the
</I>&gt;&gt;<i> &gt;&gt; tables and
</I>&gt;&gt;<i> &gt;&gt; Opensimulator freeks. Thats not good and not only is the
</I>&gt;&gt;<i> &gt;&gt; grid offline but
</I>&gt;&gt;<i> &gt;&gt; the amout of time by me to work on it became excessive. As
</I>&gt;&gt;<i> &gt;&gt; orginaly i had
</I>&gt;&gt;<i> &gt;&gt; bee wise and bought enough computers i spent a good while
</I>&gt;&gt;<i> &gt;&gt; learing about
</I>&gt;&gt;<i> &gt;&gt; Mysql replication. This does solve some of the problems as
</I>&gt;&gt;<i> &gt;&gt; it lets me switch
</I>&gt;&gt;<i> &gt;&gt; the services to use the other Mysql and allows maint to
</I>&gt;&gt;<i> &gt;&gt; happen with little
</I>&gt;&gt;<i> &gt;&gt; effort.
</I>&gt;&gt;<i> &gt;&gt; Only the one maint is beeing done on has tables locked not
</I>&gt;&gt;<i> &gt;&gt; both.
</I>&gt;&gt;<i> &gt;&gt; Moveing to current time. 23+gigs assests and at my goal of
</I>&gt;&gt;<i> &gt;&gt; 100 regions
</I>&gt;&gt;<i> &gt;&gt; (un-told amout of prims and scripts whatever) it was a
</I>&gt;&gt;<i> &gt;&gt; verry good plan.
</I>&gt;&gt;<i> &gt;&gt; Is it as fast as it could be? Nope! The problem will
</I>&gt;&gt;<i> &gt;&gt; allways be there. Is it
</I>&gt;&gt;<i> &gt;&gt; scaleable? You betcha!.
</I>&gt;&gt;<i> &gt;&gt; I guess my point is Depends on what you expect your grid
</I>&gt;&gt;<i> &gt;&gt; tobe and planning
</I>&gt;&gt;<i> &gt;&gt; assuming worse case as best as you can.
</I>&gt;&gt;<i> &gt;&gt; Opensimulator is made to be as felxable as it needs tobe
</I>&gt;&gt;<i> &gt;&gt; and what oper.
</I>&gt;&gt;<i> &gt;&gt; system i find is a push. Both do an excellent job and Both
</I>&gt;&gt;<i> &gt;&gt; can and do show
</I>&gt;&gt;<i> &gt;&gt; the same performance when set up properly.
</I>&gt;&gt;<i> &gt;&gt; For me the differances realy boiled down to what was more
</I>&gt;&gt;<i> &gt;&gt; comfortable for me
</I>&gt;&gt;<i> &gt;&gt; to maintain. In my case im dealing with many servers acting
</I>&gt;&gt;<i> &gt;&gt; as one. If you
</I>&gt;&gt;<i> &gt;&gt; ask me whats better ill say none.
</I>&gt;&gt;<i> &gt;&gt; My best suggestion for ppl starting out is expect nothing
</I>&gt;&gt;<i> &gt;&gt; and be really
</I>&gt;&gt;<i> &gt;&gt; happy when it all works better than you though
</I>&gt;&gt;<i> &gt;&gt; :-)
</I>&gt;&gt;<i> &gt;&gt; There will allways be argument and theroy and thats a good
</I>&gt;&gt;<i> &gt;&gt; thing but there
</I>&gt;&gt;<i> &gt;&gt; is no better judge than you and what you can see in
</I>&gt;&gt;<i> &gt;&gt; realtime.
</I>&gt;&gt;<i> &gt;&gt; :working:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; --
</I>&gt;&gt;<i> &gt;&gt; View this message in context:
</I>&gt;&gt;<i> &gt;&gt; <A HREF="http://n2.nabble.com/MySQL-on-seperate-server-tp4575740p4592890.html">http://n2.nabble.com/MySQL-on-seperate-server-tp4575740p4592890.html</A>
</I>&gt;&gt;<i> &gt;&gt; Sent from the opensim-users mailing list archive at
</I>&gt;&gt;<i> &gt;&gt; Nabble.com.
</I>&gt;&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;&gt;<i> &gt;&gt; Opensim-users mailing list
</I>&gt;&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; Opensim-users mailing list
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; _________________________________________________________________
</I>&gt;&gt;<i> &gt; Send us your Hotmail stories and be featured in our newsletter
</I>&gt;&gt;<i> &gt; <A HREF="http://clk.atdmt.com/UKM/go/195013117/direct/01/">http://clk.atdmt.com/UKM/go/195013117/direct/01/</A>
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; Opensim-users mailing list
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> View this message in context:
</I>&gt;&gt;<i> <A HREF="http://n2.nabble.com/MySQL-on-seperate-server-tp4575740p4598171.html">http://n2.nabble.com/MySQL-on-seperate-server-tp4575740p4598171.html</A>
</I>&gt;&gt;<i> Sent from the opensim-users mailing list archive at Nabble.com.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Opensim-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> John Mieske / Winword Exonar
</I>&gt;<i> <A HREF="http://johnmieske.org">http://johnmieske.org</A>
</I>&gt;<i> Space Grid Station
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 
View this message in context: <A HREF="http://n2.nabble.com/MySQL-on-seperate-server-tp4575740p4599176.html">http://n2.nabble.com/MySQL-on-seperate-server-tp4575740p4599176.html</A>
Sent from the opensim-users mailing list archive at Nabble.com.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003893.html">[Opensim-users] MySQL on seperate server?
</A></li>
	<LI>Next message: <A HREF="003900.html">[Opensim-users] MySQL on seperate server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3894">[ date ]</a>
              <a href="thread.html#3894">[ thread ]</a>
              <a href="subject.html#3894">[ subject ]</a>
              <a href="author.html#3894">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
