<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] r7930 breaks comms with older versions
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20r7930%20breaks%20comms%20with%20older%20versions&In-Reply-To=%3C495FAC6D.2040604%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000963.html">
   <LINK REL="Next"  HREF="000967.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] r7930 breaks comms with older versions</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20r7930%20breaks%20comms%20with%20older%20versions&In-Reply-To=%3C495FAC6D.2040604%40googlemail.com%3E"
       TITLE="[Opensim-users] r7930 breaks comms with older versions">jjustincc at googlemail.com
       </A><BR>
    <I>Sat Jan  3 19:20:29 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000963.html">[Opensim-users] r7930 breaks comms with older versions
</A></li>
        <LI>Next message: <A HREF="000967.html">[Opensim-users] r7930 breaks comms with older versions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#966">[ date ]</a>
              <a href="thread.html#966">[ thread ]</a>
              <a href="subject.html#966">[ subject ]</a>
              <a href="author.html#966">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Diva Canto wrote:
&gt;<i> Hi everyone,
</I>&gt;<i> 
</I>&gt;<i> Child-related interregion comms have practically all been moved to 
</I>&gt;<i> RESTComms. The last one I just moved was the creation of child agents on 
</I>&gt;<i> the vicinity. What this means is that r7930 will work really badly with 
</I>&gt;<i> previous versions: the child agent creation messages will never get to 
</I>&gt;<i> sims running older versions, because they don't speak this new part of 
</I>&gt;<i> the protocol.
</I>&gt;<i> 
</I>&gt;<i> I tried bumping up the MajorInterfaceVersion (in r7929) to flag this 
</I>&gt;<i> serious change, but I regretted instantly, and placed it back to what it 
</I>&gt;<i> was (in r7930). I regretted it, because I couldn't connect my head sims 
</I>&gt;<i> to osgrid... so my conclusion is that this MajorInterfaceVersion process 
</I>&gt;<i> isn't really for this kind of change that I'm working on. We just have 
</I>&gt;<i> to figure out another way of coping with the evolution of interregion comms.
</I>
Fair enough.  The single version number was an attempt to implement the simplest possible solution - but it looks like 
this has very quickly become *too* simple.  Thanks for trying this.

An additional neighbour version number might resolve this kind of problem.  In terms of grid mode, the grid server might 
allow regions implementing any neighbour interface to initially connect (though this could be optionally restricted). 
Subsequent regions being placed next to existing regions could only be allowed to register if they meet both the grid 
comms version *and* all the version numbers of their neighbours within 'line of sight' (both immediately adjacent 
neighbouring and possibly further away depending on how far the avatar is allowed to see).

This system could also allow clusters of regions implementing completely different neighbour protocols to exist as 
separate islands on the grid.

The neighbour protocol could be separate again from the 'teleport' protocol - though the grid might want to enforce a 
homogenous teleport protocol between all connected regions (to prevent balkanization).

tl;dr.  So maybe the single monolithic current interface version number should be split into 3

Grid comms interface version
Region neighbour comms interface version
Region teleport comms interface version

&gt;<i> 
</I>&gt;<i> Anyway, a small note: HG *home* jumps are now slightly broken if you go 
</I>&gt;<i> around on a grid that you HG-jumped to. Bear with this while interregion 
</I>&gt;<i> comms are being reengineered...
</I>&gt;<i> Also, my HG sims in OSGrid and UCI Grid are all on r7930, so if you try 
</I>&gt;<i> to jump in from regions with older versions, you'll probably crash.
</I>&gt;<i> 
</I>&gt;<i> I will stop working on interregion comms for a week, and will pick it up 
</I>&gt;<i> again in a week.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> Crista
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>

-- 
justincc
Justin Clark-Casey
<A HREF="http://justincc.wordpress.com">http://justincc.wordpress.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000963.html">[Opensim-users] r7930 breaks comms with older versions
</A></li>
	<LI>Next message: <A HREF="000967.html">[Opensim-users] r7930 breaks comms with older versions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#966">[ date ]</a>
              <a href="thread.html#966">[ thread ]</a>
              <a href="subject.html#966">[ subject ]</a>
              <a href="author.html#966">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
