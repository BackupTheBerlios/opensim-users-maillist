<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] User can't log in after upgrade to 0.7.1
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20User%20can%27t%20log%20in%20after%20upgrade%20to%200.7.1&In-Reply-To=%3CCAC4YQqHT4xSHRKGPUgJwVin7meh95jxT6xd4v7%3Dy%2BB9dbVETGQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007771.html">
   <LINK REL="Next"  HREF="007769.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] User can't log in after upgrade to 0.7.1</H1>
    <B>Neil Canham</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20User%20can%27t%20log%20in%20after%20upgrade%20to%200.7.1&In-Reply-To=%3CCAC4YQqHT4xSHRKGPUgJwVin7meh95jxT6xd4v7%3Dy%2BB9dbVETGQ%40mail.gmail.com%3E"
       TITLE="[Opensim-users] User can't log in after upgrade to 0.7.1">neil at knowsense.co.uk
       </A><BR>
    <I>Mon Jul 25 16:41:04 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007771.html">[Opensim-users] User can't log in after upgrade to 0.7.1
</A></li>
        <LI>Next message: <A HREF="007769.html">[Opensim-users] proposition: Turn of creation of maptiles on	startup, reduce load..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7772">[ date ]</a>
              <a href="thread.html#7772">[ thread ]</a>
              <a href="subject.html#7772">[ subject ]</a>
              <a href="author.html#7772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK, looks like it may be my own fault :(  Our user admin front end has in
the past not generated salts for all users.  These ones don't seem to have
migrated properly.  There's obviously some other issue with those accounts
too, but since a huge number of migrations must now have happened without
issues it's most likely something at our end.


On Mon, Jul 25, 2011 at 12:41 PM, Neil Canham &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">neil at knowsense.co.uk</A>&gt; wrote:

&gt;<i> Despite the password hash matching what I expected, I tried a password
</I>&gt;<i> reset on the off chance.  Now I can get further - the logs suggest OpenSim
</I>&gt;<i> thinks the user logs in OK, but Imprudence pops up a blank dialog box with a
</I>&gt;<i> 'Close' button and fails to log in with no error.  The only difference I see
</I>&gt;<i> in the OpenSim logs when comparing to a user that logs in successfully is
</I>&gt;<i> this additional row for the failing AV:
</I>&gt;<i>
</I>&gt;<i> 12:33:52 - [CAPS]: Reregistering caps for agent
</I>&gt;<i> 54311955-a5bc-4da0-b296-b47fa1f85ee7.  Old caps path
</I>&gt;<i> 715371fa-583e-41b9-998d-9c2c94266f22, new caps path
</I>&gt;<i> 60f6b555-9e7c-434e-a9db-9a24a8792809.
</I>&gt;<i>
</I>&gt;<i> Anyone experienced this before?
</I>&gt;<i>
</I>&gt;<i> Neil
</I>&gt;<i>
</I>&gt;<i> On Sat, Jul 23, 2011 at 4:03 AM, Justin Clark-Casey &lt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">jjustincc at googlemail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On 22/07/11 17:27, Neil Canham wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have just upgraded a stand alone from 0.6.9 to 0.7.1, mostly it went
</I>&gt;&gt;&gt;<i> very smoothly.  However, one user is unable to
</I>&gt;&gt;&gt;<i> log in.  Other user accounts work fine, but one always shows
</I>&gt;&gt;&gt;<i> 'authentication failed' in the log, preceded by
</I>&gt;&gt;&gt;<i> 'PrincipalID &lt;UUID&gt; or it data not found.' I checked in the users and
</I>&gt;&gt;&gt;<i> useraccounts tables in the migrated database and
</I>&gt;&gt;&gt;<i> the user is there, and the password hash matches the MD5 hash for the
</I>&gt;&gt;&gt;<i> password.  Wondering what else might cause it to
</I>&gt;&gt;&gt;<i> refuse to authenticate?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If all the rest worked then that one should also be just fine.  I would
</I>&gt;&gt;<i> double check everything, maybe try a user password reset.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Justin Clark-Casey (justincc)
</I>&gt;&gt;<i> <A HREF="http://justincc.org/blog">http://justincc.org/blog</A>
</I>&gt;&gt;<i> <A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</I>&gt;&gt;<i> ______________________________**_________________
</I>&gt;&gt;<i> Opensim-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/**mailman/listinfo/opensim-users&lt;https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/**mailman/listinfo/opensim-users&lt;https://lists.berlios.de/mailman/listinfo/opensim-users</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20110725/db8c0cdc/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20110725/db8c0cdc/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007771.html">[Opensim-users] User can't log in after upgrade to 0.7.1
</A></li>
	<LI>Next message: <A HREF="007769.html">[Opensim-users] proposition: Turn of creation of maptiles on	startup, reduce load..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7772">[ date ]</a>
              <a href="thread.html#7772">[ thread ]</a>
              <a href="subject.html#7772">[ subject ]</a>
              <a href="author.html#7772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
