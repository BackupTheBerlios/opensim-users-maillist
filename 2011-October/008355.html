<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] NPC Persistence over server restarts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2011-October/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20NPC%20Persistence%20over%20server%20restarts&In-Reply-To=%3CCAAhTXbrJExeJ76RfR1C6CSpO_rsY4mUyS_9ZroeyNf5JQw5Lqw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008352.html">
   <LINK REL="Next"  HREF="008359.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] NPC Persistence over server restarts</H1>
    <B>Marcus Llewellyn</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20NPC%20Persistence%20over%20server%20restarts&In-Reply-To=%3CCAAhTXbrJExeJ76RfR1C6CSpO_rsY4mUyS_9ZroeyNf5JQw5Lqw%40mail.gmail.com%3E"
       TITLE="[Opensim-users] NPC Persistence over server restarts">marcus.llewellyn at gmail.com
       </A><BR>
    <I>Fri Oct 14 05:55:42 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="008352.html">[Opensim-users] NPC Persistence over server restarts
</A></li>
        <LI>Next message: <A HREF="008359.html">[Opensim-users] NPC Persistence over server restarts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8355">[ date ]</a>
              <a href="thread.html#8355">[ thread ]</a>
              <a href="subject.html#8355">[ subject ]</a>
              <a href="author.html#8355">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Oct 13, 2011 at 3:00 PM, Ai Austin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">ai.ai.austin at gmail.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> I am wanting to have a set of NPCs as assistants set up with MyCyberTwin
</I>&gt;<i> chat capabilities and left in I-Rooms to assist users.  Rather than simple
</I>&gt;<i> 3D people like objects.  But of course they all need to be set back up after
</I>&gt;<i> server restart.
</I>&gt;<i>
</I>&gt;<i>
</I>This is fairly simple to script if you're controlling your NPC from an
unattached object. When you create the NPC, you'll first want to store the
UUID you're given somewhere persistent, like a notecard or the description
field of the object running your NPC script. If your NPC script resets, it
will be able to retrieve your NPCs UUID and continue merrily on its way.

Next you'll want to set up a timer that periodically checks to see whether
your NPC's UUID is still valid. If llKey2Name(UUID) returns your NPC's name,
everything is fine. If it returns an empty string, you can reasonably assume
that the NPC's body isn't present, and recreate it with a new UUID.

This method has allowed NPCs to automatically recreate themselves after a
sim restart on my OSGrid simulator for about two weeks now.

Marcus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20111013/ef6ec855/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20111013/ef6ec855/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008352.html">[Opensim-users] NPC Persistence over server restarts
</A></li>
	<LI>Next message: <A HREF="008359.html">[Opensim-users] NPC Persistence over server restarts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8355">[ date ]</a>
              <a href="thread.html#8355">[ thread ]</a>
              <a href="subject.html#8355">[ subject ]</a>
              <a href="author.html#8355">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
