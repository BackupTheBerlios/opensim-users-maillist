<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] NPC Persistence over server restarts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2011-October/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20NPC%20Persistence%20over%20server%20restarts&In-Reply-To=%3CCAAhTXbofKBTR83FyXFf2D%2Bj2FdCmYRZvYG9jzZpZjNrSyiuTsg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008365.html">
   <LINK REL="Next"  HREF="008366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] NPC Persistence over server restarts</H1>
    <B>Marcus Llewellyn</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20NPC%20Persistence%20over%20server%20restarts&In-Reply-To=%3CCAAhTXbofKBTR83FyXFf2D%2Bj2FdCmYRZvYG9jzZpZjNrSyiuTsg%40mail.gmail.com%3E"
       TITLE="[Opensim-users] NPC Persistence over server restarts">marcus.llewellyn at gmail.com
       </A><BR>
    <I>Sat Oct 15 09:34:44 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="008365.html">[Opensim-users] NPC Persistence over server restarts
</A></li>
        <LI>Next message: <A HREF="008366.html">[Opensim-users] how add module to stand alone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8379">[ date ]</a>
              <a href="thread.html#8379">[ thread ]</a>
              <a href="subject.html#8379">[ subject ]</a>
              <a href="author.html#8379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Oct 14, 2011 at 2:26 PM, Ai Austin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">ai.ai.austin at gmail.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i>  Recreating the avatars as required in scripts, as Marcus discussed, is far
</I>&gt;&gt;<i> easier.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Marcus Llewellyn &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">marcus.llewellyn at gmail.com</A>&gt;
</I>&gt;<i>
</I>&gt;&gt;<i> As far as sitting goes, the best I've been able to do is to attach a chair
</I>&gt;&gt;<i> to the NPC, and use osAvatarPlayAnimation to perform a sit animation
</I>&gt;&gt;<i> tailored to fit the situation. Not ideal, but it works.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Marcus.. do you have the scripts for this? Add them and a few lines of
</I>&gt;<i> instruction maybe to the wiki at:
</I>&gt;<i> <A HREF="http://opensimulator.org/wiki/**OSSLNPC&lt;http://opensimulator.org/wiki/OSSLNPC">http://opensimulator.org/wiki/**OSSLNPC&lt;http://opensimulator.org/wiki/OSSLNPC</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>There really isn't anything to demonstrate where sitting is concerned. The
NPC I used this with never moves or walks around, so I simply attached the
chair to myself, and the chair gets copied over to the NPC's appearance. The
NPC doesn't dynamically attach or reattach the chair on it's own. Its script
simply creates the NPC with the chair already attached as part of its
appearance, and then immediately has it play a sit animation.

The main problem I have with this is that the NPC's collision box can
interfere with positioning, such as if you have the NPC sitting at a desk.
The easiest thing to do is to simply phantom any obstacles the NPC might
encounter.

I have provided a simple example of how I maintain NPC persistence across
sim restarts on the wiki, though. You can find it at:
<A HREF="http://opensimulator.org/wiki/User:Marcus_Llewellyn/NPC_Scripts">http://opensimulator.org/wiki/User:Marcus_Llewellyn/NPC_Scripts</A>

I have other scripts I'm slowly working on, but I feel that they are too
incomplete to share at this point. I'd be happy to contribute them to the
wiki's script library eventually, though.

Marcus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20111015/f4844423/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20111015/f4844423/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008365.html">[Opensim-users] NPC Persistence over server restarts
</A></li>
	<LI>Next message: <A HREF="008366.html">[Opensim-users] how add module to stand alone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8379">[ date ]</a>
              <a href="thread.html#8379">[ thread ]</a>
              <a href="subject.html#8379">[ subject ]</a>
              <a href="author.html#8379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
