<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Some questions about inventory libraries
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Some%20questions%20about%20inventory%20libraries&In-Reply-To=%3Cc5851bcf0902190725h63a85abbqb79f4b94a18948ff%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001505.html">
   <LINK REL="Next"  HREF="001508.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Some questions about inventory libraries</H1>
    <B>Impalah</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Some%20questions%20about%20inventory%20libraries&In-Reply-To=%3Cc5851bcf0902190725h63a85abbqb79f4b94a18948ff%40mail.gmail.com%3E"
       TITLE="[Opensim-users] Some questions about inventory libraries">impalah at gmail.com
       </A><BR>
    <I>Thu Feb 19 16:25:17 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001505.html">[Opensim-users] Some questions about inventory libraries
</A></li>
        <LI>Next message: <A HREF="001508.html">[Opensim-users] Some questions about inventory libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1506">[ date ]</a>
              <a href="thread.html#1506">[ thread ]</a>
              <a href="subject.html#1506">[ subject ]</a>
              <a href="author.html#1506">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks, Justin, for the quick response.

Well, is quite annoying to distribute to the opensim servers the inventory
libraries but... the solution will be something like &quot;to request libraries
to user/inventory servers&quot;. If I had some time I could do a patch (or a
plugin) for this... I don't promise anything but... I will need something
similar in the next future so it will be distributed if I do the patch.

Oh, I'm thinking in a patch too for the regions.xml loader (I don't remember
its name) when configured for getting data from web. Actually it doesn't
save the region data (lastmap uuid, refresh, etc...) because the functions
are empty. My intention is to add &quot;optional&quot; REST saving calls for allowing
to have a central &quot;region data server&quot;. Anyway it isn't urgent, it works
perfectly without saving anything...

Greetings



2009/2/19 Justin Clark-Casey &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">jjustincc at googlemail.com</A>&gt;

&gt;<i> Impalah wrote:
</I>&gt;<i> &gt; Hi everybody, here comes Impalah again with some bizarre questions.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Before... about a question I did some weeks ago when I had &quot;problems&quot;
</I>&gt;<i> &gt; with avatar crossing regions: it's resolved at 90% from my part (ugaim)
</I>&gt;<i> &gt; just changing the (superslow) framework I was using to another; anyway
</I>&gt;<i> &gt; the requests made to ugaim from region servers (get inventory, get maps,
</I>&gt;<i> &gt; get something I can't remember now) aren't concurrent, at least running
</I>&gt;<i> &gt; over .NET vm (I have tested it in five different machines with win XP).
</I>&gt;<i> &gt; I'll return to those things when I finish the project I'm working on.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Well, my questions, overall are for who implemented Inventory Libs and
</I>&gt;<i> &gt; all the things around.
</I>&gt;<i>
</I>&gt;<i> I didn't implement the original code but I did end up extending it.  I
</I>&gt;<i> don't think what we have right now is a
</I>&gt;<i> particularly good solution.
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; When an avatar logs in, apart from the &quot;personal inventory skeleton&quot;,
</I>&gt;<i> &gt; the user server sends a &quot;inventory library skeleton&quot; too.
</I>&gt;<i> &gt; Opensim.Grid.User uses the object InventoryLib (excuse me if the names
</I>&gt;<i> &gt; are wrong, I haven't access to the code right now) which reads the xml's
</I>&gt;<i> &gt; from the &quot;inventory&quot; folder.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Ok, so an user server needs these xml files isn't it? At least for
</I>&gt;<i> &gt; returning the skeleton.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Well, but where is stored the inventory library? I suppose, because I
</I>&gt;<i> &gt; couldn't find any persistent storage for inventory library
</I>&gt;<i> &gt; folders/items, that the Opensim (region) server loads the xml files when
</I>&gt;<i> &gt; it starts and, when the viewer asks for inventory, it returns the
</I>&gt;<i> &gt; contents of the xml's.
</I>&gt;<i>
</I>&gt;<i> Essentially correct.
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The problem is if I have several region servers, any of them with
</I>&gt;<i> &gt; distinct inventory libraries (folders and items). I have checked that if
</I>&gt;<i> &gt; I return in login, for example, only two of the inventory lib folders,
</I>&gt;<i> &gt; the opensim viewer will only show me these 2 folders, ignoring the rest
</I>&gt;<i> &gt; of the &quot;inventory xmls&quot; defined.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So if I pretend to distribute and control the inventory library from the
</I>&gt;<i> &gt; ugaim servers I have to copy the xmls to all the region servers who
</I>&gt;<i> &gt; connect to my grid... right?
</I>&gt;<i>
</I>&gt;<i> That's correct.  At the moment each region server loads its local library
</I>&gt;<i> data.  Which means that on a grid system, the
</I>&gt;<i> library data on every single region and on the grid inventory service must
</I>&gt;<i> be identical (afair).
</I>&gt;<i>
</I>&gt;<i> I believe that it would be better to stop loading library inventory locally
</I>&gt;<i> and instead pull it from the central
</I>&gt;<i> inventory service (in grid mode).  This would have the advantage of making
</I>&gt;<i> it much easier to update library inventory.
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I don't know if this is an error (I think the inventory library must be
</I>&gt;<i> &gt; requested from region servers to ugaim servers) or some kind of
</I>&gt;<i> &gt; &quot;feature&quot;, or if exists any reason for doing the things that way.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Can anyone help me with this?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thank you
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Impalah &quot;always having problems&quot; Shenzhou
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ------------------------------------------------------------------------
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Opensim-users mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> justincc
</I>&gt;<i> Justin Clark-Casey
</I>&gt;<i> <A HREF="http://justincc.wordpress.com">http://justincc.wordpress.com</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20090219/d8f9b609/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20090219/d8f9b609/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001505.html">[Opensim-users] Some questions about inventory libraries
</A></li>
	<LI>Next message: <A HREF="001508.html">[Opensim-users] Some questions about inventory libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1506">[ date ]</a>
              <a href="thread.html#1506">[ thread ]</a>
              <a href="subject.html#1506">[ subject ]</a>
              <a href="author.html#1506">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
