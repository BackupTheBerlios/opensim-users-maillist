<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] XEngine causing CPU spikes under mono
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20XEngine%20causing%20CPU%20spikes%20under%20mono&In-Reply-To=%3C5194E6AAB6C7334E938662763813B3F2488E474B94%40hermes.fdn.uq.edu.au.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006764.html">
   <LINK REL="Next"  HREF="006805.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] XEngine causing CPU spikes under mono</H1>
    <B>Adam Farrugia</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20XEngine%20causing%20CPU%20spikes%20under%20mono&In-Reply-To=%3C5194E6AAB6C7334E938662763813B3F2488E474B94%40hermes.fdn.uq.edu.au.local%3E"
       TITLE="[Opensim-users] XEngine causing CPU spikes under mono">uqafarru at fdn.uq.edu.au
       </A><BR>
    <I>Fri Mar 11 07:42:34 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006764.html">[Opensim-users] OpenSim 1.7.0.2 and MySQL Versions
</A></li>
        <LI>Next message: <A HREF="006805.html">[Opensim-users] XEngine causing CPU spikes under mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6770">[ date ]</a>
              <a href="thread.html#6770">[ thread ]</a>
              <a href="subject.html#6770">[ subject ]</a>
              <a href="author.html#6770">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

Running the following:

Ubuntu 10.10 Server
mono 2.6.7
16GB RAM
1 x Quad-core AMD CPU
opensim 0.7.0.2 (Grid Mode)

Found that XEngine causes mono spike CPU usage over 100% briefly when automatic script save is invoked. Actual spike value varies with sim load, but pattern is the same regardless of load. Parameter is &quot;SaveInterval&quot; in XEngine params in OpenSim.ini. Default interval is 120 seconds. Changed SaveInterval to other time values to test and sure enough, spike occurs at those intervals.
Currently running 4 regions, Grid mode, all regions running numerous scripts.
Has anyone seen this before? Searched pretty hard and seen plenty of issues with earlier versions of mono with high CPU usage and workarounds by tweaking MONO_THREADS_PER_CPU but nothing specifically relating to this.
Not sure if it is a bug to be reported, or just a natural limit of XEngine when it auto-saves script states when there lots of scripts on a grid.

Rgds,

Adam Farrugia
PIER Virtual

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006764.html">[Opensim-users] OpenSim 1.7.0.2 and MySQL Versions
</A></li>
	<LI>Next message: <A HREF="006805.html">[Opensim-users] XEngine causing CPU spikes under mono
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6770">[ date ]</a>
              <a href="thread.html#6770">[ thread ]</a>
              <a href="subject.html#6770">[ subject ]</a>
              <a href="author.html#6770">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
