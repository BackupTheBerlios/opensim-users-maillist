<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] NAT &amp; Corporate Firewall
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20NAT%20%26%20Corporate%20Firewall&In-Reply-To=%3CAANLkTi%3DyBPk_wcqvYtTSWRsK2fWh1sTATGiKOCA9VyDN%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006931.html">
   <LINK REL="Next"  HREF="006900.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] NAT &amp; Corporate Firewall</H1>
    <B>Fleep Tuque</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20NAT%20%26%20Corporate%20Firewall&In-Reply-To=%3CAANLkTi%3DyBPk_wcqvYtTSWRsK2fWh1sTATGiKOCA9VyDN%40mail.gmail.com%3E"
       TITLE="[Opensim-users] NAT &amp; Corporate Firewall">fleep513 at gmail.com
       </A><BR>
    <I>Wed Mar 30 16:44:56 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006931.html">[Opensim-users] Want to log avvie position and facing direction to a file
</A></li>
        <LI>Next message: <A HREF="006900.html">[Opensim-users] NAT &amp; Corporate Firewall
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6899">[ date ]</a>
              <a href="thread.html#6899">[ thread ]</a>
              <a href="subject.html#6899">[ subject ]</a>
              <a href="author.html#6899">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

We're trying to get an opensim grid running on our campus network, and it
works fine from inside the campus network but can't get past region
handshake from off campus.  We're running opensim version 0.7.0.2 on Windows
Server 2008 virtual machines, and our campus firewall does 1 to 1 NATting.
 Each machine on the campus network has both an internal and an external IP
address.

I've checked the configuration files on both machines (one's running robust
services, the other running opensim.exe) and I've used hostnames instead of
IP addresses in all the .ini files except for the region.ini file.  When I
capture packet traffic trying to connect from off campus, the client
correctly uses the external IP to communicate with the robust server, but
after the authentication process, I see the client trying to send packets to
the simulator machine's internal IP (10.23.23.x) instead of an external IP
address (129.137.2.x).

I've talked with our NOC and we have confirmed that TCP/UDP traffic is open
on all the appropriate ports, so I'm wondering if this has something to do
with NAT and if so what's the next step?  In the region.ini file I've tried
various permutations of the InternalAddress and ExternalHostName variables,
currently InternalAddress is set to the internal IP 10.23.23.x and the
ExternalHostName is set to the hostname ucsim1.irc.uc.edu (the box running
opensim.exe).  On campus logins are working fine but off campus still
doesn't get past region handshake.

Any ideas about what to try next?  And thanks in advance.  :)


- Chris/Fleep


Chris M. Collins (SL: Fleep Tuque)
Project Manager, UC Second Life
Second Life Ambassador, Ohio Learning Network
UCit Instructional &amp; Research Computing
University of Cincinnati
406E Zimmer Hall
PO Box 210088
Cincinnati, OH 45221-0088
(513)556-3018
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">chris.collins at uc.edu</A>

UC Second Life:   <A HREF="http://homepages.uc.edu/secondlife">http://homepages.uc.edu/secondlife</A>
OLN Second Life: <A HREF="http://www.oln.org/emerging_technologies/emtech.php">http://www.oln.org/emerging_technologies/emtech.php</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20110330/738e7060/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20110330/738e7060/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006931.html">[Opensim-users] Want to log avvie position and facing direction to a file
</A></li>
	<LI>Next message: <A HREF="006900.html">[Opensim-users] NAT &amp; Corporate Firewall
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6899">[ date ]</a>
              <a href="thread.html#6899">[ thread ]</a>
              <a href="subject.html#6899">[ subject ]</a>
              <a href="author.html#6899">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
