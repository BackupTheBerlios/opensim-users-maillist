<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Help: Self registration script no longer working
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Help%3A%20Self%20registration%20script%20no%20longer%20working&In-Reply-To=%3CAANLkTikukYG688OGzCvNeE6b0FA0rZLyoGjiiJPzVVxC%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006779.html">
   <LINK REL="Next"  HREF="006781.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Help: Self registration script no longer working</H1>
    <B>Clive Gould</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Help%3A%20Self%20registration%20script%20no%20longer%20working&In-Reply-To=%3CAANLkTikukYG688OGzCvNeE6b0FA0rZLyoGjiiJPzVVxC%40mail.gmail.com%3E"
       TITLE="[Opensim-users] Help: Self registration script no longer working">cliveg at gmail.com
       </A><BR>
    <I>Fri Mar 11 17:30:08 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006779.html">[Opensim-users] Help: Self registration script no longer working
</A></li>
        <LI>Next message: <A HREF="006781.html">[Opensim-users] Help: Self registration script no longer working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6780">[ date ]</a>
              <a href="thread.html#6780">[ thread ]</a>
              <a href="subject.html#6780">[ subject ]</a>
              <a href="author.html#6780">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Diva

Looking at the new table structure shown in the diagram on the Wiki it
appears to bear little resemblance to the table structure on my fresh
install of opensim.0.7.0.2 standalone taken from git head this morning

Am I missing something here???

Thanks

Clive

mysql&gt; show tables;
+-------------------+
|<i> Tables_in_opensim |
</I>+-------------------+
|<i> Avatars           |
</I>|<i> Friends           |
</I>|<i> GridUser          |
</I>|<i> UserAccounts      |
</I>|<i> assets            |
</I>|<i> auth              |
</I>|<i> estate_groups     |
</I>|<i> estate_managers   |
</I>|<i> estate_map        |
</I>|<i> estate_settings   |
</I>|<i> estate_users      |
</I>|<i> estateban         |
</I>|<i> inventoryfolders  |
</I>|<i> inventoryitems    |
</I>|<i> land              |
</I>|<i> landaccesslist    |
</I>|<i> migrations        |
</I>|<i> primitems         |
</I>|<i> prims             |
</I>|<i> primshapes        |
</I>|<i> regionban         |
</I>|<i> regions           |
</I>|<i> regionsettings    |
</I>|<i> regionwindlight   |
</I>|<i> terrain           |
</I>|<i> tokens            |
</I>+-------------------+
26 rows in set (0.00 sec)


On Fri, Mar 11, 2011 at 3:53 PM, Diva Canto &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">diva at metaverseink.com</A>&gt; wrote:

&gt;<i> The release notes describe the database changes:
</I>&gt;<i> <A HREF="http://opensimulator.org/wiki/0.7_Release">http://opensimulator.org/wiki/0.7_Release</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 3/11/2011 7:43 AM, Clive Gould wrote:
</I>&gt;<i>
</I>&gt;<i>   Hi
</I>&gt;<i>
</I>&gt;<i> I have a set of PHP scripts originally developed at Glagow Caledonian
</I>&gt;<i> University that allow users to self register with our OpenSim standalone
</I>&gt;<i> installation, provided they have a valid institutional email address.
</I>&gt;<i>
</I>&gt;<i> These worked fine with OpenSim 0.6.9 but no longer work with OpenSim 0.7 as
</I>&gt;<i> there appears to have been a change in the database tables between the two
</I>&gt;<i> versions.
</I>&gt;<i>
</I>&gt;<i> Looking at the original script, which worked with 0.6.9 the following user
</I>&gt;<i> table settings are written:
</I>&gt;<i>
</I>&gt;<i> UUID, username, lastname, passwordHash, passwordSalt, homeRegion,
</I>&gt;<i> homeLocationX, homeLocationY, homeLocationZ, homeLookAtX, homeLookAtY,
</I>&gt;<i> homeLookAtZ, created, lastLogin, userInventoryURI,userAssetURI,
</I>&gt;<i> profileCanDoMask, profileWantDoMask, profileAboutText, profileFirstText,
</I>&gt;<i> profileImage, profileFirstImage, webLoginKey,
</I>&gt;<i> homeRegionID,userFlags,godLevel,customType,partner,email
</I>&gt;<i>
</I>&gt;<i> Looking at the new database structure with 0.7 the UserAccounts table now
</I>&gt;<i> contains the following fields:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> PrincipalID, ScopeID, FirstName, LastName, Email, ServiceURLs, Created, UserLevel, UserFlags, UserTitle
</I>&gt;<i>
</I>&gt;<i> Does anyone have a set of self-registration scripts that will work with
</I>&gt;<i> OpenSim 0.7 or can advise me what tables a self registration script would
</I>&gt;<i> now need to write to?
</I>&gt;<i>
</I>&gt;<i> Thanks very much
</I>&gt;<i>
</I>&gt;<i> Clive
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.dehttps</A>://lists.berlios.de/mailman/listinfo/opensim-users
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20110311/325c7470/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20110311/325c7470/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006779.html">[Opensim-users] Help: Self registration script no longer working
</A></li>
	<LI>Next message: <A HREF="006781.html">[Opensim-users] Help: Self registration script no longer working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6780">[ date ]</a>
              <a href="thread.html#6780">[ thread ]</a>
              <a href="subject.html#6780">[ subject ]</a>
              <a href="author.html#6780">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
