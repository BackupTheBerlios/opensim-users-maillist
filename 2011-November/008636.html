<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Region not part of an estate
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2011-November/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Region%20not%20part%20of%20an%20estate&In-Reply-To=%3C62F3DD2D-6AB2-42B3-82DF-C291D5B85894%40gwynethllewelyn.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008634.html">
   <LINK REL="Next"  HREF="008637.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Region not part of an estate</H1>
    <B>Gwyneth Llewelyn</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Region%20not%20part%20of%20an%20estate&In-Reply-To=%3C62F3DD2D-6AB2-42B3-82DF-C291D5B85894%40gwynethllewelyn.net%3E"
       TITLE="[Opensim-users] Region not part of an estate">gwyneth.llewelyn at gwynethllewelyn.net
       </A><BR>
    <I>Mon Nov 21 17:54:34 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="008634.html">[Opensim-users] Region not part of an estate
</A></li>
        <LI>Next message: <A HREF="008637.html">[Opensim-users] Region not part of an estate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8636">[ date ]</a>
              <a href="thread.html#8636">[ thread ]</a>
              <a href="subject.html#8636">[ subject ]</a>
              <a href="author.html#8636">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Wayne,

Glad that you've fixed the MySQL access permissions issue; it surely looked that something like that was happening.

As for your new error, it seems quite similar to the one described here: <A HREF="http://opensimulator.org/mantis/view.php?id=3915">http://opensimulator.org/mantis/view.php?id=3915</A>
 
In that case, it was just a slight spelling mistake on one of the (many) URIs on the .ini files. From your error log, it looks that OpenSim is trying to contact the other regions to tell them that a specific region is up or down. Take a look at Gridcommon.ini to see if all your grid URIs are fine, for starters; if not, you'll simply have to check and double-check that all URIs are correct for your grid configuration (maybe you missed one and it's still the &quot;default&quot; (like, say, <A HREF="http://mygridserver.com:8002">http://mygridserver.com:8002</A> which obviously won't work...).

Good luck in spotting the error!

Cheers,

	- Gwyn

On 2011/11/20, at 15:43, Fleep Tuque wrote:

&gt;<i> Nod, I thought that was probably the case, but you never know!  :)
</I>&gt;<i> 
</I>&gt;<i> In terms of the error you posted, maybe someone with better understanding can reply with more info, but it seems like the relevant part is:  Invalid URI: The hostname could not be parsed.
</I>&gt;<i> 
</I>&gt;<i> Maybe double check your configuration files and make sure that you don't have any typos in the URL format anywhere?  What does your region.ini file look like for internal and external hostnames?
</I>&gt;<i>  
</I>&gt;<i> That's probably where I'd start looking...
</I>&gt;<i> 
</I>&gt;<i> Good luck and keep us posted!
</I>&gt;<i> 
</I>&gt;<i> - Chris/Fleep
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Sun, Nov 20, 2011 at 10:25 AM, Wayne &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">lppwayne at gmail.com</A>&gt; wrote:
</I>&gt;<i> Hi Fleep,
</I>&gt;<i>  
</I>&gt;<i> I typed it backwards in the email.
</I>&gt;<i>  
</I>&gt;<i> Thanks
</I>&gt;<i> 
</I>&gt;<i> On Sun, Nov 20, 2011 at 10:16 AM, Fleep Tuque &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">fleep513 at gmail.com</A>&gt; wrote:
</I>&gt;<i> Hi Wayne,
</I>&gt;<i> 
</I>&gt;<i> Not sure if you typed that backwards in your email but did it correctly when you were creating the database, but assuming your database name and database username are both opensim, then it should be:
</I>&gt;<i> 
</I>&gt;<i> grant all on opensim.* to 'opensim'@'localhost';
</I>&gt;<i> 
</I>&gt;<i> Not <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">localhost at opensim...</A>
</I>&gt;<i> 
</I>&gt;<i> Not sure if that's related to the error you posted but thought I'd mention just in case..
</I>&gt;<i> 
</I>&gt;<i> - Chris/Fleep
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Sun, Nov 20, 2011 at 9:42 AM, Wayne &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">lppwayne at gmail.com</A>&gt; wrote:
</I>&gt;<i> OK.  Finally got opensim to ask the question: &quot;Would you like to create a new Estate&quot;.
</I>&gt;<i>  
</I>&gt;<i> I uninstalled MySql, deleted the MYSql folder and all db files then reinstalled. Then I realized I was skipping a step - I was never granting permissions to <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">localhost at opensim.</A> After doing that, the server loaded. (but soon crashed)
</I>&gt;<i>  
</I>&gt;<i> Now the new problem:
</I>&gt;<i>  
</I>&gt;<i> opensim server starts, loads regions and everything looks fine until 5 seconds later when the following appears and opensim crashes:
</I>&gt;<i>  
</I>&gt;<i> 2011-11-19 21:11:56,557 ERROR - OpenSim.Application [APPLICATION]: 
</I>&gt;<i> APPLICATION EXCEPTION DETECTED: System.UnhandledExceptionEventArgs
</I>&gt;<i> Exception: System.UriFormatException: Invalid URI: The hostname could not be parsed.
</I>&gt;<i> Server stack trace: 
</I>&gt;<i>    at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind)
</I>&gt;<i>    at System.Uri..ctor(String uriString)
</I>&gt;<i>    at System.Net.WebRequest.Create(String requestUriString)
</I>&gt;<i>    at OpenSim.Services.Connectors.NeighbourServicesConnector.DoHelloNeighbourCall(GridRegion region, RegionInfo thisRegion) in d:\OSGRID\OSGRID 0.7 RELEASES\opensim-ff36a1b\OpenSim\Services\Connectors\Neighbour\NeighbourServiceConnector.cs:line 92
</I>&gt;<i>    at OpenSim.Services.Connectors.NeighbourServicesConnector.HelloNeighbour(UInt64 regionHandle, RegionInfo thisRegion) in d:\OSGRID\OSGRID 0.7 RELEASES\opensim-ff36a1b\OpenSim\Services\Connectors\Neighbour\NeighbourServiceConnector.cs:line 78
</I>&gt;<i>    at OpenSim.Region.CoreModules.ServiceConnectorsOut.Neighbour.RemoteNeighbourServicesConnector.HelloNeighbour(UInt64 regionHandle, RegionInfo thisRegion) in d:\OSGRID\OSGRID 0.7 RELEASES\opensim-ff36a1b\OpenSim\Region\CoreModules\ServiceConnectorsOut\Neighbour\RemoteNeighourServiceConnector.cs:line 150
</I>&gt;<i>    at OpenSim.Region.Framework.Scenes.SceneCommunicationService.InformNeighboursThatRegionIsUpAsync(INeighbourService neighbourService, RegionInfo region, UInt64 regionhandle) in d:\OSGRID\OSGRID 0.7 RELEASES\opensim-ff36a1b\OpenSim\Region\Framework\Scenes\SceneCommunicationService.cs:line 161
</I>&gt;<i>    at System.Runtime.Remoting.Messaging.StackBuilderSink._PrivateProcessMessage(IntPtr md, Object[] args, Object server, Int32 methodPtr, Boolean fExecuteInContext, Object[]&amp; outArgs)
</I>&gt;<i>    at System.Runtime.Remoting.Messaging.StackBuilderSink.PrivateProcessMessage(RuntimeMethodHandle md, Object[] args, Object server, Int32 methodPtr, Boolean fExecuteInContext, Object[]&amp; outArgs)
</I>&gt;<i>    at System.Runtime.Remoting.Messaging.StackBuilderSink.AsyncProcessMessage(IMessage msg, IMessageSink replySink)
</I>&gt;<i> Exception rethrown at [0]: 
</I>&gt;<i>    at System.Runtime.Remoting.Proxies.RealProxy.EndInvokeHelper(Message reqMsg, Boolean bProxyCase)
</I>&gt;<i>    at System.Runtime.Remoting.Proxies.RemotingProxy.Invoke(Object NotUsed, MessageData&amp; msgData)
</I>&gt;<i>    at OpenSim.Region.Framework.Scenes.SceneCommunicationService.InformNeighbourThatRegionUpDelegate.EndInvoke(IAsyncResult result)
</I>&gt;<i>    at OpenSim.Region.Framework.Scenes.SceneCommunicationService.InformNeighborsThatRegionisUpCompleted(IAsyncResult iar) in d:\OSGRID\OSGRID 0.7 RELEASES\opensim-ff36a1b\OpenSim\Region\Framework\Scenes\SceneCommunicationService.cs:line 146
</I>&gt;<i>    at System.Runtime.Remoting.Messaging.AsyncResult.SyncProcessMessage(IMessage msg)
</I>&gt;<i>    at System.Runtime.Remoting.Messaging.StackBuilderSink.AsyncProcessMessage(IMessage msg, IMessageSink replySink)
</I>&gt;<i>    at System.Runtime.Remoting.Proxies.AgileAsyncWorkerItem.DoAsyncCall()
</I>&gt;<i>    at System.Runtime.Remoting.Proxies.AgileAsyncWorkerItem.ThreadPoolCallBack(Object o)
</I>&gt;<i>    at System.Threading._ThreadPoolWaitCallback.WaitCallback_Context(Object state)
</I>&gt;<i>    at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
</I>&gt;<i>    at System.Threading._ThreadPoolWaitCallback.PerformWaitCallbackInternal(_ThreadPoolWaitCallback tpWaitCallBack)
</I>&gt;<i>    at System.Threading._ThreadPoolWaitCallback.PerformWaitCallback(Object state)
</I>&gt;<i> Application is terminating: True
</I>&gt;<i>  
</I>&gt;<i> Any ideas?
</I>&gt;<i>  
</I>&gt;<i> Thanks,
</I>&gt;<i> Wayne
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> On Wed, Nov 16, 2011 at 5:50 PM, Justin Clark-Casey &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">jjustincc at googlemail.com</A>&gt; wrote:
</I>&gt;<i> At this stage it starts to sound more like a config issue than anything else.
</I>&gt;<i> 
</I>&gt;<i> Are you using an old config or adapting one from the release?  If you are using an old config I recommend you try starting from fresh .example files - reusing old configs is known to cause problems in some situations.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On 16/11/11 19:29, Wayne wrote:
</I>&gt;<i> Thank you Fleep and Gwyn for your time in helping me out.
</I>&gt;<i> To date, I've tried everything short of reformatting the hard drive - nothing seems to work. When I start the simulator,
</I>&gt;<i> it totally skips the message to create an estate. Then, if I try to create a region, it crashes saying that the region
</I>&gt;<i> does not belong to an estate. A very frustrating &quot;catch 22&quot; experience.
</I>&gt;<i> If I get a solution, I will be sure to post for others who may run into this in the future.
</I>&gt;<i> Wayne
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Wed, Nov 16, 2011 at 7:04 AM, Gwyneth Llewelyn &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">gwyneth.llewelyn at gwynethllewelyn.net</A>
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">gwyneth.llewelyn at gwynethllewelyn.net</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i>    Dear Wayne,
</I>&gt;<i> 
</I>&gt;<i>    I get this error when launching a home-based region to connect with a server-based grid. The home-based region is
</I>&gt;<i>    connecting to an external MySQL database, and I get this error sometimes.
</I>&gt;<i> 
</I>&gt;<i>    Why? Apparently what happens is that DynDNS is sometimes slow in updating the IP address for my home connection.
</I>&gt;<i>    When that happens, the MySQL database, which is configured to accept connections from a very limited number of
</I>&gt;<i>    hosts, will reject the connection. I get this &quot;Region XXX is not part of an estate&quot; when that happens: the
</I>&gt;<i>    regions.ini file gets launched, but the first connection call to MySQL is to check if that region is part of an
</I>&gt;<i>    Estate, and when that request fails, OpenSim crashes.
</I>&gt;<i> 
</I>&gt;<i>    I'm not sure if that's the same problem you have, but it could jusy be related to that: your OpenSim is not being
</I>&gt;<i>    able to connect to the database. Check the login, the password, the database name, and if your IP address is allowed
</I>&gt;<i>    to connect to MySQL (even if everything is run locally on your machine, it still requires permission to connect to
</I>&gt;<i>    &quot;localhost&quot;).
</I>&gt;<i> 
</I>&gt;<i>    - Gwyn
</I>&gt;<i> 
</I>&gt;<i>    On 2011/11/15, at 13:34, Wayne wrote:
</I>&gt;<i> 
</I>&gt;<i>    Hello Everyone,
</I>&gt;<i>    I recently fired up opensim again after being shutdown for a move to another state. The problem I'm having is that
</I>&gt;<i>    each time I try to create a new region or load the regions from my regions.ini file, opensim crashes with the
</I>&gt;<i>    message: &quot;Region .... is not part of an estate.&quot;
</I>&gt;<i>    How can I reset this process or get my set-up back in sync?
</I>&gt;<i>    I've tried deleting MySql DB's and recreating but somewhere it is holding on to an existing estate and never gives
</I>&gt;<i>    me the option to create a new estate.
</I>&gt;<i>    Thanks for the help.
</I>&gt;<i>    Wayne
</I>&gt;<i>    _______________________________________________
</I>&gt;<i>    Opensim-users mailing list
</I>&gt;<i>    <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>&gt;
</I>&gt;<i>    <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>&gt;<i>    --
</I>&gt;<i> 
</I>&gt;<i>    &quot;I'm not building a game. I'm building a new country.&quot;
</I>&gt;<i> 
</I>&gt;<i>    -- Philip &quot;Linden&quot; Rosedale, interview to Wired, 2004-05-08
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>    _______________________________________________
</I>&gt;<i>    Opensim-users mailing list
</I>&gt;<i>    <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>&gt;
</I>&gt;<i>    <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Justin Clark-Casey (justincc)
</I>&gt;<i> <A HREF="http://justincc.org/blog">http://justincc.org/blog</A>
</I>&gt;<i> <A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20111121/40ec6eb5/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20111121/40ec6eb5/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008634.html">[Opensim-users] Region not part of an estate
</A></li>
	<LI>Next message: <A HREF="008637.html">[Opensim-users] Region not part of an estate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8636">[ date ]</a>
              <a href="thread.html#8636">[ thread ]</a>
              <a href="subject.html#8636">[ subject ]</a>
              <a href="author.html#8636">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
