<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] opensim suddenly breaks
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20opensim%20suddenly%20breaks&In-Reply-To=%3C49CC356B.3080900%40pseudospace.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001737.html">
   <LINK REL="Next"  HREF="001749.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] opensim suddenly breaks</H1>
    <B>John Sheridan</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20opensim%20suddenly%20breaks&In-Reply-To=%3C49CC356B.3080900%40pseudospace.net%3E"
       TITLE="[Opensim-users] opensim suddenly breaks">john at pseudospace.net
       </A><BR>
    <I>Fri Mar 27 03:09:47 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001737.html">[Opensim-users] opensim suddenly breaks
</A></li>
        <LI>Next message: <A HREF="001749.html">[Opensim-users] opensim suddenly breaks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1738">[ date ]</a>
              <a href="thread.html#1738">[ thread ]</a>
              <a href="subject.html#1738">[ subject ]</a>
              <a href="author.html#1738">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It may be related, although in our case it doesn't happed on the first 
run after an upgrade.  It seems to be a few hours afterward.  Per chance 
when you upgrade do you copy the new build over the old one or just wipe 
the old folder and start clean?  I wonder if maybe this is related to 
something thats left inside the opensim folder between upgrades such as 
the script state files?


John Hopkin wrote:
&gt;<i> I don't know if this is connected, but I find (Ubuntu 8.10, Mono
</I>&gt;<i> 2.0.1, MySQL) that the CPU runs near 100% the first time after an
</I>&gt;<i> upgrade.  Restart, and then it's much better.
</I>&gt;<i>
</I>&gt;<i> This has happened with every upgrade - I usually take the binaries
</I>&gt;<i> from the OSGrid Downloads page.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> John Sheridan wrote:
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> I've been having that same issue with one of my servers as well.  It 
</I>&gt;&gt;<i> would run idle overnight and I'd wake up the next morning to find it 
</I>&gt;&gt;<i> racing at 100% cpu and completely unresponsive via client or console.  
</I>&gt;&gt;<i> Each time the only message on the console was the periodic diagnostic 
</I>&gt;&gt;<i> stating the server's stats.  After a reboot it would be fine for a few 
</I>&gt;&gt;<i> hours and then out of nowhere it would start racing again even though it 
</I>&gt;&gt;<i> was sitting there idle with no users.  The strange thing is that all of 
</I>&gt;&gt;<i> the servers on my grid are running the same configuration with identical 
</I>&gt;&gt;<i> OpenSim.ini files, minus the database connection strings.  Each has the 
</I>&gt;&gt;<i> hypergrid and stats modules enabled as well 1500 threads per cpu (not 
</I>&gt;&gt;<i> sure if that's too much but it to date its yet to create any problems), 
</I>&gt;&gt;<i> yet only one out of eleven seems to be doing this. 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It would seem, at least for my configuration that by backing up the 
</I>&gt;&gt;<i> config files (and the databases if you're using sqlite) then wiping out 
</I>&gt;&gt;<i> the opensim folder and then re-copying a clean build and the config 
</I>&gt;&gt;<i> files back in that the problem just goes away at least temporarily.  The 
</I>&gt;&gt;<i> last time I've had to do this was Monday night after I ran my weekly 
</I>&gt;&gt;<i> update the previous night to 8847.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Dirk Krause wrote:
</I>&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i> You might experience this issue:
</I>&gt;&gt;&gt;<i>   <A HREF="http://opensimulator.org/mantis/view.php?id=2946">http://opensimulator.org/mantis/view.php?id=2946</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> try entering
</I>&gt;&gt;&gt;<i>   MONO_THREADS_PER_CPU=150
</I>&gt;&gt;&gt;<i> before you start
</I>&gt;&gt;&gt;<i>   mono OpenSim.exe
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -- Dirk
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Von: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>] Im Auftrag von Leandro Morillas
</I>&gt;&gt;&gt;<i> Gesendet: Mittwoch, 25. M&#228;rz 2009 21:10
</I>&gt;&gt;&gt;<i> An: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> Betreff: [Opensim-users] opensim suddenly breaks
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hello
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> i installed opensim on a ubuntu 32 server with mono, following instructions from the website.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> we tested it with a master user and then we made 40 more users and 4 islands.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> the server runs normally, but suddenly (no special message on console) mono uses 100% of CPU and stops working. The client stops at &quot;Logging in&quot;.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Opensim console just hangs and i need to kill mono process ID, the i reboot the server and it works again.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I haven't found any resources via google, any ideas? some help please :)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Opensim-users mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;&gt;<i>   
</I>&gt;&gt;&gt;<i>       
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001737.html">[Opensim-users] opensim suddenly breaks
</A></li>
	<LI>Next message: <A HREF="001749.html">[Opensim-users] opensim suddenly breaks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1738">[ date ]</a>
              <a href="thread.html#1738">[ thread ]</a>
              <a href="subject.html#1738">[ subject ]</a>
              <a href="author.html#1738">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
