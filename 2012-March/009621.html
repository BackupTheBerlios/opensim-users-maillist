<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] MySQL query and number of agents online
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2012-March/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20MySQL%20query%20and%20number%20of%20agents%20online&In-Reply-To=%3C4F518176.8030101%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009600.html">
   <LINK REL="Next"  HREF="009607.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] MySQL query and number of agents online</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20MySQL%20query%20and%20number%20of%20agents%20online&In-Reply-To=%3C4F518176.8030101%40googlemail.com%3E"
       TITLE="[Opensim-users] MySQL query and number of agents online">jjustincc at googlemail.com
       </A><BR>
    <I>Sat Mar  3 03:27:02 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009600.html">[Opensim-users] MySQL query and number of agents online
</A></li>
        <LI>Next message: <A HREF="009607.html">[Opensim-users] Is there an easy way to create Male Avatar?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9621">[ date ]</a>
              <a href="thread.html#9621">[ thread ]</a>
              <a href="subject.html#9621">[ subject ]</a>
              <a href="author.html#9621">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>For a standalone you could use one of the monitoring options at [1] to obtain the number of root agents (real avatars) 
in a region.  Please be advised that this can occasionally be inaccurate and will count NPCs, unlike the presence table.

Following what Diva said below, you could also make the presence service store it's data in mysql rather than in-memory 
on a standalone.  I think it would be a case of adding the lines

[PresenceService]
     StorageProvider = &quot;OpenSim.Data.MySQL.dll&quot;

to your StandaloneCommon.ini to override the default OpenSim.Data.Null.dll in Standalone.ini

[1] <A HREF="http://opensimulator.org/wiki/Monitoring">http://opensimulator.org/wiki/Monitoring</A>

On 02/03/12 16:12, Diva Canto wrote:
&gt;<i> The presence information is managed bythe Presence service. The presence service uses different storages depending on
</I>&gt;<i> the configuration. The default grid configuration uses MySql; the default standalone configuration uses in memory
</I>&gt;<i> storage; the diva configuration uses MySql. What this means is that if you are using the default standalone
</I>&gt;<i> configuration you won't see a Presence table in the DB, it's all handled in memory.
</I>&gt;<i>
</I>&gt;<i> On 3/2/2012 7:47 AM, Clive Gould wrote:
</I>&gt;&gt;<i> Not so promising
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm running a standalone and...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> mysql&gt; select * from GridUser where Online=&quot;TRUE&quot;;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> returns 12 records whereas the console says 1 agent connected
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Fri, Mar 2, 2012 at 3:38 PM, Steven Salter&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">ssalter at indiana.edu</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> Ahh, must be because you have 0.7.3. Take a look at the structure of GridUser. That looks promising. I&quot;m downloading
</I>&gt;&gt;&gt;<i> 0.7.3 as I type...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Steve
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Opensim-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>

-- 
Justin Clark-Casey (justincc)
<A HREF="http://justincc.org/blog">http://justincc.org/blog</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009600.html">[Opensim-users] MySQL query and number of agents online
</A></li>
	<LI>Next message: <A HREF="009607.html">[Opensim-users] Is there an easy way to create Male Avatar?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9621">[ date ]</a>
              <a href="thread.html#9621">[ thread ]</a>
              <a href="subject.html#9621">[ subject ]</a>
              <a href="author.html#9621">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
