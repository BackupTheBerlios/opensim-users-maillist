<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] More 0.6.7 ... Re: Multiple regions using 0.6.7
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20More%200.6.7%20...%20Re%3A%20Multiple%20regions%20using%200.6.7&In-Reply-To=%3C4AD901E7.30909%40cise.ufl.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002911.html">
   <LINK REL="Next"  HREF="002912.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] More 0.6.7 ... Re: Multiple regions using 0.6.7</H1>
    <B>Paul Fishwick</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20More%200.6.7%20...%20Re%3A%20Multiple%20regions%20using%200.6.7&In-Reply-To=%3C4AD901E7.30909%40cise.ufl.edu%3E"
       TITLE="[Opensim-users] More 0.6.7 ... Re: Multiple regions using 0.6.7">fishwick at cise.ufl.edu
       </A><BR>
    <I>Sat Oct 17 01:29:43 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002911.html">[Opensim-users] More 0.6.7 ... Re: Multiple regions using 0.6.7
</A></li>
        <LI>Next message: <A HREF="002912.html">[Opensim-users] CSJ2K problesm (was Re: More 0.6.7 ... Re: Multiple	regions using 0.6.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2913">[ date ]</a>
              <a href="thread.html#2913">[ thread ]</a>
              <a href="subject.html#2913">[ subject ]</a>
              <a href="author.html#2913">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Charles Krinke wrote:
&gt;<i> I think it is fair to say that 64bit support is still suffering from 
</I>&gt;<i> ODE and openjpeg issues. Most that are using OpenSim are going out of 
</I>&gt;<i> their way to use 32bit OS in both Windows and Linux.
</I>&gt;<i>  
</I>&gt;<i> Certainly, 64bit will be the future some time, but those working with 
</I>&gt;<i> it need to accept that they are blazing the trail a bit.
</I>yes, no problem - we'll test it out. We went with 64 bit because it is the
standard for every server configuration we investigated, and because of
the addressable memory limitations (4GB) for 32 bit O/Ss.
-p
 
&gt;<i>  
</I>&gt;<i> Charles
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> *From:* Paul Fishwick &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">fishwick at cise.ufl.edu</A>&gt;
</I>&gt;<i> *To:* <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> *Sent:* Friday, October 16, 2009 6:56:04 AM
</I>&gt;<i> *Subject:* Re: [Opensim-users] More 0.6.7 ... Re: Multiple regions 
</I>&gt;<i> using 0.6.7
</I>&gt;<i>
</I>&gt;<i> Jabba
</I>&gt;<i>
</I>&gt;<i>   I am running 64 bit linux at work and had exactly the same two
</I>&gt;<i> problems that
</I>&gt;<i> you did.  The avatar problem was resolved with the default settings plus
</I>&gt;<i> changing
</I>&gt;<i> av_capsule_tilted = false. There was no other solution that worked - the
</I>&gt;<i> avatar's
</I>&gt;<i> legs were bent otherwise, or the avatar mesh intersected with the
</I>&gt;<i> terrain mesh. There
</I>&gt;<i> is still the occasional flailing of the avatar, which is something I
</I>&gt;<i> wish we could get rid
</I>&gt;<i> of, but we are just living with that:
</I>&gt;<i> <A HREF="http://www.cise.ufl.edu/~fishwick/swimming.png">http://www.cise.ufl.edu/~fishwick/swimming.png</A> --
</I>&gt;<i> seems to be an in-between state where the avatar is neither flying nor
</I>&gt;<i> upright.
</I>&gt;<i>
</I>&gt;<i>   As far as the textures, yes, there is something odd going on but a
</I>&gt;<i> recent fix was made to
</I>&gt;<i> transition to a library CSJ2K in 0.6.8.  You'll need to download the
</I>&gt;<i> bleeding edge
</I>&gt;<i> version, though, to take advantage of this. I am not sure if the
</I>&gt;<i> releases cover the
</I>&gt;<i> CSJ2K fix. You'll also see a huge # of warnings from CSJ2K in the
</I>&gt;<i> console (more
</I>&gt;<i> than before with the older decoding approach), however, the
</I>&gt;<i> client-server interaction
</I>&gt;<i> regarding texture retrievals is much better. I am not sure if the new
</I>&gt;<i> library solves
</I>&gt;<i> all texture issues. There are one or two that never seem to fully
</I>&gt;<i> resolve regardless
</I>&gt;<i> of camera-focus/zooming or time waiting.  Make sure to &quot;clear cache&quot; in
</I>&gt;<i> the viewer before launching.
</I>&gt;<i>
</I>&gt;<i>   Regarding region crossings, I have not had any issues, though. I am
</I>&gt;<i> using Standalone
</I>&gt;<i> with a 2x2 set of regions.
</I>&gt;<i>
</I>&gt;<i> -p
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jabba Gruppman wrote:
</I>&gt;<i> &gt; Thanks Justin for the help, I succeeded in getting up all four regions
</I>&gt;<i> &gt; now - but there are some more problems - and partial solutions - I want
</I>&gt;<i> &gt; to share...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; All issues are based on release 0.6.7. I know very well that it's not
</I>&gt;<i> &gt; the latest rev and I will recheck all issues against an updated
</I>&gt;<i> &gt; installation with the latest rev later.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I am running a 64 bit Linux (Gentoo) and I have serious problems with
</I>&gt;<i> &gt; ODE.There still was a physical spiral object in one region making it
</I>&gt;<i> &gt; impossible to bring this one online with ODE. After starting with
</I>&gt;<i> &gt; basicphyisics and removing this object from the region, ODE did not
</I>&gt;<i> &gt; crash any more.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So my avie was online with bent knees...  Old problem and when I was
</I>&gt;<i> &gt; hopping through the hypergrid I learnt that my grid isnt the only one
</I>&gt;<i> &gt; with this problem. Somewhere I found the idea to enlarge the force to
</I>&gt;<i> &gt; use to keep the avatar standing up straight
</I>&gt;<i> &gt; &quot;av_capsule_standup_tensor_linux = 1700000&quot; - but this did not help.
</I>&gt;<i> &gt; Browsing the mantis another idea was to set &quot;av_capsule_tilted = false&quot;
</I>&gt;<i> &gt; which finally did the job - but leads to region crossing problems.
</I>&gt;<i> &gt; Anyways the avie is standing as usual but about 10 cm above the
</I>&gt;<i> &gt; ground...  I can live with it  ;-)  but region crossing still is an
</I>&gt;<i> &gt; issue as it is sometimes crashing the session due to this problem and
</I>&gt;<i> &gt; leaves the simulator in an unexeptable state. Relogging does not work -
</I>&gt;<i> &gt; session is crashing over and over again - but relogging using &quot;Login at
</I>&gt;<i> &gt; home position&quot; does the job.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I suspect the same error occured to the UCI 7000 gateway at
</I>&gt;<i> &gt; ucigrid04.nacs.uci.edu:9007 as this region always crashed my session
</I>&gt;<i> &gt; when trying to teleport to. Seems to be the same behaviour, at least
</I>&gt;<i> &gt; from user view. In this context it makes it impossible to tp to the 
</I>&gt;<i> region.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Next issue is the download of textures to the client viewer. Several
</I>&gt;<i> &gt; textures are only transferred in a lower resolution state meaning the
</I>&gt;<i> &gt; transfer is not finished and very often never will be. Browsing 
</I>&gt;<i> Mantis I
</I>&gt;<i> &gt; found some hints including a &quot;maybe&quot; broken jpeg module for 64 bit. The
</I>&gt;<i> &gt; error message
</I>&gt;<i> &gt; 2009-10-16 01:50:07,476 WARN  - OpenMetaverse Last packet end in
</I>&gt;<i> &gt; JPEG2000 stream extends beyond the end of the file. filesize=70083
</I>&gt;<i> &gt; layerend=2147450879
</I>&gt;<i> &gt; 2009-10-16 01:50:07,477 WARN  -
</I>&gt;<i> &gt; OpenSim.Region.CoreModules.Agent.TextureSender.J2KDecoderModule
</I>&gt;<i> &gt; [J2KDecoderModule]: JPEG2000 texture decoding failed for
</I>&gt;<i> &gt; 7c1c3156-c8af-4400-8739-6cb68e12692e.  Is this a texture?  is it J2K?
</I>&gt;<i> &gt; is sometimes displayed - but there are far more textures left 
</I>&gt;<i> unfinished
</I>&gt;<i> &gt; as there are error messages regarding jpeg2000 decode errors. So my
</I>&gt;<i> &gt; guess is that this might be a different problem.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Anyways there seem to be more texture issues.
</I>&gt;<i> &gt; [WORLD MAP]: JPEG Map location:
</I>&gt;<i> &gt; 
</I>&gt;<i> <A HREF="http://88.198.35.20:9000/index.php?method=regionImage0470c5be5cdf4cdf87dcbc052efa1ebd">http://88.198.35.20:9000/index.php?method=regionImage0470c5be5cdf4cdf87dcbc052efa1ebd</A>
</I>&gt;<i> &gt; My region image is not loading and I get an error message:
</I>&gt;<i> &gt; 2009-10-16 01:13:02,891 DEBUG -
</I>&gt;<i> &gt; OpenSim.Region.CoreModules.World.WorldMap.WorldMapModule [WORLD MAP]:
</I>&gt;<i> &gt; Sending map image jpeg
</I>&gt;<i> &gt; 2009-10-16 01:13:02,894 WARN  -
</I>&gt;<i> &gt; OpenSim.Region.CoreModules.World.WorldMap.WorldMapModule [WORLD MAP]:
</I>&gt;<i> &gt; Unable to generate Map image
</I>&gt;<i> &gt; The server itself is responding so at least it is listing to the 
</I>&gt;<i> correct
</I>&gt;<i> &gt; port number and such. But it might be a typical 64 bit problem as well.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Grid details:
</I>&gt;<i> &gt; <A HREF="http://www.annuna.net/wiki/index.php/Annuna_Open_Grid">http://www.annuna.net/wiki/index.php/Annuna_Open_Grid</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Justin Clark-Casey schrieb:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt; Jabba Gruppman wrote:
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt;   
</I>&gt;<i> &gt;&gt;&gt; Hello,
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I'm a bit lost with the changes in 0.6.7 regarding how to set up
</I>&gt;<i> &gt;&gt;&gt; multiple regions.
</I>&gt;<i> &gt;&gt;&gt; Formerly I used to have several xml files in the Regions/ 
</I>&gt;<i> directory and
</I>&gt;<i> &gt;&gt;&gt; all was
</I>&gt;<i> &gt;&gt;&gt; working fine.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; After OpenSim.exe was not coming up correctly after installing 0.6.7
</I>&gt;<i> &gt;&gt;&gt;   
</I>&gt;<i> &gt;&gt;&gt;     
</I>&gt;<i> &gt;&gt; You might want to go back and double check.  I still have a trunk 
</I>&gt;<i> OpenSim which
</I>&gt;<i> &gt;&gt; is fine using multiple region xml files.  The same should be true 
</I>&gt;<i> of 0.6.7.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt;   
</I>&gt;<i> &gt;&gt;&gt; I removed the old xml files from the Regions directory and created 
</I>&gt;<i> one
</I>&gt;<i> &gt;&gt;&gt; single
</I>&gt;<i> &gt;&gt;&gt; region manually using the interactive config of OpenSim.exe
</I>&gt;<i> &gt;&gt;&gt; I was successful and OpenSim.exe started without problems. After 
</I>&gt;<i> this I
</I>&gt;<i> &gt;&gt;&gt; found
</I>&gt;<i> &gt;&gt;&gt; a Regions.ini file in the Regions directory...
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Unfortunately the wiki at <A HREF="http://opensimulator.org/wiki/Configuration">http://opensimulator.org/wiki/Configuration</A>
</I>&gt;<i> &gt;&gt;&gt; still tells
</I>&gt;<i> &gt;&gt;&gt; about the xml configuration which seems to be outdated now.
</I>&gt;<i> &gt;&gt;&gt;   
</I>&gt;<i> &gt;&gt;&gt;     
</I>&gt;<i> &gt;&gt; You're right, this is bad, the doc really needs to be updated here.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I had completely forgotten that the regions default had changed to 
</I>&gt;<i> .ini between
</I>&gt;<i> &gt;&gt; 0.6.6 and 0.6.7.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt;   
</I>&gt;<i> &gt;&gt;&gt; How is the correct way of setting up multiple regions for one single
</I>&gt;<i> &gt;&gt;&gt; OpenSim.exe
</I>&gt;<i> &gt;&gt;&gt; instance now? Maybe anyone has a good link to an example?
</I>&gt;<i> &gt;&gt;&gt;   
</I>&gt;<i> &gt;&gt;&gt;     
</I>&gt;<i> &gt;&gt;  From reading the code, I think that it should be possible either to
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 1)  Specify multiple regions in a single ini file (e.g. 
</I>&gt;<i> Regions.ini).  For example
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; [Big Fat Region]
</I>&gt;<i> &gt;&gt; RegionUUID = 5ce85740-6460-43d3-ba4c-29207b010072
</I>&gt;<i> &gt;&gt; Location = 1000,1000
</I>&gt;<i> &gt;&gt; InternalAddress = 0.0.0.0
</I>&gt;<i> &gt;&gt; InternalPort = 9000
</I>&gt;<i> &gt;&gt; AllowAlternatePorts = False
</I>&gt;<i> &gt;&gt; ExternalHostName = 192.168.1.2
</I>&gt;<i> &gt;&gt; MasterAvatarFirstName = Justin
</I>&gt;<i> &gt;&gt; MasterAvatarLastName = Clark-Casey
</I>&gt;<i> &gt;&gt; MasterAvatarSandboxPassword = yeahokay
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; [Greek Wedding]
</I>&gt;<i> &gt;&gt; RegionUUID = 5c445740-6460-43d3-ba4c-444444445555
</I>&gt;<i> &gt;&gt; Location = 1000,1001
</I>&gt;<i> &gt;&gt; InternalAddress = 0.0.0.0
</I>&gt;<i> &gt;&gt; InternalPort = 9001
</I>&gt;<i> &gt;&gt; AllowAlternatePorts = False
</I>&gt;<i> &gt;&gt; ExternalHostName = 192.168.1.2
</I>&gt;<i> &gt;&gt; MasterAvatarFirstName = Justin
</I>&gt;<i> &gt;&gt; MasterAvatarLastName = Clark-Casey
</I>&gt;<i> &gt;&gt; MasterAvatarSandboxPassword = yeahokay
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; or spread them across multiple ini files.  Of course, the old xml 
</I>&gt;<i> files should
</I>&gt;<i> &gt;&gt; also work.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I'll try and change the wiki page sometime (making separate 0.6.6 
</I>&gt;<i> and 0.6.7
</I>&gt;<i> &gt;&gt; sections for now, even though that's messy).  Of course, if someone 
</I>&gt;<i> else wants
</I>&gt;<i> &gt;&gt; to jump in and do that it would be very much appreciated :)
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt;   
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Paul Fishwick, PhD
</I>&gt;<i> Professor and Director, Digital Arts and Sciences Programs
</I>&gt;<i> University of Florida
</I>&gt;<i> Computer &amp; Information Science and Eng. Dept.
</I>&gt;<i> Bldg. CSE, Room 301
</I>&gt;<i> P.O. Box 116120
</I>&gt;<i> Gainesville, FL 32611
</I>&gt;<i> Email: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">fishwick at cise.ufl.edu</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">fishwick at cise.ufl.edu</A>&gt;
</I>&gt;<i> Phone: (352) 392-1414
</I>&gt;<i> Fax: (352) 392-1220
</I>&gt;<i> Web: <A HREF="http://www.cise.ufl.edu/~fishwick">http://www.cise.ufl.edu/~fishwick</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>&gt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>   
</I>

-- 
Paul Fishwick, PhD
Professor and Director, Digital Arts and Sciences Programs
University of Florida
Computer &amp; Information Science and Eng. Dept.
Bldg. CSE, Room 301
P.O. Box 116120
Gainesville, FL 32611
Email: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">fishwick at cise.ufl.edu</A>
Phone: (352) 392-1414
Fax: (352) 392-1220
Web: <A HREF="http://www.cise.ufl.edu/~fishwick">http://www.cise.ufl.edu/~fishwick</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002911.html">[Opensim-users] More 0.6.7 ... Re: Multiple regions using 0.6.7
</A></li>
	<LI>Next message: <A HREF="002912.html">[Opensim-users] CSJ2K problesm (was Re: More 0.6.7 ... Re: Multiple	regions using 0.6.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2913">[ date ]</a>
              <a href="thread.html#2913">[ thread ]</a>
              <a href="subject.html#2913">[ subject ]</a>
              <a href="author.html#2913">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
