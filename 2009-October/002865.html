<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Opensim 0.6.6 release standalone hangs at 'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet computers
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Opensim%200.6.6%20release%20standalone%20hangs%20at%0A%20%27Waiting%20for%20region%20handshake%27%20%28LoginPacketNeverReceived%29%20on%20other%20intranet%0A%20computers&In-Reply-To=%3C00c001ca4c3b%2467cc63b0%2437652b10%24%40freeserve.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002864.html">
   <LINK REL="Next"  HREF="002866.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Opensim 0.6.6 release standalone hangs at 'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet computers</H1>
    <B>Kevin Buckley</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Opensim%200.6.6%20release%20standalone%20hangs%20at%0A%20%27Waiting%20for%20region%20handshake%27%20%28LoginPacketNeverReceived%29%20on%20other%20intranet%0A%20computers&In-Reply-To=%3C00c001ca4c3b%2467cc63b0%2437652b10%24%40freeserve.co.uk%3E"
       TITLE="[Opensim-users] Opensim 0.6.6 release standalone hangs at 'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet computers">kevin at buckley70.freeserve.co.uk
       </A><BR>
    <I>Tue Oct 13 21:28:56 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002864.html">[Opensim-users] Opensim 0.6.6 release standalone hangs at 'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet computers
</A></li>
        <LI>Next message: <A HREF="002866.html">[Opensim-users] Opensim 0.6.6 release standalone hangs at 'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet computers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2865">[ date ]</a>
              <a href="thread.html#2865">[ thread ]</a>
              <a href="subject.html#2865">[ subject ]</a>
              <a href="author.html#2865">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes.  And that works - because when my friend tried to login (from far away
- outside the router firewall) I could see that activity on the opensim
window and it got to the region handshake point (actually opensim says
logged-in).  That shouldn't affect this problem though I think - all the
PC's I am using are behind the router (and being explicitly addressed using
internal addresses (192.168.10.x).  Do you have 0.6.6 running OK in
standalone?  Thanks - Kevin

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>
[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-bounces at lists.berlios.de</A>] On Behalf Of Paul Fishwick
Sent: 13 October 2009 19:53
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
Subject: Re: [Opensim-users] Opensim 0.6.6 release standalone hangs at
'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet
computers


Have you logged into your Belkin router and set up your router to forward
any traffic on the port you are using (9000 for instance) to the machine
where opensim is running (behind your router) ?
-p

Kevin Buckley wrote:
&gt;<i>
</I>&gt;<i> I'm trying to get a 'vanilla' instance of OS-0.6.6 running 
</I>&gt;<i> 'standalone' on my PC so that I can log-in to it from outside (I have 
</I>&gt;<i> a pseudo-Static Domain: i.e. a Dynamic Domain Name from the ISP and a 
</I>&gt;<i> service from 'deerfield.com' called 'DNS2Go' that tracks it - has 
</I>&gt;<i> worked just fine with various packages for years). Ultimately I would 
</I>&gt;<i> like to get opensim running as a standalone-hypergrid implementation - 
</I>&gt;<i> but just standalone seemed a good first step. I planned to test it: 
</I>&gt;<i> viewer on same PC as opensim, viewer on different PC but within the 
</I>&gt;<i> firewall and finally: remote access using my Static Domain.
</I>&gt;<i>
</I>&gt;<i> After a few false starts, I built the release on one of my PC's 
</I>&gt;<i> (Windows XP SP2) using Port 9100 (Port 9000 is used already by my 
</I>&gt;<i> streaming music system). It works just fine if I use either the 2L 
</I>&gt;<i> viewer (v1.23.4 - 123908) or Hippo viewer, running on the same machine 
</I>&gt;<i> as opensim.
</I>&gt;<i>
</I>&gt;<i> However, if I run the viewer on different machines within my firewall 
</I>&gt;<i> (I have 2 others: Windows XP, also SP2 plus a Vista laptop - both 
</I>&gt;<i> tower PC's are high performance Pentium-4's with high-end NVIDIA 
</I>&gt;<i> graphics cards btw) it finds my opensim OK (can see the modified 
</I>&gt;<i> welcome message during login) but hangs at 'Waiting for region 
</I>&gt;<i> handshake'. Then I get the 'may have network issues message' and stops.
</I>&gt;<i>
</I>&gt;<i> I also got a friend to try to login from far away (outside the 
</I>&gt;<i> firewall) with the same failure at 'Waiting for region handshake'. I 
</I>&gt;<i> am about 50h into this now and have run out of ideas (and hair). I 
</I>&gt;<i> have seen in various forums that a number of people have (are) also 
</I>&gt;<i> experienced this problem - but so far I have never seen a posted solution.
</I>&gt;<i>
</I>&gt;<i> So far I have done the following things (and they have made no 
</I>&gt;<i> difference - behaviour is exactly the same):
</I>&gt;<i>
</I>&gt;<i> - Tried different Ports: 9100, 9200, 9217 and even 9000 by shutting 
</I>&gt;<i> down my music server (changing the port addresses in 'Regions.ini' and 
</I>&gt;<i> 'opensim.ini')
</I>&gt;<i>
</I>&gt;<i> - Tried 'runprebuild' ('compile' runs with no errors) and 
</I>&gt;<i> 'runprebuild2008' (path error for .NETFramework - I have v3.5 btw)
</I>&gt;<i>
</I>&gt;<i> - Tried '0.0.0.0', '127.0.0.1', '192.168.10.100' (the server PC 
</I>&gt;<i> internal address) as 'InternalAddress' inside 'Regions.ini'
</I>&gt;<i>
</I>&gt;<i> - Tried 'SYSTEMIP' and '192.168.10.100' as 'ExternalHostName' inside 
</I>&gt;<i> 'Regions.ini'
</I>&gt;<i>
</I>&gt;<i> - Tried '127.0.0.1', '192.168.10.100' and even my external domain name 
</I>&gt;<i> in the various places in 'opensim.ini'
</I>&gt;<i>
</I>&gt;<i> - Tried running the '/bin' application on a different PC on the 
</I>&gt;<i> intranet (so then the viewers work OK on that PC but not now on the 
</I>&gt;<i> original server PC)
</I>&gt;<i>
</I>&gt;<i> - Tried 'AllowAlternatePorts' as both True and False
</I>&gt;<i>
</I>&gt;<i> - I have inserted the 'AV rezzes as cloud' patch and rebuilt (that 
</I>&gt;<i> fixed THAT issue!)
</I>&gt;<i>
</I>&gt;<i> - I have totally rebuilt from scratch many times
</I>&gt;<i>
</I>&gt;<i> - I have rebooted all the PC's at various times
</I>&gt;<i>
</I>&gt;<i> - Tried router firewall off and on (not that it should matter - router 
</I>&gt;<i> is Belkin F5D8635-4v1 btw)
</I>&gt;<i>
</I>&gt;<i> - Tried Windows firewalls off and on
</I>&gt;<i>
</I>&gt;<i> - Searched high and low on the internet (generally and within the 
</I>&gt;<i> opensim forums)
</I>&gt;<i>
</I>&gt;<i> All to no avail.
</I>&gt;<i>
</I>&gt;<i> All I have changed in 'opensim.ini' (and 'Regions.ini') are the Port 
</I>&gt;<i> and Internet related addresses. The only other thing I changed was 
</I>&gt;<i> somewhere I had to uncomment a line to say which version of cache to 
</I>&gt;<i> use. Everything is 'out of the box' (I did, of course, copy the 
</I>&gt;<i> '.ini.examples' and convert them to '.ini's as appropriate).
</I>&gt;<i>
</I>&gt;<i> Has anyone had this issue and actually fixed it? How?
</I>&gt;<i>
</I>&gt;<i> Any help really appreciated. I'm a professional programmer by the way 
</I>&gt;<i> - but I wasn't intending to have to start diving into the opensim 
</I>&gt;<i> source to fix this!
</I>&gt;<i>
</I>&gt;<i> Kevin
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>   
</I>

-- 
Dr. Paul A. Fishwick           E-Mail: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">fishwick at cise.ufl.edu</A>
Dept. of Computer &amp; Info       Phone &amp; FAX: (352) 392-1414
 Science and Engineering       WWW: <A HREF="http://www.cise.ufl.edu/~fishwick">http://www.cise.ufl.edu/~fishwick</A>
University of Florida          (PGP Key available at above WWW address)
P. O. Box 116120
332 Bldg. CSE, Gainesville, FL 32611-6120

_______________________________________________
Opensim-users mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>






</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002864.html">[Opensim-users] Opensim 0.6.6 release standalone hangs at 'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet computers
</A></li>
	<LI>Next message: <A HREF="002866.html">[Opensim-users] Opensim 0.6.6 release standalone hangs at 'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet computers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2865">[ date ]</a>
              <a href="thread.html#2865">[ thread ]</a>
              <a href="subject.html#2865">[ subject ]</a>
              <a href="author.html#2865">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
