<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Opensim 0.6.6 release standalone hangs at 'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet computers
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Opensim%200.6.6%20release%20standalone%20hangs%20at%20%27Waiting%0A%20for%20region%20handshake%27%20%28LoginPacketNeverReceived%29%20on%20other%20intranet%0A%20computers&In-Reply-To=%3C00b501ca4c2d%246b7f13d0%24427d3b70%24%40freeserve.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002858.html">
   <LINK REL="Next"  HREF="002864.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Opensim 0.6.6 release standalone hangs at 'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet computers</H1>
    <B>Kevin Buckley</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Opensim%200.6.6%20release%20standalone%20hangs%20at%20%27Waiting%0A%20for%20region%20handshake%27%20%28LoginPacketNeverReceived%29%20on%20other%20intranet%0A%20computers&In-Reply-To=%3C00b501ca4c2d%246b7f13d0%24427d3b70%24%40freeserve.co.uk%3E"
       TITLE="[Opensim-users] Opensim 0.6.6 release standalone hangs at 'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet computers">kevin at buckley70.freeserve.co.uk
       </A><BR>
    <I>Tue Oct 13 19:48:49 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002858.html">[Opensim-users] Open Source Male Walk Animation for OpenSim?
</A></li>
        <LI>Next message: <A HREF="002864.html">[Opensim-users] Opensim 0.6.6 release standalone hangs at 'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet computers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2863">[ date ]</a>
              <a href="thread.html#2863">[ thread ]</a>
              <a href="subject.html#2863">[ subject ]</a>
              <a href="author.html#2863">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to get a 'vanilla' instance of OS-0.6.6 running 'standalone' on
my PC so that I can log-in to it from outside (I have a  pseudo-Static
Domain: i.e. a Dynamic Domain Name from the ISP and a service from
'deerfield.com' called 'DNS2Go' that tracks it - has worked just fine with
various packages for years).  Ultimately I would like to get opensim running
as a standalone-hypergrid implementation - but just standalone seemed a good
first step.  I planned to test it: viewer on same PC as opensim, viewer on
different PC but within the firewall and finally: remote access using my
Static Domain.

 

After a few false starts, I built the release on one of my PC's (Windows XP
SP2) using Port 9100 (Port 9000 is used already by my streaming music
system).  It works just fine if I use either the 2L viewer (v1.23.4 -
123908) or Hippo viewer, running on the same machine as opensim.

 

However, if I run the viewer on different machines within my firewall (I
have 2 others: Windows XP, also SP2 plus a Vista laptop - both tower PC's
are high performance Pentium-4's with high-end NVIDIA graphics cards btw) it
finds my opensim OK (can see the modified welcome message during login) but
hangs at 'Waiting for region handshake'.  Then I get the 'may have network
issues message' and stops.

 

I also got a friend to try to login from far away (outside the firewall)
with the same failure at 'Waiting for region handshake'.  I am about 50h
into this now and have run out of ideas (and hair).  I have seen in various
forums that a number of people have (are) also experienced this problem -
but so far I have never seen a posted solution.

 

So far I have done the following things (and they have made no difference -
behaviour is exactly the same):

- Tried different Ports: 9100, 9200, 9217 and even 9000 by shutting down my
music server (changing the port addresses in 'Regions.ini' and
'opensim.ini')

- Tried 'runprebuild' ('compile' runs with no errors) and 'runprebuild2008'
(path error for .NETFramework - I have v3.5 btw)

- Tried '0.0.0.0', '127.0.0.1', '192.168.10.100' (the server PC internal
address) as 'InternalAddress' inside 'Regions.ini'

- Tried 'SYSTEMIP' and '192.168.10.100' as 'ExternalHostName' inside
'Regions.ini'

- Tried '127.0.0.1', '192.168.10.100' and even my external domain name in
the various places in 'opensim.ini'

- Tried running the '/bin' application on a different PC on the intranet (so
then the viewers work OK on that PC but not now on the original server PC)

- Tried 'AllowAlternatePorts' as both True and False

- I have inserted the 'AV rezzes as cloud' patch and rebuilt (that fixed
THAT issue!)

- I have totally rebuilt from scratch many times

- I have rebooted all the PC's at various times

- Tried router firewall off and on (not that it should matter - router is
Belkin F5D8635-4v1 btw)

- Tried Windows firewalls off and on

- Searched high and low on the internet (generally and within the opensim
forums)

 

All to no avail.

 

All I have changed in 'opensim.ini' (and 'Regions.ini') are the Port and
Internet related addresses.  The only other thing I changed was somewhere I
had to uncomment a line to say which version of cache to use.  Everything is
'out of the box' (I did, of course, copy the '.ini.examples' and convert
them to '.ini's as appropriate).

 

Has anyone had this issue and actually fixed it?  How?

 

Any help really appreciated.  I'm a professional programmer by the way - but
I wasn't intending to have to start diving into the opensim source to fix
this!

 

Kevin

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20091013/4696ae17/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20091013/4696ae17/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002858.html">[Opensim-users] Open Source Male Walk Animation for OpenSim?
</A></li>
	<LI>Next message: <A HREF="002864.html">[Opensim-users] Opensim 0.6.6 release standalone hangs at 'Waiting for region handshake' (LoginPacketNeverReceived) on other intranet computers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2863">[ date ]</a>
              <a href="thread.html#2863">[ thread ]</a>
              <a href="subject.html#2863">[ subject ]</a>
              <a href="author.html#2863">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
