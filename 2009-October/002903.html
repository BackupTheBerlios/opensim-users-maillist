<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] More 0.6.7 ... Re:  Multiple regions using 0.6.7
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20More%200.6.7%20...%20Re%3A%20%20Multiple%20regions%20using%200.6.7&In-Reply-To=%3C4AD837BC.106%40annuna.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002909.html">
   <LINK REL="Next"  HREF="002907.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] More 0.6.7 ... Re:  Multiple regions using 0.6.7</H1>
    <B>Jabba Gruppman</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20More%200.6.7%20...%20Re%3A%20%20Multiple%20regions%20using%200.6.7&In-Reply-To=%3C4AD837BC.106%40annuna.net%3E"
       TITLE="[Opensim-users] More 0.6.7 ... Re:  Multiple regions using 0.6.7">jabba at annuna.net
       </A><BR>
    <I>Fri Oct 16 11:07:08 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002909.html">[Opensim-users] Multiple regions using 0.6.7
</A></li>
        <LI>Next message: <A HREF="002907.html">[Opensim-users] More 0.6.7 ... Re: Multiple regions using 0.6.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2903">[ date ]</a>
              <a href="thread.html#2903">[ thread ]</a>
              <a href="subject.html#2903">[ subject ]</a>
              <a href="author.html#2903">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Justin for the help, I succeeded in getting up all four regions 
now - but there are some more problems - and partial solutions - I want 
to share...

All issues are based on release 0.6.7. I know very well that it's not 
the latest rev and I will recheck all issues against an updated 
installation with the latest rev later.

I am running a 64 bit Linux (Gentoo) and I have serious problems with 
ODE.There still was a physical spiral object in one region making it 
impossible to bring this one online with ODE. After starting with 
basicphyisics and removing this object from the region, ODE did not 
crash any more.

So my avie was online with bent knees...  Old problem and when I was 
hopping through the hypergrid I learnt that my grid isnt the only one 
with this problem. Somewhere I found the idea to enlarge the force to 
use to keep the avatar standing up straight 
&quot;av_capsule_standup_tensor_linux = 1700000&quot; - but this did not help.
Browsing the mantis another idea was to set &quot;av_capsule_tilted = false&quot; 
which finally did the job - but leads to region crossing problems. 
Anyways the avie is standing as usual but about 10 cm above the 
ground...  I can live with it  ;-)   but region crossing still is an 
issue as it is sometimes crashing the session due to this problem and 
leaves the simulator in an unexeptable state. Relogging does not work - 
session is crashing over and over again - but relogging using &quot;Login at 
home position&quot; does the job.

I suspect the same error occured to the UCI 7000 gateway at 
ucigrid04.nacs.uci.edu:9007 as this region always crashed my session 
when trying to teleport to. Seems to be the same behaviour, at least 
from user view. In this context it makes it impossible to tp to the region.

Next issue is the download of textures to the client viewer. Several 
textures are only transferred in a lower resolution state meaning the 
transfer is not finished and very often never will be. Browsing Mantis I 
found some hints including a &quot;maybe&quot; broken jpeg module for 64 bit. The 
error message
2009-10-16 01:50:07,476 WARN  - OpenMetaverse Last packet end in 
JPEG2000 stream extends beyond the end of the file. filesize=70083 
layerend=2147450879
2009-10-16 01:50:07,477 WARN  - 
OpenSim.Region.CoreModules.Agent.TextureSender.J2KDecoderModule 
[J2KDecoderModule]: JPEG2000 texture decoding failed for 
7c1c3156-c8af-4400-8739-6cb68e12692e.   Is this a texture?  is it J2K?
is sometimes displayed - but there are far more textures left unfinished 
as there are error messages regarding jpeg2000 decode errors. So my 
guess is that this might be a different problem.

Anyways there seem to be more texture issues.
[WORLD MAP]: JPEG Map location: 
<A HREF="http://88.198.35.20:9000/index.php?method=regionImage0470c5be5cdf4cdf87dcbc052efa1ebd">http://88.198.35.20:9000/index.php?method=regionImage0470c5be5cdf4cdf87dcbc052efa1ebd</A>
My region image is not loading and I get an error message:
2009-10-16 01:13:02,891 DEBUG - 
OpenSim.Region.CoreModules.World.WorldMap.WorldMapModule [WORLD MAP]: 
Sending map image jpeg
2009-10-16 01:13:02,894 WARN  - 
OpenSim.Region.CoreModules.World.WorldMap.WorldMapModule [WORLD MAP]: 
Unable to generate Map image
The server itself is responding so at least it is listing to the correct 
port number and such. But it might be a typical 64 bit problem as well.

Grid details:
<A HREF="http://www.annuna.net/wiki/index.php/Annuna_Open_Grid">http://www.annuna.net/wiki/index.php/Annuna_Open_Grid</A>



Justin Clark-Casey schrieb:
&gt;<i> Jabba Gruppman wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Hello,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm a bit lost with the changes in 0.6.7 regarding how to set up 
</I>&gt;&gt;<i> multiple regions.
</I>&gt;&gt;<i> Formerly I used to have several xml files in the Regions/ directory and 
</I>&gt;&gt;<i> all was
</I>&gt;&gt;<i> working fine.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> After OpenSim.exe was not coming up correctly after installing 0.6.7
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> You might want to go back and double check.  I still have a trunk OpenSim which 
</I>&gt;<i> is fine using multiple region xml files.  The same should be true of 0.6.7.
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> I removed the old xml files from the Regions directory and created one 
</I>&gt;&gt;<i> single
</I>&gt;&gt;<i> region manually using the interactive config of OpenSim.exe
</I>&gt;&gt;<i> I was successful and OpenSim.exe started without problems. After this I 
</I>&gt;&gt;<i> found
</I>&gt;&gt;<i> a Regions.ini file in the Regions directory...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Unfortunately the wiki at <A HREF="http://opensimulator.org/wiki/Configuration">http://opensimulator.org/wiki/Configuration</A> 
</I>&gt;&gt;<i> still tells
</I>&gt;&gt;<i> about the xml configuration which seems to be outdated now.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> You're right, this is bad, the doc really needs to be updated here.
</I>&gt;<i>
</I>&gt;<i> I had completely forgotten that the regions default had changed to .ini between 
</I>&gt;<i> 0.6.6 and 0.6.7.
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> How is the correct way of setting up multiple regions for one single 
</I>&gt;&gt;<i> OpenSim.exe
</I>&gt;&gt;<i> instance now? Maybe anyone has a good link to an example?
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i>  From reading the code, I think that it should be possible either to
</I>&gt;<i>
</I>&gt;<i> 1)  Specify multiple regions in a single ini file (e.g. Regions.ini).  For example
</I>&gt;<i>
</I>&gt;<i> [Big Fat Region]
</I>&gt;<i> RegionUUID = 5ce85740-6460-43d3-ba4c-29207b010072
</I>&gt;<i> Location = 1000,1000
</I>&gt;<i> InternalAddress = 0.0.0.0
</I>&gt;<i> InternalPort = 9000
</I>&gt;<i> AllowAlternatePorts = False
</I>&gt;<i> ExternalHostName = 192.168.1.2
</I>&gt;<i> MasterAvatarFirstName = Justin
</I>&gt;<i> MasterAvatarLastName = Clark-Casey
</I>&gt;<i> MasterAvatarSandboxPassword = yeahokay
</I>&gt;<i>
</I>&gt;<i> [Greek Wedding]
</I>&gt;<i> RegionUUID = 5c445740-6460-43d3-ba4c-444444445555
</I>&gt;<i> Location = 1000,1001
</I>&gt;<i> InternalAddress = 0.0.0.0
</I>&gt;<i> InternalPort = 9001
</I>&gt;<i> AllowAlternatePorts = False
</I>&gt;<i> ExternalHostName = 192.168.1.2
</I>&gt;<i> MasterAvatarFirstName = Justin
</I>&gt;<i> MasterAvatarLastName = Clark-Casey
</I>&gt;<i> MasterAvatarSandboxPassword = yeahokay
</I>&gt;<i>
</I>&gt;<i> or spread them across multiple ini files.  Of course, the old xml files should 
</I>&gt;<i> also work.
</I>&gt;<i>
</I>&gt;<i> I'll try and change the wiki page sometime (making separate 0.6.6 and 0.6.7 
</I>&gt;<i> sections for now, even though that's messy).  Of course, if someone else wants 
</I>&gt;<i> to jump in and do that it would be very much appreciated :)
</I>&gt;<i>
</I>&gt;<i>   
</I>

-- 

*Jabba Gruppman
Annuna Technologies* (former: Bicc-in-SL.com)
Audio and Video Streaming Solutions for Second Life (and Reality)
Email: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">jabba at annuna.net</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">jabba at annuna.net</A>&gt;
Emergency Mobile: +49 - (0)179 / 394 80 72
<A HREF="http://www.annuna.net">http://www.annuna.net</A> &lt;<A HREF="http://www.annuna.net/">http://www.annuna.net/</A>&gt;
Visit us at: SLurl <A HREF="secondlife://Annuna%20Prime/121/106/22/">secondlife://Annuna%20Prime/121/106/22/</A> See you there.

Need a custom streaming solution? Need a stable and reliable shoutcast 
server?
Need some server system installed? We offer complete managed server 
systems and
connect them to your personal Second Life business. Streaming and/or 
databases.
Contact ANNUNA TECHNOLOGIES - send a message to Jabba Gruppman!


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002909.html">[Opensim-users] Multiple regions using 0.6.7
</A></li>
	<LI>Next message: <A HREF="002907.html">[Opensim-users] More 0.6.7 ... Re: Multiple regions using 0.6.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2903">[ date ]</a>
              <a href="thread.html#2903">[ thread ]</a>
              <a href="subject.html#2903">[ subject ]</a>
              <a href="author.html#2903">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
