<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Errors trying to use MySQL data with new
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Errors%20trying%20to%20use%20MySQL%20data%20with%20new&In-Reply-To=%3C62a72a690910280503l49c189c3nca89f4d4a591c824%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002985.html">
   <LINK REL="Next"  HREF="002987.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Errors trying to use MySQL data with new</H1>
    <B>Clive Gould</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Errors%20trying%20to%20use%20MySQL%20data%20with%20new&In-Reply-To=%3C62a72a690910280503l49c189c3nca89f4d4a591c824%40mail.gmail.com%3E"
       TITLE="[Opensim-users] Errors trying to use MySQL data with new">cliveg at gmail.com
       </A><BR>
    <I>Wed Oct 28 13:03:07 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002985.html">[Opensim-users] Errors trying to use MySQL data with new
</A></li>
        <LI>Next message: <A HREF="002987.html">[Opensim-users] Errors trying to use MySQL data with new
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2986">[ date ]</a>
              <a href="thread.html#2986">[ thread ]</a>
              <a href="subject.html#2986">[ subject ]</a>
              <a href="author.html#2986">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Kevin

Yes you're right - you obviously need to keep the database tables if
you want to keep the assets

I upgraded an existing installation, complete with the original
database (not a copy), without any problems.

I'm just wondering if something has gone wrong for you whilst copying
the database?

Clive

On Wed, Oct 28, 2009 at 11:43 AM, Kevin Buckley
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">kevin at buckley70.freeserve.co.uk</A>&gt; wrote:
&gt;<i> I meant I copied the v067 built (/bin) directory to the place where I want
</I>&gt;<i> it. &#160;Then I compared the original ini's with the v067 versions and amended
</I>&gt;<i> accordingly (using a fabulous programme called 'Beyond Compare' which I
</I>&gt;<i> highly recommend!).
</I>&gt;<i>
</I>&gt;<i> I then used MySQL administrator GUI to take a .sql snapshot of my current
</I>&gt;<i> database, created a new empty database (opensimtest) and 'restored' the
</I>&gt;<i> snapshot to it (and changed the appropriate entries in the ini files to now
</I>&gt;<i> point at opensimtest) - so that the new v067 build will have all my old
</I>&gt;<i> inventories and assets (substantial!).
</I>&gt;<i>
</I>&gt;<i> Surely, if I drop the tables from Opensimtest that will be like starting
</I>&gt;<i> from scratch with a world empty of assets?
</I>&gt;<i>
</I>&gt;<i> Cheers, Kevin
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Clive Gould [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">cliveg at gmail.com</A>]
</I>&gt;<i> Sent: 28 October 2009 11:05
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">kevin at buckley70.freeserve.co.uk</A>
</I>&gt;<i> Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> Subject: Re: [Opensim-users] Errors trying to use MySQL data with new
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi Kevin
</I>&gt;<i>
</I>&gt;<i> Are you trying to make a fresh install of 0.6.7, because if you are
</I>&gt;<i> the error messages suggest the database tables already exist.
</I>&gt;<i>
</I>&gt;<i> For a fresh install the database needs to exist but the tables should
</I>&gt;<i> not be there. Try dropping all the tables in the database before you
</I>&gt;<i> restart OpenSim.
</I>&gt;<i>
</I>&gt;<i> Also you say you've copied over the /bin directory - you only need to
</I>&gt;<i> copy over and modify where appropriate OpenSim.ini,
</I>&gt;<i> Regions/Regions.ini and any terrain files from the old version to the
</I>&gt;<i> new one.
</I>&gt;<i>
</I>&gt;<i> Good luck
</I>&gt;<i>
</I>&gt;<i> Clive
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Message: 8
</I>&gt;<i> Date: Wed, 28 Oct 2009 09:49:35 -0000
</I>&gt;<i> From: &quot;Kevin Buckley&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">kevin at buckley70.freeserve.co.uk</A>&gt;
</I>&gt;<i> Subject: [Opensim-users] Errors trying to use MySQL data with new
</I>&gt;<i> &#160; &#160; &#160; opensim release
</I>&gt;<i> To: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>&gt;
</I>&gt;<i> Message-ID: &lt;01a501ca57b3$f4f91ed0$deeb5c70$@freeserve.co.uk&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i> I am trying to use the latest v0.6.7-post release Opensim in standalone. &#160;I
</I>&gt;<i> have a 'production grid' which is based on the OSGrid downloadable (with the
</I>&gt;<i> ini files suitably changed) working with MySQL. &#160;This has been working well
</I>&gt;<i> for some time (but has some issues - well known).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I have:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> O Downloaded the latest 0.6.7 following the instructions provided by Clive
</I>&gt;<i> Gould, prebuilt and compiled it, copied the /bin directory to make a 'Test
</I>&gt;<i> Grid' and changed the ini's to reflect my MySQL settings
</I>&gt;<i>
</I>&gt;<i> O Made a snapshot of my Opensim MySQL database and created a new copy
</I>&gt;<i> (opensimtest) which is referenced in the 'Test Grid' Opensim ini's
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> When I try to run it I get a bunch of errors that look like this and it
</I>&gt;<i> terminates:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2009-10-28 09:30:23,490 INFO &#160;- OpenSim.Data.MySQL.MySQLManager [MYSQL]:
</I>&gt;<i> Connection established
</I>&gt;<i>
</I>&gt;<i> 2009-10-28 09:30:23,490 DEBUG - OpenSim.Data.MySQL.MySQLManager [REGION DB]:
</I>&gt;<i> Connection wait timeout 28860 seconds
</I>&gt;<i>
</I>&gt;<i> 2009-10-28 09:30:23,511 INFO &#160;- OpenSim.Data.Migration [MIGRATIONS]
</I>&gt;<i> Upgrading AssetStore to latest revision.
</I>&gt;<i>
</I>&gt;<i> 2009-10-28 09:30:23,511 INFO &#160;- OpenSim.Data.Migration [MIGRATIONS] NOTE:
</I>&gt;<i> this may take a while, don't interupt this process!
</I>&gt;<i>
</I>&gt;<i> 2009-10-28 09:30:23,631 ERROR - OpenSim.Server.Base.ServerUtils Error
</I>&gt;<i> loading plugin from OpenSim.Services.AssetService.dll, exception
</I>&gt;<i> MySql.Data.MySqlClient.MySqlException: Table 'assets' already exists
</I>&gt;<i>
</I>&gt;<i> &#160;at MySql.Data.MySqlClient.MySqlStream.OpenPacket()
</I>&gt;<i>
</I>&gt;<i> &#160;at MySql.Data.MySqlClient.NativeDriver.ReadResult(UInt64&amp; affectedRows,
</I>&gt;<i> Int64&amp; lastInsertId)
</I>&gt;<i>
</I>&gt;<i> &#160;at MySql.Data.MySqlClient.MySqlDataReader.GetResultSet()
</I>&gt;<i>
</I>&gt;<i> &#160;at MySql.Data.MySqlClient.MySqlDataReader.NextResult()
</I>&gt;<i>
</I>&gt;<i> &#160;at MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior
</I>&gt;<i> behavior)
</I>&gt;<i>
</I>&gt;<i> &#160;at MySql.Data.MySqlClient.MySqlCommand.ExecuteNonQuery()
</I>&gt;<i>
</I>&gt;<i> &#160;at OpenSim.Data.Migration.Update() in c:\Documents and
</I>&gt;<i> Settings\Kevin\opensim\OpenSim\Data\Migration.cs:line 141
</I>&gt;<i>
</I>&gt;<i> &#160;at OpenSim.Data.MySQL.MySQLAssetData.Initialise(String connect) in
</I>&gt;<i> c:\Documents and
</I>&gt;<i> Settings\Kevin\opensim\OpenSim\Data\MySQL\MySQLAssetData.cs:line 83
</I>&gt;<i>
</I>&gt;<i> &#160;at OpenSim.Services.AssetService.AssetServiceBase..ctor(IConfigSource
</I>&gt;<i> config) in c:\Documents and
</I>&gt;<i> Settings\Kevin\opensim\OpenSim\Services\AssetService\AssetServiceBase.cs:lin
</I>&gt;<i> e 80
</I>&gt;<i>
</I>&gt;<i> &#160;at OpenSim.Services.AssetService.AssetService..ctor(IConfigSource config)
</I>&gt;<i> in c:\Documents and
</I>&gt;<i> Settings\Kevin\opensim\OpenSim\Services\AssetService\AssetService.cs:line 46
</I>&gt;<i>
</I>&gt;<i> 2009-10-28 09:30:23,871 ERROR -
</I>&gt;<i> OpenSim.Region.CoreModules.ServiceConnectorsOut.Asset.LocalAssetServicesConn
</I>&gt;<i> ector [ASSET CONNECTOR]: Can't load asset service
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Any suggestions? - Thanks, Kevin
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002985.html">[Opensim-users] Errors trying to use MySQL data with new
</A></li>
	<LI>Next message: <A HREF="002987.html">[Opensim-users] Errors trying to use MySQL data with new
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2986">[ date ]</a>
              <a href="thread.html#2986">[ thread ]</a>
              <a href="subject.html#2986">[ subject ]</a>
              <a href="author.html#2986">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
