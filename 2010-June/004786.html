<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] SYSTEMIP and a repeated UseCircuitCode
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-June/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20SYSTEMIP%20and%20a%20repeated%20UseCircuitCode&In-Reply-To=%3C4C24E93B.7070503%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004781.html">
   <LINK REL="Next"  HREF="004762.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] SYSTEMIP and a repeated UseCircuitCode</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20SYSTEMIP%20and%20a%20repeated%20UseCircuitCode&In-Reply-To=%3C4C24E93B.7070503%40googlemail.com%3E"
       TITLE="[Opensim-users] SYSTEMIP and a repeated UseCircuitCode">jjustincc at gmail.com
       </A><BR>
    <I>Fri Jun 25 19:36:59 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004781.html">[Opensim-users] SYSTEMIP and a repeated UseCircuitCode
</A></li>
        <LI>Next message: <A HREF="004762.html">[Opensim-users] A groups Question on Opensim
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4786">[ date ]</a>
              <a href="thread.html#4786">[ thread ]</a>
              <a href="subject.html#4786">[ subject ]</a>
              <a href="author.html#4786">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/06/10 11:21, FoTo50 wrote:
&gt;<i> Am 23.06.2010 11:36, schrieb Marck:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> FoTo50 wrote:
</I>&gt;&gt;&gt;<i> On 23/06/2010 02:54, Justin Clark-Casey wrote:
</I>&gt;&gt;&gt;&gt;<i> On 22/06/10 18:52, FoTo50 wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> Can somebody tell me where I can find a possibility to set the
</I>&gt;&gt;&gt;&gt;&gt;<i> SYSTEMIP?
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I use Linux with several IP's and dont want to use the default IP for
</I>&gt;&gt;&gt;&gt;&gt;<i> opensim but an additional one. Even setting the subdomain to the
</I>&gt;&gt;&gt;&gt;&gt;<i> 2nd IP
</I>&gt;&gt;&gt;&gt;&gt;<i> and setting all values in the ini files to there, after startup I find
</I>&gt;&gt;&gt;&gt;&gt;<i> the following line in the opensim.log:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> INFO - OpenSim.OpenSim [NETWORK]: Using xx.xx.xx.228 as SYSTEMIP
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> ...but that's my default IP address.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> This caused for me big problems at login after a fresh install of
</I>&gt;&gt;&gt;&gt;&gt;<i> 0.6.9:
</I>&gt;&gt;&gt;&gt;&gt;<i> the login got stuck at the region handshake. In the log file I could
</I>&gt;&gt;&gt;&gt;&gt;<i> find always 3times the following line:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> WARN - OpenSim.Region.ClientStack.LindenUDP.LLUDPServer [LLUDPSERVER]:
</I>&gt;&gt;&gt;&gt;&gt;<i> Ignoring a repeated UseCircuitCode from
</I>&gt;&gt;&gt;&gt;&gt;<i> 723e059f-36be-45fb-8bc9-999efe5de9d5 at xx.xx.xx.xx:56000 for circuit
</I>&gt;&gt;&gt;&gt;&gt;<i> 340530339
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> and then the client (tried with Hippo and Imprudence) stopped.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> After setting the subdomain to the default IP, everything worked
</I>&gt;&gt;&gt;&gt;&gt;<i> fine. I
</I>&gt;&gt;&gt;&gt;&gt;<i> looked quite a lot, but could not find, where I can set this value
</I>&gt;&gt;&gt;&gt;&gt;<i> to my
</I>&gt;&gt;&gt;&gt;&gt;<i> desired IP address.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> This setting is in the bin/Regions/Regions.ini file. You can set it
</I>&gt;&gt;&gt;&gt;<i> directly to an IP address.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Regards,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;&gt;<i> Justin Clark-Casey (justincc)
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://justincc.org">http://justincc.org</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi Justin
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I tried that already, but this does not change the message (and
</I>&gt;&gt;&gt;<i> setting):
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> INFO - OpenSim.OpenSim [NETWORK]: Using xx.xx.xx.228 as SYSTEMIP
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> But it should be xx.xx.xx.236 which is the first additional IP address
</I>&gt;&gt;&gt;<i> at eth0 (btw. the OS is openSuSE 11.2 with Mono 2.4.2.3). It looks like
</I>&gt;&gt;&gt;<i> somehow it just takes the basic IP from eth0 and this obviously causes a
</I>&gt;&gt;&gt;<i> lack of comunication during the region handshake that results in a login
</I>&gt;&gt;&gt;<i> failure.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Greetings
</I>&gt;&gt;&gt;<i> Georg
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi George,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Did you actually do the following steps and still get the &quot;Using
</I>&gt;&gt;<i> xx.xx.xx.228&quot; message?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1) In RegionConfig.ini (or Regions.ini if OpenSim automatically
</I>&gt;&gt;<i> created the file), change the setting
</I>&gt;&gt;<i> ExternalHostName = SYSTEMIP
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> ExternalHostName = &quot;xx.xx.xx.236&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2) Restart the region.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Opensim-users mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi Marck
</I>&gt;<i>
</I>&gt;<i> I tried it with and without &quot;...&quot;, restarted the region(s) only or all 4
</I>&gt;<i> services (currently grid mode, but also happened when testing
</I>&gt;<i> standalone) - it doesnt make any change.
</I>&gt;<i>
</I>&gt;<i> But I'm also not sure if the error is to be located in the regions.ini.
</I>&gt;<i> I currently load 17 regions, so the SYSTEMIP message should also turn up
</I>&gt;<i> 17 times during startup, but it only shows once after all regions are
</I>&gt;<i> loaded at the end of the startup process right after &quot;INFO -
</I>&gt;<i> OpenSim.OpenSim [!]STARTUP COMPLETE&quot;, so it should be some server wide
</I>&gt;<i> setting somewhere ... or do I see that wrong?
</I>
Hi Marck.  As someone else pointed out, the SYSTEMIP message was printed out regardless of whether it was actually used 
or not.  In the latest OpenSim master (commit 2c4df19805f9) I've changed this so that it's only printed out when it's 
used for a region's external host name.  Therefore, if you're running this code and you don't have a SYSTEMIP in your 
region files then you should no longer see this message.

I suspect this is a red herring anyway and you're true problem is something else (as other posters have suggested).

-- 
Justin Clark-Casey (justincc)
<A HREF="http://justincc.org">http://justincc.org</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004781.html">[Opensim-users] SYSTEMIP and a repeated UseCircuitCode
</A></li>
	<LI>Next message: <A HREF="004762.html">[Opensim-users] A groups Question on Opensim
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4786">[ date ]</a>
              <a href="thread.html#4786">[ thread ]</a>
              <a href="subject.html#4786">[ subject ]</a>
              <a href="author.html#4786">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
