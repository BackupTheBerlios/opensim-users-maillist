<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Load Testing OpenSim
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2010-June/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Load%20Testing%20OpenSim&In-Reply-To=%3CAANLkTikg6g3G9FF68dC47kaT6xnzK8OSn7iUSiA0Vtql%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004782.html">
   <LINK REL="Next"  HREF="004790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Load Testing OpenSim</H1>
    <B>Karen Palen</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Load%20Testing%20OpenSim&In-Reply-To=%3CAANLkTikg6g3G9FF68dC47kaT6xnzK8OSn7iUSiA0Vtql%40mail.gmail.com%3E"
       TITLE="[Opensim-users] Load Testing OpenSim">karenpalensl at gmail.com
       </A><BR>
    <I>Thu Jun 24 23:02:06 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004782.html">[Opensim-users] Load Testing OpenSim
</A></li>
        <LI>Next message: <A HREF="004790.html">[Opensim-users] Load Testing OpenSim
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4783">[ date ]</a>
              <a href="thread.html#4783">[ thread ]</a>
              <a href="subject.html#4783">[ subject ]</a>
              <a href="author.html#4783">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>While I agree with your point that there are many aspects of performance
that need to be tested, your quote raises in interesting issue:

 &quot;I don't have good scenarios of what large numbers of avatars
realistically do in a region.&quot;


This would seem to be the essential key to this kind of &quot;stress test&quot;.

The large group of users congregating in one place does tend to have a lot
of visibility especially if perceived performance (e.g. lag) is observed to
degrade.

I have to wonder if there is not some way to observe and gather this
information in some objective way, if not for the current round of testing
then for some future use.

Karen

On Thu, Jun 24, 2010 at 11:05 AM, dz &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">dz at bitzend.net</A>&gt; wrote:

&gt;<i> Aloha!
</I>&gt;<i>
</I>&gt;<i> As someone who also uses bots to do a lot of my testing, I thought I'd
</I>&gt;<i> share my $.02....
</I>&gt;<i>
</I>&gt;<i> I'm not going to comment a lot about the overall usefulness of small scale
</I>&gt;<i> Load Tests.....  MrBlue had it right a couple posts ago when he said...
</I>&gt;<i>
</I>&gt;<i> Testing the load of a large number of clients requires a lot of
</I>&gt;<i> infrastructure -- multiple client systems and a lot of networking. That
</I>&gt;<i> makes stress testing difficult to set up and to create a portable, automated
</I>&gt;<i>
</I>&gt;<i> stress tester.
</I>&gt;<i>
</I>&gt;<i> Proper tests don't just pick one aspect of performance ( how many agents
</I>&gt;<i> does my console report in the region), but are designed to see how many
</I>&gt;<i> pieces in the complex system interact under stress. Another difficult aspect
</I>&gt;<i> of generalized tests is identifying which level of performance is
</I>&gt;<i> acceptable.   Load testing Currency Transfer routines is vastly different
</I>&gt;<i> from making sure all 4500 of your particles are properly rendered at 48
</I>&gt;<i> meters....  In this same way,  bots are NOT graphical viewers,  but they are
</I>&gt;<i> usefull tools for interacting with virtual spaces...so efforts to make them
</I>&gt;<i> better help us all.
</I>&gt;<i>
</I>&gt;<i> That being said,  I use both *TestClient*  (
</I>&gt;<i> <A HREF="http://lib.openmetaverse.org/wiki/TestClient">http://lib.openmetaverse.org/wiki/TestClient</A> ) and  *Radegast* (
</I>&gt;<i> <A HREF="http://radegastclient.org/wp/">http://radegastclient.org/wp/</A> ) based bots for my testing.   Radegast is
</I>&gt;<i> my favorite for a light weight client that lets me access a bot when I want
</I>&gt;<i> to interact with others or inventory.  All of the scripted testing I do is
</I>&gt;<i> via a TestClient based bot.  There are a number of reasons for this...
</I>&gt;<i> First.  it is simple to approximate loads close to &quot;real&quot; avatars.   Like
</I>&gt;<i> MrBlue says...
</I>&gt;<i>
</I>&gt;<i> I have found that TestClient bots that do something (walk around, chat), in
</I>&gt;<i> aggregate, give a load pretty close to a &quot;normal&quot; viewer load.  I have been
</I>&gt;<i> using scripts that start up groups of bots that walk around (waypoint to
</I>&gt;<i>
</I>&gt;<i> waypoint) but I don't have good scenarios of what large numbers of avatars
</I>&gt;<i> realistically do in a region.
</I>&gt;<i>
</I>&gt;<i> Second..  The scripting option makes it easier to devise simple tests.
</I>&gt;<i> When I have a script that uploads 100 textures, it can be repeated, timed,
</I>&gt;<i> and its success documented as the number of failed uploads.  It can also be
</I>&gt;<i> combined with scripts designed to stress other capabilities we expect as
</I>&gt;<i> users.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Here are some of the &quot;tests&quot;  I have designed and used.
</I>&gt;<i>
</I>&gt;<i> Logins -  automated login and logout of clients.  I have found that the
</I>&gt;<i> TestClient command /console gets cumbersome with more than 10 bots per
</I>&gt;<i> client.   I have scripts to log in groups of 10 and groups of 5.  Testing
</I>&gt;<i> involves logging in n groups of 5 or 10 to reach a specified avatar count.
</I>&gt;<i> Once they log in they TP to a particular place in the region and rebake
</I>&gt;<i> thier appearance. Performance is measured in % of successful logins
</I>&gt;<i> completed, Time for all the logins to complete, and the % of appearance
</I>&gt;<i> rebakes that complete.  If you just do THIS test to a remote server, you
</I>&gt;<i> will understand quickly that the only thing really stressed is your modem
</I>&gt;<i> and the network traffic police at your ISP,  Unless they charge you by the
</I>&gt;<i> Byte...
</I>&gt;<i>
</I>&gt;<i> Random Chat - Login 4 groups of 10 bots.   Position the groups in 4 corners
</I>&gt;<i> of the region.  Seat each of the bots on a poseball designed to switch
</I>&gt;<i> between poses every 25 seconds starting from when the bot sits down.  Every
</I>&gt;<i> time the pose changes, have the pose ball chat the name of the new pose.
</I>&gt;<i> This simulates groups of avatars changing animations and the load associated
</I>&gt;<i> with delivering and filtering chat messages.  Since it is difficult to
</I>&gt;<i> assign particular Success/Failure rates to this, I use it as &quot;background
</I>&gt;<i> noise&quot;...  How many bots can I have in region doing this while I can still
</I>&gt;<i> do &quot;my stuff&quot;
</I>&gt;<i>
</I>&gt;<i> Texture uploads - Create a scripted object in world to act as a timer.
</I>&gt;<i> Add loop in the timer event to send an IM to each bot, requesting it do a
</I>&gt;<i> texture upload.  Clone 1 for each of the bot groups.  Login 4 groups of 10
</I>&gt;<i> bots, sit them on the Random Chat poseballs  and have them accept IM
</I>&gt;<i> commands from the scripted prim.   Set the timer for 15 seconds,  this
</I>&gt;<i> should result in each bot getting an IM to upload a texture ( remember each
</I>&gt;<i> IM takes a second ).  Run this test over time...  It is simulating Asset
</I>&gt;<i> Database Additions,  Inventory updates,  In region IMs, inter-agent chats.
</I>&gt;<i> If you code your upload scripts right,  this can also be one way to get your
</I>&gt;<i> huge collection of textures loaded to a new grid :)
</I>&gt;<i>
</I>&gt;<i> Walking paths -  login groups of various sizes to corners of the region,
</I>&gt;<i> script them to walk in sync with their group from corner to corner in loops
</I>&gt;<i> while either adding more walking avatars or loads of other types.  I usually
</I>&gt;<i> start with groups of 10 in each corner.  They are lined up on spots 1 meter
</I>&gt;<i> apart, their HOME location set, and then the whole group is commanded in
</I>&gt;<i> sequence to walk the same path.  after I get 40 avatars walking around the
</I>&gt;<i> outer edge of the region, I add groups of 5 to a path closer to the center
</I>&gt;<i> of the region and send the next 20 avatars walking around the loop.  There
</I>&gt;<i> is something &quot;just right&quot; about seeing the lines of bots flowing around the
</I>&gt;<i> edge of the region, and its easy to see when things &quot;break down&quot;...
</I>&gt;<i> commands get delayed, and bots get off-track.  You start to lag and watch
</I>&gt;<i> them walk off the edge of the region into never never land.   The lag gets
</I>&gt;<i> so severe that it takes bots 5-10 times the amount of time it should to walk
</I>&gt;<i> from corner to corner...    Just makes you want to be a Linden &gt;wink&lt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> As a final word...   There is important work to be in the &quot;Capabilities&quot;
</I>&gt;<i> testing space that might be more productive at this point in the OpenSim
</I>&gt;<i> development cycle.   IMHO, individuals are a bigger help to the development
</I>&gt;<i> community if they spend more time building things they want in empty
</I>&gt;<i> regions, and pushing the platform capabilities, rather than testing the
</I>&gt;<i> capacity of an architecture that is undergoing revolutionary change..
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-users/attachments/20100624/1cce67fc/attachment.html">https://lists.berlios.de/pipermail/opensim-users/attachments/20100624/1cce67fc/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004782.html">[Opensim-users] Load Testing OpenSim
</A></li>
	<LI>Next message: <A HREF="004790.html">[Opensim-users] Load Testing OpenSim
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4783">[ date ]</a>
              <a href="thread.html#4783">[ thread ]</a>
              <a href="subject.html#4783">[ subject ]</a>
              <a href="author.html#4783">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
