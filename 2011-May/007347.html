<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-users] Opensim-users Digest, Vol 45,	Issue 32 (Vitaly Chashin)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-users/2011-May/index.html" >
   <LINK REL="made" HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Opensim-users%20Digest%2C%20Vol%2045%2C%0A%09Issue%2032%20%28Vitaly%20Chashin%29&In-Reply-To=%3C742131305473271%40web143.yandex.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007344.html">
   <LINK REL="Next"  HREF="007348.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-users] Opensim-users Digest, Vol 45,	Issue 32 (Vitaly Chashin)</H1>
    <B>&#1042;&#1080;&#1090;&#1072;&#1083;&#1080;&#1081; &#1060;&#1080;&#1094;&#1085;&#1077;&#1088;</B> 
    <A HREF="mailto:opensim-users%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-users%5D%20Opensim-users%20Digest%2C%20Vol%2045%2C%0A%09Issue%2032%20%28Vitaly%20Chashin%29&In-Reply-To=%3C742131305473271%40web143.yandex.ru%3E"
       TITLE="[Opensim-users] Opensim-users Digest, Vol 45,	Issue 32 (Vitaly Chashin)">wchf at yandex.ru
       </A><BR>
    <I>Sun May 15 17:27:51 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007344.html">[Opensim-users] minor: dummy groups module for stand alone...
</A></li>
        <LI>Next message: <A HREF="007348.html">[Opensim-users] Opensim-users Digest, Vol 45, Issue 32 (Vitaly Chashin)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7347">[ date ]</a>
              <a href="thread.html#7347">[ thread ]</a>
              <a href="subject.html#7347">[ subject ]</a>
              <a href="author.html#7347">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Jack,

Actually, there is one way to create something like a plugin.

As you may know, V2 uses HTML for some parts of interface, like Home Page. And, V2 interface is skin-based, so, for example, you could add your tab to the sidebar.
Than you could create some RIA interface (Flash/Silverlight), and connect it with OpenSim region module, which should provide some kind of web service endpoint.
I've tried this in my project, and it works. I've created a simple presentation screen, controlled from a tab in viewer sidebar.
You could even send some information about user (like username), than, just for example, track avatar position in world and change the RIA interfaces dynamically - but in that case you have to use something like WCF double binding.
The trouble is that the users have to install your customized skin for viewer. It's not a problem in a local enterprise network (my case), but with HG and public grids.... yes, it's a problem.

If you are interested, I could publish VS2010 template for region module with WCF interface (very simple), and three parts of such &quot;plugin&quot; - modified XML's for viewer skin, Silverlight application and OpenSim region module.

But, as it seems to me, it's really easy to create something like this without my bugs in code :)
                                                 Vitaly

15.05.2011, 12:20, <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-request at lists.berlios.de</A>:
&gt;<i> Send Opensim-users mailing list submissions to
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-request at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users-owner at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of Opensim-users digest...&quot;
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i> &#160;&#160;&#160;1. plugin/extension/module system for viewers? (Cider Jack)
</I>&gt;<i> &#160;&#160;&#160;2. AJET special issue: Virtual Worlds in Tertiary Education -
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;proposal deadline approaching (Lee, Mark)
</I>&gt;<i> &#160;&#160;&#160;3. Re: plugin/extension/module system for viewers? (DutchGlory)
</I>&gt;<i> &#160;&#160;&#160;4. Re: plugin/extension/module system for viewers? (Sean McNamara)
</I>&gt;<i> &#160;&#160;&#160;5. Traffic visualization (vehicles/ppl) showcase
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;(Marcus Alexander Link)
</I>&gt;<i> &#160;&#160;&#160;6. Re: plugin/extension/module system for viewers? (Toni Alatalo)
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Sun, 15 May 2011 14:22:11 +1200
</I>&gt;<i> From: Cider Jack &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">ciderjack.vw at gmail.com</A>&gt;;
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> Subject: [Opensim-users] plugin/extension/module system for viewers?
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">BANLkTimecFs5LjnEfMHcFOrJpTGjuovunQ at mail.gmail.com</A>&gt;;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1
</I>&gt;<i>
</I>&gt;<i> I know this is related to viewers rather than OpenSim directly and as
</I>&gt;<i> such may be completely inappropriate for this list, so please feel
</I>&gt;<i> free to ignore this!
</I>&gt;<i>
</I>&gt;<i> This has been on my mind for a few years now and I thought I would
</I>&gt;<i> just go ahead throw it out there -- Why hasn't there been some sort of
</I>&gt;<i> plugin/module system developed for Viewers? Something along the lines
</I>&gt;<i> of Firefox or Google Chrome's add-on/extension system comes to mind. I
</I>&gt;<i> would expect it to be simple to implement, and I can imagine all sorts
</I>&gt;<i> of community created tools for builders, avatar designers, scripters,
</I>&gt;<i> machinamists, terraforming, etc. that could greatly extend viewer
</I>&gt;<i> functionality &amp; customization! I can think of only four reasons this
</I>&gt;<i> hasn't happened:
</I>&gt;<i>
</I>&gt;<i> 1. Nobody building viewers has thought of it (I don't believe this!)
</I>&gt;<i> 2. Nobody has taken the time to implement it
</I>&gt;<i> 3. A technical reason makes it impossible
</I>&gt;<i> 4. SL's terms wouldn't allow the viewer to be used with SL (This
</I>&gt;<i> sounds most likely to me)
</I>&gt;<i>
</I>&gt;<i> Is there something I'm missing?
</I>&gt;<i>
</I>&gt;<i> In regards to number four, it's probably primarily based on a
</I>&gt;<i> combination of the dreaded CopyBot and the Emerald debacle. Perhaps a
</I>&gt;<i> central repository where the code can be reviewed before release
</I>&gt;<i> (again, like Firefox or Google Chrome) could prevent these sorts of
</I>&gt;<i> abuses. Additionally I suspect the viewer would only need a couple of
</I>&gt;<i> lines of code to load the plugins, and leaving the code out wouldn't
</I>&gt;<i> affect the viewer functionality, so two versions of the viewer could
</I>&gt;<i> be released - an extendable version, and the locked-down SL version,
</I>&gt;<i> which isolationist grids like InWorldz may insist on as well.
</I>&gt;<i>
</I>&gt;<i> Anyway, just pipe-dreaming here! :)
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> ~!CiderJack
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 2
</I>&gt;<i> Date: Sun, 15 May 2011 14:26:49 +1000
</I>&gt;<i> From: &quot;Lee, Mark&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">malee at csu.edu.au</A>&gt;;
</I>&gt;<i> To: &quot;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>&gt;;
</I>&gt;<i> Subject: [Opensim-users] AJET special issue: Virtual Worlds in
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Tertiary Education - proposal deadline approaching
</I>&gt;<i> Message-ID:
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">3B889EE9152F28429040ABDC2C606F2E08A9DA0476 at MAIL01.CSUMain.csu.edu.au</A>&gt;;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i> Dear colleagues,
</I>&gt;<i>
</I>&gt;<i> (Apologies once again for cross posting.)
</I>&gt;<i>
</I>&gt;<i> This is a reminder that proposals in the form of extended abstracts for the special issue of AJET on virtual Worlds in tertiary education are due on Monday, May 23, 2011.
</I>&gt;<i>
</I>&gt;<i> For more information, please see the Call for Articles at <A HREF="http://ascilite.org.au/ajet/about/special-issues/virtual-worlds-2012.html">http://ascilite.org.au/ajet/about/special-issues/virtual-worlds-2012.html</A> .
</I>&gt;<i>
</I>&gt;<i> Queries and expressions of interest can be directed to the Guest Editors, Mark J.W. Lee, Barney Dalgarno and Helen Farley at <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">ajet.virtualworlds at gmail.com.</A>
</I>&gt;<i>
</I>&gt;<i> *** About AJET ***
</I>&gt;<i> The Australasian Journal of Educational Technology (AJET) (ISSN: 1449-5554) is a refereed academic journal that publishes scholarly research and review articles in educational technology, ICT for education, online and e-learning, educational design, multimedia, computer-assisted learning, and related areas. AJET is the official publication of the Australasian Society for Computers in Learning in Tertiary Education (ascilite at <A HREF="http://www.ascilite.org.au/">http://www.ascilite.org.au/</A>). The journal was published under the title Australian Journal of Educational Technology from 1985 to 2004, after which it was renamed to its current title. In 2008, AJET became an online-only journal, and since that time has prided itself on being an open access publication.
</I>&gt;<i>
</I>&gt;<i> AJET's current Thomson Reuters Impact Factor is 1.278. It ranked 27 out of 139 journals in the 'Education &amp; Educational Research' category in the 2009 ISI Journal Citation Reports, making it one of the highest ranking educational technology journals.
</I>&gt;<i>
</I>&gt;<i> Kind regards,
</I>&gt;<i>
</I>&gt;<i> Mark J.W. Lee
</I>&gt;<i> Adjunct Senior Lecturer, School of Education, Charles Sturt University
</I>&gt;<i> Adjunct Senior Lecturer, DEHub research institute, University of New England
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 3
</I>&gt;<i> Date: Sat, 14 May 2011 22:14:05 -0700 (PDT)
</I>&gt;<i> From: DutchGlory &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">info at verwijs-pc.nl</A>&gt;;
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> Subject: Re: [Opensim-users] plugin/extension/module system for
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;viewers?
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">1305436444993-6364855.post at n2.nabble.com</A>&gt;;
</I>&gt;<i> Content-Type: text/plain; charset=us-ascii
</I>&gt;<i>
</I>&gt;<i> YES, make a plug-in for viewing mesh objects..!!! &#160;no more SL mesh beta
</I>&gt;<i> viewer...
</I>&gt;<i>
</I>&gt;<i> dutch
</I>&gt;<i>
</I>&gt;<i> -----
</I>&gt;<i> ______________________________________________
</I>&gt;<i> OpensimFan (twitter)
</I>&gt;<i> MetalFan (OSGRID)
</I>&gt;<i> Dutchlord (My Open Grid)
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://opensim-users.2152040.n2.nabble.com/plugin-extension-module-system-for-viewers-tp6364608p6364855.html">http://opensim-users.2152040.n2.nabble.com/plugin-extension-module-system-for-viewers-tp6364608p6364855.html</A>
</I>&gt;<i> Sent from the opensim-users mailing list archive at Nabble.com.
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 4
</I>&gt;<i> Date: Sun, 15 May 2011 02:02:06 -0400
</I>&gt;<i> From: Sean McNamara &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">smcnam at gmail.com</A>&gt;;
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> Subject: Re: [Opensim-users] plugin/extension/module system for
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;viewers?
</I>&gt;<i> Message-ID: &lt;BANLkTiktN2VxuiqGsr=<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">yRf59JpCifc3EaA at mail.gmail.com</A>&gt;;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On Sat, May 14, 2011 at 10:22 PM, Cider Jack &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">ciderjack.vw at gmail.com</A>&gt;; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;I know this is related to viewers rather than OpenSim directly and as
</I>&gt;&gt;<i> &#160;such may be completely inappropriate for this list, so please feel
</I>&gt;&gt;<i> &#160;free to ignore this!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;This has been on my mind for a few years now and I thought I would
</I>&gt;&gt;<i> &#160;just go ahead throw it out there -- Why hasn't there been some sort of
</I>&gt;&gt;<i> &#160;plugin/module system developed for Viewers? Something along the lines
</I>&gt;&gt;<i> &#160;of Firefox or Google Chrome's add-on/extension system comes to mind. I
</I>&gt;&gt;<i> &#160;would expect it to be simple to implement, and I can imagine all sorts
</I>&gt;&gt;<i> &#160;of community created tools for builders, avatar designers, scripters,
</I>&gt;&gt;<i> &#160;machinamists, terraforming, etc. that could greatly extend viewer
</I>&gt;&gt;<i> &#160;functionality &amp; customization! I can think of only four reasons this
</I>&gt;&gt;<i> &#160;hasn't happened:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;1. Nobody building viewers has thought of it (I don't believe this!)
</I>&gt;<i>
</I>&gt;<i> I myself have never thought of it before, but I wouldn't be surprised
</I>&gt;<i> if someone else has, indeed.
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;2. Nobody has taken the time to implement it
</I>&gt;<i>
</I>&gt;<i> This seems the most likely alternative to me.
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;3. A technical reason makes it impossible
</I>&gt;<i>
</I>&gt;<i> Nah, it's not impossible. Of course you'd have to use a dynamically
</I>&gt;<i> interpreted language for plugins, because the viewer is written in
</I>&gt;<i> C++, which compiles to native code. Distributing plugins as native
</I>&gt;<i> code is dangerous for two reasons: one, it's impossible to sandbox or
</I>&gt;<i> control what native code can do, and two, you can't possibly
</I>&gt;<i> distribute a plugin to be binary-compatible with every platform that
</I>&gt;<i> SL runs on. As soon as you claim that you have built a native plugin
</I>&gt;<i> that covers all the platforms, I will find a Linux distro where your
</I>&gt;<i> plugin doesn't link, or run SL on Solaris or BSD. So it has to be
</I>&gt;<i> platform-independent.
</I>&gt;<i>
</I>&gt;<i> So you could use JavaScript like Chrome/Firefox plugins do, or you
</I>&gt;<i> could pick up one of the many readily-available scripting languages
</I>&gt;<i> out there, like Lua, or you could build in something else entirely
</I>&gt;<i> (Java and C# are conceivably possible, but would add system
</I>&gt;<i> dependencies to the viewer: you'd have to have the Java runtime or a
</I>&gt;<i> .NET runtime or Mono installed, as the case may be).
</I>&gt;<i>
</I>&gt;<i> Despite it being possible rather than impossible, I can definitely say
</I>&gt;<i> that it wouldn't be, as you say, &quot;easy&quot;. Integrating a dynamically
</I>&gt;<i> interpreted scripting language and then designing a stable plugin API
</I>&gt;<i> is no walk in the park; just ask the developers who work on Firefox or
</I>&gt;<i> Chrome's plugin architecture. The biggest challenge would come in
</I>&gt;<i> supporting whatever plugin API you design over the lifetime of the
</I>&gt;<i> viewer, or properly versioning the plugin API in a way that doesn't
</I>&gt;<i> break too many plugins too often (Firefox does this).
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;4. SL's terms wouldn't allow the viewer to be used with SL (This
</I>&gt;&gt;<i> &#160;sounds most likely to me)
</I>&gt;<i>
</I>&gt;<i> Whether or not Linden Lab would find viewer plugins to be
</I>&gt;<i> objectionable is completely orthogonal to whether they should be
</I>&gt;<i> implemented. SL is just one grid; the fact that you're posting on the
</I>&gt;<i> opensim ML indicates you know that other grids exist and they're much
</I>&gt;<i> less strict. And no, I don't care a lick if InWorldz wants to lock
</I>&gt;<i> down peoples' viewers. All the other OpenSim grids I'm aware of are
</I>&gt;<i> very liberal about what viewers you're allowed to run, and what you're
</I>&gt;<i> allowed to do with them. Take OSgrid and 3rd rock for instance. There
</I>&gt;<i> are plenty of grids out there that will accept a viewer almost
</I>&gt;<i> completely regardless of what features that viewer has ( provided that
</I>&gt;<i> it doesn't attempt to attack the grid in some malicious way ). Thus we
</I>&gt;<i> don't need to give a crap about what the corporate grids want in order
</I>&gt;<i> to implement something. The software is open source.
</I>&gt;<i>
</I>&gt;<i> And besides that, I don't think that LL would have a fit about it. You
</I>&gt;<i> seem to be under the misconception that third party viewers are
</I>&gt;<i> carefully scrutinized and/or reviewed before they are allowed on the
</I>&gt;<i> SL grid. That's not the case. There are a few rules you have to follow
</I>&gt;<i> to host a third-party viewer, but you can more or less do what you
</I>&gt;<i> want with the code, and you don't have to get LL's permission. You
</I>&gt;<i> just can't break any laws or violate the terms of service. Shipping
</I>&gt;<i> plugins hardly does that.
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;Is there something I'm missing?
</I>&gt;<i>
</I>&gt;<i> The challenging part of this is to engineer a plugins API that is
</I>&gt;<i> useful, but not so expansive or general that it would (a) pose a
</I>&gt;<i> security risk to the user (stealing their password etc), or (b) allow
</I>&gt;<i> the plugin to do crazy things like provide mesh support (yes, I'm
</I>&gt;<i> replying to your message DutchGlory), which could never gain any
</I>&gt;<i> semblance of performance implemented in an interpreted scripting
</I>&gt;<i> language.
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;In regards to number four, it's probably primarily based on a
</I>&gt;&gt;<i> &#160;combination of the dreaded CopyBot and the Emerald debacle.
</I>&gt;<i>
</I>&gt;<i> No. If plugins are done properly, it won't be possible to do something
</I>&gt;<i> like a copybot, and the KDU thing will be completely irrelevant. You
</I>&gt;<i> have to sandbox plugins and implement the API in a way that nothing
</I>&gt;<i> inherently dangerous can happen. This is why you can install most
</I>&gt;<i> plugins on Google Chrome or Firefox without worry that it will steal
</I>&gt;<i> your passwords -- at least, not without your explicit consent. You
</I>&gt;<i> have to find the balance between flexibility and security.
</I>&gt;<i>
</I>&gt;<i> It's NOT an easy engineering problem, but it is feasible.
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;Perhaps a
</I>&gt;&gt;<i> &#160;central repository where the code can be reviewed before release
</I>&gt;&gt;<i> &#160;(again, like Firefox or Google Chrome) could prevent these sorts of
</I>&gt;&gt;<i> &#160;abuses. Additionally I suspect the viewer would only need a couple of
</I>&gt;&gt;<i> &#160;lines of code to load the plugins, and leaving the code out wouldn't
</I>&gt;&gt;<i> &#160;affect the viewer functionality, so two versions of the viewer could
</I>&gt;&gt;<i> &#160;be released - an extendable version, and the locked-down SL version,
</I>&gt;&gt;<i> &#160;which isolationist grids like InWorldz may insist on as well.
</I>&gt;<i>
</I>&gt;<i> If the plugin architecture is implemented with proper sandboxing, the
</I>&gt;<i> mainline LL viewer might even pick it up if it's particularly
</I>&gt;<i> well-done. But LL has a history of not accepting large feature
</I>&gt;<i> contributions from the community at large, so don't count on them
</I>&gt;<i> picking it up. That said, if it's done right, I bet at least
</I>&gt;<i> Imprudence, Phoenix and perhaps Hippo might pick it up.
</I>&gt;<i>
</I>&gt;<i> If I were to lay out a possible approach for this, I'd say we could
</I>&gt;<i> start with QtScript or Lua integration into the viewer. QtScript
</I>&gt;<i> provides JavaScript support, and is specifically designed to help you
</I>&gt;<i> create an extension language for your app; and, it's written in C++ (a
</I>&gt;<i> huge plus considering the rest of the viewer is). The license is
</I>&gt;<i> compatible with the license of the viewer as long as we don't have to
</I>&gt;<i> make modifications to Qt itself.
</I>&gt;<i>
</I>&gt;<i> But now that I've strayed completely off the topic of this list, I'd
</I>&gt;<i> say that you should bring this up with the Imprudence developers for
</I>&gt;<i> starters. Don't go to Linden Lab because they will say &quot;show us the
</I>&gt;<i> code or be quiet&quot;, essentially. They have their own feature roadmap
</I>&gt;<i> that operates more or less independently of what the community wants,
</I>&gt;<i> but since the viewer is open source, we've got the power to implement
</I>&gt;<i> anything we want to.
</I>&gt;<i>
</I>&gt;<i> Sean
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;Anyway, just pipe-dreaming here! :)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;Cheers,
</I>&gt;&gt;<i> &#160;~!CiderJack
</I>&gt;&gt;<i> &#160;_______________________________________________
</I>&gt;&gt;<i> &#160;Opensim-users mailing list
</I>&gt;&gt;<i> &#160;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> &#160;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 5
</I>&gt;<i> Date: Sun, 15 May 2011 09:20:00 +0200
</I>&gt;<i> From: Marcus Alexander Link &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">manupool at gmail.com</A>&gt;;
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> Subject: [Opensim-users] Traffic visualization (vehicles/ppl) showcase
</I>&gt;<i> Message-ID: &lt;BANLkTikH=<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">y2+LyeJcZ8U_n58cxAEJCerNQ at mail.gmail.com</A>&gt;;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1
</I>&gt;<i>
</I>&gt;<i> Hi everyone,
</I>&gt;<i>
</I>&gt;<i> i am looking for a Traffic planning/Traffic visualization
</I>&gt;<i> (vehicles/ppl) showcase.
</I>&gt;<i> Would it make sense to use OpenSimulator for such a project, or is it
</I>&gt;<i> just me - who want to use OpenSim as platform for everything ^^
</I>&gt;<i>
</I>&gt;<i> Thx,
</I>&gt;<i> &#160;Marcus
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 6
</I>&gt;<i> Date: Sun, 15 May 2011 11:20:45 +0300
</I>&gt;<i> From: Toni Alatalo &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">toni at playsign.net</A>&gt;;
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">opensim-users at lists.berlios.de</A>
</I>&gt;<i> Subject: Re: [Opensim-users] plugin/extension/module system for
</I>&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;viewers?
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">F7B06E15-306F-4A35-A452-39FEC23BDD47 at playsign.net</A>&gt;;
</I>&gt;<i> Content-Type: text/plain; charset=us-ascii
</I>&gt;<i>
</I>&gt;<i> On May 15, 2011, at 9:02 AM, Sean McNamara wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;On Sat, May 14, 2011 at 10:22 PM, Cider Jack &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">ciderjack.vw at gmail.com</A>&gt;; wrote:
</I>&gt;&gt;&gt;<i> &#160;This has been on my mind for a few years now and I thought I would
</I>&gt;&gt;&gt;<i> &#160;just go ahead throw it out there -- Why hasn't there been some sort of
</I>&gt;&gt;&gt;<i> &#160;plugin/module system developed for Viewers? Something along the lines
</I>&gt;<i>
</I>&gt;<i> We did this by developing a modular viewer, Naali. It has a module system somewhat similar to Opensim, but in C++.
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> &#160;2. Nobody has taken the time to implement it
</I>&gt;&gt;<i> &#160;This seems the most likely alternative to me.
</I>&gt;<i>
</I>&gt;<i> It did take us a couple of years :)
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;Nah, it's not impossible. Of course you'd have to use a dynamically
</I>&gt;&gt;<i> &#160;interpreted language for plugins, because the viewer is written in
</I>&gt;&gt;<i> &#160;C++, which compiles to native code. Distributing plugins as native
</I>&gt;&gt;<i> &#160;code is dangerous for two reasons: one, it's impossible to sandbox or
</I>&gt;<i>
</I>&gt;<i> Naali supports currently C++ modules, Python add-ons, but for custom functionality, most significantly Javascript which is loaded from the web.
</I>&gt;<i>
</I>&gt;<i> The support for interpreted languages was made exactly was this reason -- dealing with native code addons is much more hairy.
</I>&gt;<i>
</I>&gt;<i> The C++ module system is still highly useful. For one, by using it for almost all functionality, many of the things are optional. For example the Bullet physics library, which is integrated in one module (yes, works on the viewer side too, which is often *very* useful). Also people sometimes need to do custom stuff in native code for special applications, which can be useful even if that is made in some special module that doesn't need to be distributed.
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;interpreted scripting language and then designing a stable plugin API
</I>&gt;&gt;<i> &#160;is no walk in the park; just ask the developers who work on Firefox or
</I>&gt;&gt;<i> &#160;Chrome's plugin architecture. The biggest challenge would come in
</I>&gt;&gt;<i> &#160;supporting whatever plugin API you design over the lifetime of the
</I>&gt;&gt;<i> &#160;viewer, or properly versioning the plugin API in a way that doesn't
</I>&gt;&gt;<i> &#160;break too many plugins too often (Firefox does this).
</I>&gt;<i>
</I>&gt;<i> We think we are close to freezing the first step of the API now, to declare it 1.0. It is documented in <A HREF="http://www.realxtend.org/doxygen/">http://www.realxtend.org/doxygen/</A>
</I>&gt;<i>
</I>&gt;<i> It still takes us at least some weeks anyway to make the last currently planned breaking changes. so now is a good time to give feedback if something seems wrong.
</I>&gt;<i>
</I>&gt;<i> This API is indeed similar to the W3C standardized DOM in web browser. In web browsers, the Javascript scope has things like 'document' and 'window'. In this virtual world browser, instead, there is 'scene' which has all the entities (prims on the opensim side) etc. And renderer which you can use for raycast etc.
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;The challenging part of this is to engineer a plugins API that is
</I>&gt;&gt;<i> &#160;useful, but not so expansive or general that it would (a) pose a
</I>&gt;&gt;<i> &#160;security risk to the user (stealing their password etc), or (b) allow
</I>&gt;&gt;<i> &#160;the plugin to do crazy things like provide mesh support (yes, I'm
</I>&gt;&gt;<i> &#160;replying to your message DutchGlory), which could never gain any
</I>&gt;&gt;<i> &#160;semblance of performance implemented in an interpreted scripting
</I>&gt;&gt;<i> &#160;language.
</I>&gt;<i>
</I>&gt;<i> We believe a good way to advance standardization etc. is to implement stuff, so now there is a working implementation out, even in production use, so we can really evaluate and test all these problems.
</I>&gt;<i>
</I>&gt;<i> Security is certainly a huge deal. I did the basics to sandbox our JS API in December, to protect from basic attacks known from the browser land, but it certainly needs more review still. It is now made so that remotely loaded JS code shouldn't be able to get system access in any way.
</I>&gt;<i>
</I>&gt;<i> Prim support in Naali is in c++, actually predates really working Python or Javascript support. Possibly is best to remain in c++ too.
</I>&gt;<i>
</I>&gt;<i> But some quite central things, like avatars and cameras, are now ported from C++ to Javascript. No performance problems there, it's not like you have thousands of them around in your scene. Object editing has been in Python since the beginning (was the original benchmark for the scripting API: i figured that if doing basic object editing is possible in a script, then also making games is easily possible).
</I>&gt;<i>
</I>&gt;<i> Also in the current Tundra 1.0.6 release, the whole UI (which looks like a web browser) is implemented in Javascript now. Naali 0.4 still has a largely c++ written UI (with some Python tools).
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;If I were to lay out a possible approach for this, I'd say we could
</I>&gt;&gt;<i> &#160;start with QtScript or Lua integration into the viewer. QtScript
</I>&gt;&gt;<i> &#160;provides JavaScript support, and is specifically designed to help you
</I>&gt;&gt;<i> &#160;create an extension language for your app; and, it's written in C++ (a
</I>&gt;&gt;<i> &#160;huge plus considering the rest of the viewer is). The license is
</I>&gt;<i>
</I>&gt;<i> This is exactly how we've done it in Naali too.
</I>&gt;<i>
</I>&gt;<i> The other guys originally used GTK for first UI tests, just to get debug info of the from-the-scratch written LLUDP implementation (Naali is BSD style apache licensed, no Linden code, respects the Opensim contributions policy). I was experimenting with adding Python support just manually first, to better know what kind of a tool would need for the job.
</I>&gt;<i>
</I>&gt;<i> Then we decided to use QT for UI, just to get something for good 2d widgets. Soon I learned about qtscript (and the similar pythonqt) which indeed use the qobject metadata mechanism for automatic exposing of c++ things to scripting, so we went with that and have during the past 1,5years ported all the modules, entity-components etc. to QObjects. So the same API works for c++, py and js. Lua could be easily added in a new c++ module, using QtLua. Then for the security reasons for remotely loaded code, only selected parts are available in the context for those (and new contexts are easy to make for different purposes, e.g. to support LSL style where a script can only see the own object).
</I>&gt;<i>
</I>&gt;<i> BTW: the JS system is not (only) a plugin / addon system, but it is also the way to make applications. It is identical to how web works as an app platform: besides getting static data from the servers, the viewer downloads also executable code as a part of the service. This way any sim can implement whatever kind of client side functionality, e.g. UI dialogs, mouse&amp;keyboard handling etc. it wants.
</I>&gt;<i>
</I>&gt;<i> Some examples:
</I>&gt;<i> the current free camera: <A HREF="https://github.com/realXtend/naali/blob/tundra/bin/jsmodules/camera/freelookcamera.js">https://github.com/realXtend/naali/blob/tundra/bin/jsmodules/camera/freelookcamera.js</A>
</I>&gt;<i> This default camera is instanciated by startup/cameraapplication.js so is always there by default.
</I>&gt;<i>
</I>&gt;<i> client side chat UI: <A HREF="https://github.com/realXtend/naali/blob/tundra/bin/scenes/ChatApplication/ChatApplication.js#L237">https://github.com/realXtend/naali/blob/tundra/bin/scenes/ChatApplication/ChatApplication.js#L237</A> .
</I>&gt;<i> This is typically loaded from the server, if the service you connect to has decided to have a chat feature.
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;say that you should bring this up with the Imprudence developers for
</I>&gt;&gt;<i> &#160;starters. Don't go to Linden Lab because they will say &quot;show us the
</I>&gt;&gt;<i> &#160;code or be quiet&quot;, essentially. They have their own feature roadmap
</I>&gt;<i>
</I>&gt;<i> You could show Linden our code, I don't know if they've looked at it :)
</I>&gt;<i>
</I>&gt;<i> But yah, I've bugged the Imprudence devs about this periodically .. well more late last year, when they said the time was immature as they had a lot to do with basics, but they hoped to get to this later.
</I>&gt;<i>
</I>&gt;<i> I guess there's two options for those who want this: a) try to do this on the SLviewer base b) join the Naali effort, where it's already made, to help getting missing SL features (or whatever features you need, that you typically use with Opensim) there. One benefit of Naali is that it's a normal open source project, like Opensim, not controlled by any single company, and has a liberal license compatible with Opensimulator itself. But sure SLviewer has a lot of nice functionality, is quite interesting if we'd get this in e.g. Imprudence too.
</I>&gt;<i>
</I>&gt;&gt;<i> &#160;Sean
</I>&gt;<i>
</I>&gt;<i> ~Toni
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> &#160;Anyway, just pipe-dreaming here! :)
</I>&gt;<i>
</I>&gt;<i> No pipe dreaming, it is already the reality, and quite normal (web browsers have had this for long, so why not vw viewers).
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> &#160;Cheers,
</I>&gt;&gt;&gt;<i> &#160;~!CiderJack
</I>&gt;&gt;&gt;<i> &#160;_______________________________________________
</I>&gt;&gt;&gt;<i> &#160;Opensim-users mailing list
</I>&gt;&gt;&gt;<i> &#160;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> &#160;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;&gt;<i> &#160;_______________________________________________
</I>&gt;&gt;<i> &#160;Opensim-users mailing list
</I>&gt;&gt;<i> &#160;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;&gt;<i> &#160;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">Opensim-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-users">https://lists.berlios.de/mailman/listinfo/opensim-users</A>
</I>&gt;<i>
</I>&gt;<i> End of Opensim-users Digest, Vol 45, Issue 32
</I>&gt;<i> *********************************************
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007344.html">[Opensim-users] minor: dummy groups module for stand alone...
</A></li>
	<LI>Next message: <A HREF="007348.html">[Opensim-users] Opensim-users Digest, Vol 45, Issue 32 (Vitaly Chashin)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7347">[ date ]</a>
              <a href="thread.html#7347">[ thread ]</a>
              <a href="subject.html#7347">[ subject ]</a>
              <a href="author.html#7347">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-users">More information about the Opensim-users
mailing list</a><br>
</body></html>
